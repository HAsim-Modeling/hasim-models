
----------
nikhil      Date: Mon Jun 23 16:25:03 CDT 2008  CSN: CSN-hasim-models-2
                  Mon Jun 23 21:25:03 UTC 2008


Directory config/pm/hasim-models
 5stage/                   Locally Added               0 

Directory config/pm/hasim-models/5stage
 5stage_hybrid_exe.apm     Locally Added               0 

Directory modules
 hasim/                    Locally Added               0 

Directory modules/hasim
 timing-models/            Locally Added               0 

Directory modules/hasim/timing-models
 inorder/                  Locally Added               0 

Directory modules/hasim/timing-models/inorder
 CPU.bsv                   Locally Added               0 
 5stage.awb                Locally Added               0 
 Fetch.bsv                 Locally Added               0 
 PipelineTypes.bsv         Locally Added               0 
 WriteBack.bsv             Locally Added               0 
 Mem.bsv                   Locally Added               0 
 Execute.bsv               Locally Added               0 
 Decode.bsv                Locally Added               0 


Five stage pipeline model using StallPorts.

Probably doesn't work yet.

----------
nikhil      Date: Tue Jun 24 12:44:04 CDT 2008  CSN: CSN-hasim-models-3
                  Tue Jun 24 17:44:04 UTC 2008


Directory config/pm/hasim-models/5stage
 5stage_hybrid_exe.apm     Locally Modified            2 

Directory modules/hasim/timing-models/inorder
 5stage.awb                Locally Modified            2 
 Fetch.bsv                 Locally Modified            2 
 WriteBack.bsv             Locally Modified            2 
 Mem.bsv                   Locally Modified            2 
 Execute.bsv               Locally Modified            2 
 Decode.bsv                Locally Modified            2 

Make hasim_cpu a synthesis boundary.
Needed to change some enum names to avoid namespace collision.

----------
nikhil      Date: Thu Jun 26 14:08:56 CDT 2008  CSN: CSN-hasim-models-4
Thu Jun 26 19:08:56 UTC 2008


Directory modules/hasim/timing-models/inorder
CPU.bsv                   Locally Modified            3 
5stage.awb                Locally Modified            3 
Fetch.bsv                 Locally Modified            3 
PipelineTypes.bsv         Locally Modified            3 
WriteBack.bsv             Locally Modified            3 
Mem.bsv                   Locally Modified            3 
Execute.bsv               Locally Modified            3 
Decode.bsv                Locally Modified            3 

- Several bugfixes in the new fivestage model.
- Passes hello and memory_tests_aligned, however the datapath debug output is
  different from unpipelined(!!)

----------
nikhil      Date: Thu Jun 26 14:12:38 CDT 2008  CSN: CSN-hasim-models-5
                  Thu Jun 26 19:12:38 UTC 2008


Directory modules/hasim/timing-models/inorder
 DebugFile.bsv             Locally Added               0 

DebugFile: module to aid debugging

----------
nikhil      Date: Fri Jun 27 18:40:33 CDT 2008  CSN: CSN-hasim-models-6
                  Fri Jun 27 23:40:33 UTC 2008


Directory config/pm/hasim-models
 inorder/                  Locally Added               0 

Directory config/pm/hasim-models/inorder
 inorder_alpha_exe.apm     Locally Added               0 
 inorder_alpha_htg.apm     Locally Added               0 
 inorder_smips_exe.apm     Locally Added               0 
 inorder_smips_htg.apm     Locally Added               0 

Directory config/pm/hasim-models
 5stage/                   Locally Removed             5 

Directory config/pm/hasim-models/5stage
 5stage_hybrid_exe.apm     Locally Removed             5 

Directory modules/hasim/timing-models/inorder
 5stage.awb                Locally Removed             5 
 inorder.awb               Locally Added               0 

- changed the new pipeline model name to "inorder" instead of "5stage"
- added apms for smips
- added apms for HTG-v5-PCIe

----------

----------
abhattac    Date: Wed Jul  2 17:05:19 EDT 2008  CSN: CSN-hasim-models-7
                  Wed Jul  2 21:05:19 UTC 2008


Directory config/pm/hasim-models/inorder
 inorder_alpha_exe.apm     Locally Modified            6 
 inorder_alpha_htg.apm     Locally Modified            6 
 inorder_smips_exe.apm     Locally Modified            6 
 inorder_smips_htg.apm     Locally Modified            6 

Directory config/pm/hasim-models
 unpipelined-with-cache/   Locally Added               0 

Directory config/pm/hasim-models/unpipelined-with-cache
 alpha_unpipelined_with_cache_exe.apm Locally Added               0 

Directory admin
 mytags                    Locally Modified            6 

Directory modules/hasim/timing-models/inorder
 CPU.bsv                   Locally Modified            6 
 Fetch.bsv                 Locally Modified            6 
 inorder.awb               Locally Modified            6 

Directory modules/hasim/timing-models
 caches/                   Locally Added               0 

Directory modules/hasim/timing-models/caches
 icache.awb                Locally Added               0 
 ICache.bsv                Locally Added               0 
 ICache.direct.bsv         Locally Added               0 

Directory modules/hasim/timing-models
 replacement-algorithms/   Locally Added               0 

Directory modules/hasim/timing-models/replacement-algorithms
 LRU.awb                   Locally Added               0 
 LRU.bsv                   Locally Added               0 

Directory modules/hasim/timing-models
 unpipelined-with-cache/   Locally Added               0 

Directory modules/hasim/timing-models/unpipelined-with-cache
 unpipelined_cpu.dic       Locally Added               0 
 unpipelined_cpu.awb       Locally Added               0 
 UnpipelinedCPU.bsv        Locally Added               0 

Directory modules/hasim/timing-models
 memory/                   Locally Added               0 

Directory modules/hasim/timing-models/memory
 memory.awb                Locally Added               0 
 CacheMemory.bsv           Locally Added               0 

Directory .
 changes                   Locally Modified            6 

Checked in Instruction Cache integration with Unpipelined
Model. ICache is direct-mapped and blocking. CPU uses 0 latency APorts
to communicate with Cache module. The Cache module uses 10 latency
APorts to communicate with dummy memory module on a cache miss.The
Also modified in-order pipeline model to integrate this ICache. 
----------
mcadler     Date: Thu Jul  3 16:27:02 EDT 2008  CSN: CSN-hasim-models-8
                  Thu Jul  3 20:27:02 UTC 2008


Directory modules/hasim/timing-models/inorder
 WriteBack.bsv             Locally Modified            7 

Directory modules/hasim/timing-models/unpipelined-with-cache
 UnpipelinedCPU.bsv        Locally Modified            7 

Add a commit message to the controller so heartbeat can calculate IPC.

----------
mcadler     Date: Thu Jul  3 16:32:16 EDT 2008  CSN: CSN-hasim-models-9
                  Thu Jul  3 20:32:16 UTC 2008


Directory admin/packages
 hasim-models              Locally Modified            8 

Depend in hasim

----------
nikhil      Date: Tue Jul  8 14:12:58 CDT 2008  CSN: CSN-hasim-models-10
                  Tue Jul  8 19:12:58 UTC 2008


Directory modules/hasim/timing-models/inorder
 DebugFile.bsv             Locally Modified            9 
 Fetch.bsv                 Locally Modified            9 
 WriteBack.bsv             Locally Modified            9 
 Mem.bsv                   Locally Modified            9 
 inorder.awb               Locally Modified            9 
 Execute.bsv               Locally Modified            9 
 Decode.bsv                Locally Modified            9 

- added model cycle count to the debug files generated by the inorder
  models.
- connected the PortCtrl interfaces of StallPorts to the local
  controller. This prevents the timing model from issuing requests
  until the dynamic parameters have been initialized. The more correct
  way of doing this would be to add guards to the dynamic paramters,
  but this works for now, and probably saves some luts.
- fixed bug in Fetch; the icache req & resp a-ports were being
  accessed atomically in one rule. This deadlocks when both a-ports
  are 0-delay (which they are right now.)
- replaced $display's in Fetch by the DebugFile method calls.

----------
nikhil      Date: Tue Jul  8 14:42:14 CDT 2008  CSN: CSN-hasim-models-11
                  Tue Jul  8 19:42:14 UTC 2008


Directory config/pm/hasim-models
 inorder/                  Locally Removed             9 

Directory config/pm/hasim-models/inorder
 inorder_alpha_exe.apm     Locally Removed             9 
 inorder_alpha_htg.apm     Locally Removed             9 
 inorder_smips_exe.apm     Locally Removed             9 
 inorder_smips_htg.apm     Locally Removed             9 

moved apms for inorder from hasim-models repository to the hasim-{alpha,smips} repos.

----------
mvijayar    Date: Tue Jul  8 16:58:13 EDT 2008  CSN: CSN-hasim-models-12
                  Tue Jul  8 20:58:13 UTC 2008


Directory config/pm/hasim-models
 out-of-order/             Locally Added               0 

Directory config/pm/hasim-models/out-of-order
 out-of-order.apm          Locally Added               0 

Directory modules/hasim/timing-models
 out-of-order/             Locally Added               0 

Directory modules/hasim/timing-models/out-of-order
 DebugFile.bsv             Locally Added               0 
 CPU.bsv                   Locally Added               0 
 Fetch.bsv                 Locally Added               0 
 PipelineTypes.bsv         Locally Added               0 
 WriteBack.bsv             Locally Added               0 
 Mem.bsv                   Locally Added               0 
 out-of-order.awb          Locally Added               0 
 Execute.bsv               Locally Added               0 
 Decode.bsv                Locally Added               0 


----------
abhattac    Date: Wed Jul  9 15:57:45 EDT 2008  CSN: CSN-hasim-models-13
                  Wed Jul  9 19:57:45 UTC 2008


Directory config/pm/hasim-models/unpipelined-with-cache
 alpha_unpipelined_with_cache_exe.apm Locally Modified           12 

Directory modules/hasim/timing-models/caches
 icache.awb                Locally Removed            12 
 ICache.bsv                Locally Removed            12 
 direct-mapped-icache/     Locally Added               0 

Directory modules/hasim/timing-models/caches/direct-mapped-icache
 direct_mapped_icache.awb  Locally Added               0 
 ICacheDirectMapped.bsv    Locally Added               0 

Directory modules/hasim/timing-models/caches
 set-associative-icache/   Locally Added               0 

Directory modules/hasim/timing-models/caches/set-associative-icache
 set_associative_icache.awb Locally Added               0 
 ICacheSetAssoc.bsv        Locally Added               0 

Directory modules/hasim/timing-models/caches
 ICache.direct.bsv         Locally Removed            12 

Directory modules/hasim/timing-models/unpipelined-with-cache
 UnpipelinedCPU.bsv        Locally Modified           12 

Directory modules/hasim/timing-models/memory
 CacheMemory.bsv           Locally Modified           12 

Modified cache interface by splitting response from cache to CPU into
two APorts. One APort is used to indicate an immediate response and
the other one is used to provide data that has been serviced on a
cache miss. Cache response also provides the ISA_ADDRESS corresponding
to each miss type.
Added module for a set-associative cache. Currently operates on a
simple round-robin replacement algorithm.
Modified AWB files to set cache parameters through AWB.
----------
nikhil      Date: Wed Jul  9 16:11:06 CDT 2008  CSN: CSN-hasim-models-14
                  Wed Jul  9 21:11:06 UTC 2008


Directory modules/hasim/timing-models/inorder
 Fetch.bsv                 Locally Modified           13 

- changed Fetch to adhere to modification in cache interface.
- fixed bug in handling rewind during an icache miss.
- inorder_alpha_exe now passes memory_tests_aligned.

----------
nikhil      Date: Wed Jul  9 19:51:56 CDT 2008  CSN: CSN-hasim-models-15
                  Thu Jul 10 00:51:56 UTC 2008


Directory modules/hasim/timing-models/caches/set-associative-icache
 ICacheSetAssoc.bsv        Locally Modified           13 

minor: removed an erroneously commented line in ICacheSetAssoc.bsv

----------
mcadler     Date: Thu Jul 10 15:58:42 EDT 2008  CSN: CSN-hasim-models-16
                  Thu Jul 10 19:58:42 UTC 2008


Directory modules/hasim/timing-models/caches/direct-mapped-icache
 ICacheDirectMapped.bsv    Locally Modified           15 

Use virtual address size for now, since the model doesn't yet have a way
to ask about address translation.

----------
nikhil      Date: Thu Jul 10 15:36:02 CDT 2008  CSN: CSN-hasim-models-17
                  Thu Jul 10 20:36:02 UTC 2008


Directory modules/hasim/timing-models/inorder
 execute.dic               Locally Added               0 
 decode.dic                Locally Added               0 
 Fetch.bsv                 Locally Modified           16 
 WriteBack.bsv             Locally Modified           16 
 Mem.bsv                   Locally Modified           16 
 fetch.dic                 Locally Added               0 
 writeback.dic             Locally Added               0 
 inorder.awb               Locally Modified           16 
 Execute.bsv               Locally Modified           16 
 Decode.bsv                Locally Modified           16 
 mem.dic                   Locally Added               0 

added events & stats to the inorder model

----------
abhattac    Date: Sat Jul 12 00:47:46 EDT 2008  CSN: CSN-hasim-models-18
                  Sat Jul 12 04:47:46 UTC 2008


Directory config/pm/hasim-models/unpipelined-with-cache
 alpha_unpipelined_with_cache_exe.apm Locally Modified           17 

Directory modules/hasim/timing-models/caches
 cache-types/              Locally Added               0 

Directory modules/hasim/timing-models/caches/cache-types
 icache_types.awb          Locally Added               0 
 ICacheTypes.bsv           Locally Added               0 

Directory modules/hasim/timing-models/caches/direct-mapped-icache
 direct_mapped_icache.awb  Locally Modified           17 
 ICacheDirectMapped.bsv    Locally Modified           17 

Directory modules/hasim/timing-models/caches/set-associative-icache
 set_associative_icache.awb Locally Modified           17 
 ICacheSetAssoc.bsv        Locally Modified           17 

Directory modules/hasim/timing-models/replacement-algorithms
 LRU.awb                   Locally Modified           17 
 LRU.bsv                   Locally Modified           17 

Directory modules/hasim/timing-models/unpipelined-with-cache
 UnpipelinedCPU.bsv        Locally Modified           17 

Added an ICacheTypes.bsv file holding to include cache configuration
parameters in multiple modules of the ICache. Created a mkReplacement
module to account for replacement policies for the set-associative
ICache. Currently implemented LRU as a possible replacement
policy. LRU has been tested with the Unpipelined CPU model and passes
the memory tests. Also modified Unpipelined CPU to yield correct IPC
in the stats dump. 
----------
nikhil      Date: Tue Jul 15 13:55:28 CDT 2008  CSN: CSN-hasim-models-19
                  Tue Jul 15 18:55:28 UTC 2008


Directory modules/hasim/timing-models/inorder
 CPU.bsv                   Locally Modified           18 
 Fetch.bsv                 Locally Modified           18 
 PipelineTypes.bsv         Locally Modified           18 
 Execute.bsv               Locally Modified           18 
 BranchPredictor.bsv       Locally Added               0 
 inorder.awb               Locally Modified           18 
 Decode.bsv                Locally Modified           18 

added a simple branch predictor to the inorder model.

----------
nikhil      Date: Tue Jul 15 23:52:03 CDT 2008  CSN: CSN-hasim-models-20
                  Wed Jul 16 04:52:03 UTC 2008


Directory modules/hasim/timing-models/inorder
 DebugFile.bsv             Locally Modified           18 

bugfix in DebugFile. Since synthesis tool cannot perform fopen, the
file descriptor remains uninitialized, and rules cannot fire, causing
the synthesis tool to filter them out.

----------
mcadler     Date: Wed Jul 16 18:31:49 EDT 2008  CSN: CSN-hasim-models-21
                  Wed Jul 16 22:31:49 UTC 2008


Directory modules/hasim/timing-models/inorder
 Execute.bsv               Locally Modified           20 

funcp_getResults now returns a struct with enough information to deal with
redirecting of taken and not-taken branches.  In addition to taken branch
targets it also includes the address and size of the current instruction.

----------
abhattac    Date: Sat Jul 19 16:41:40 EDT 2008  CSN: CSN-hasim-models-22
                  Sat Jul 19 20:41:40 UTC 2008


Directory config/pm/hasim-models/unpipelined-with-cache
 alpha_unpipelined_with_cache_exe.apm Locally Modified           21 

Directory modules/hasim/timing-models/caches/cache-types
 dcache_types.awb          Locally Added               0 
 DCacheTypes.bsv           Locally Added               0 

Directory modules/hasim/timing-models/caches/direct-mapped-icache
 direct_mapped_icache.awb  Locally Modified           21 
 ICacheDirectMapped.bsv    Locally Modified           21 

Directory modules/hasim/timing-models/caches/set-associative-icache
 set_associative_icache.awb Locally Modified           21 
 ICacheSetAssoc.bsv        Locally Modified           21 

Directory modules/hasim/timing-models/caches
 write-through-dcache/     Locally Added               0 

Directory modules/hasim/timing-models/caches/write-through-dcache
 direct-mapped-write-through-dcache/ Locally Added               0 

Directory modules/hasim/timing-models/caches/write-through-dcache/direct-mapped-write-through-dcache
 DCacheDirectMappedWriteThrough.bsv.bk Locally Added               0 
 direct_mapped_write_through_dcache.awb Locally Added               0 
 DCacheDirectMappedWriteThrough.bsv Locally Added               0 

Directory modules/hasim/timing-models/caches/write-through-dcache
 direct-mapped-writeback-dcache/ Locally Added               0 

Directory modules/hasim/timing-models/caches/write-through-dcache/direct-mapped-writeback-dcache
 direct_mapped_writeback_dcache.awb Locally Added               0 
 DCacheDirectMappedWriteback.bsv Locally Added               0 

Directory modules/hasim/timing-models/unpipelined-with-cache
 unpipelined_cpu.awb       Locally Modified           21 
 UnpipelinedCPU.bsv        Locally Modified           21 

Directory modules/hasim/timing-models/memory
 memory.awb                Locally Removed            21 
 CacheMemory.bsv           Locally Removed            21 
 dcachememory.awb          Locally Added               0 
 DCacheMemory.bsv          Locally Added               0 
 icachememory.awb          Locally Added               0 
 ICacheMemory.bsv          Locally Added               0 

Added separate dummy memory modules for ICache and DCache. Modified
direct-mapped and set-associative ICache to service requests from the
CPU despite processing a previous miss in the background. Added a
write-through direct mapped data cache that currently takes one input
port. A future modification will be the separation of speculative
input ports and commit input ports.
Modified unpipeline module to deal with new ICache in conjunction with
DCache.
Created a separate DCache types file to gather paramerization of the
DCache infrastructure.
Modified cache interface to take both the PC and the address
referenced for reads and writes to the data cache.
----------
mcadler     Date: Mon Jul 21 16:40:11 EDT 2008  CSN: CSN-hasim-models-23
                  Mon Jul 21 20:40:11 UTC 2008


Directory config/pm/hasim-models
 5stage/                   Locally Added               0 

Directory config/pm/hasim-models/5stage
 5stage-simple.apm         Locally Added               0 

Directory modules/hasim/timing-models
 structures/               Locally Added               0 

Directory modules/hasim/timing-models/structures
 branch/                   Locally Added               0 

Directory modules/hasim/timing-models/structures/branch
 target_buffer/            Locally Added               0 

Directory modules/hasim/timing-models/structures/branch/target_buffer
 oneEntry/                 Locally Added               0 

Directory modules/hasim/timing-models/structures/branch/target_buffer/oneEntry
 TargetBuffer.awb          Locally Added               0 
 TargetBuffer.bsv          Locally Added               0 

Directory modules/hasim/timing-models/structures/branch/target_buffer
 multiEntry/               Locally Added               0 

Directory modules/hasim/timing-models/structures/branch/target_buffer/multiEntry
 TargetBuffer.awb          Locally Added               0 
 TargetBuffer.bsv          Locally Added               0 

Directory modules/hasim/timing-models/structures/branch
 stack/                    Locally Added               0 

Directory modules/hasim/timing-models/structures/branch/stack
 1entry/                   Locally Added               0 

Directory modules/hasim/timing-models/structures/branch/stack/1entry
 BranchStack.awb           Locally Added               0 
 BranchStack.bsv           Locally Added               0 

Directory modules/hasim/timing-models/structures/branch/stack
 infinite/                 Locally Added               0 

Directory modules/hasim/timing-models/structures/branch/stack/infinite
 BranchStack.awb           Locally Added               0 
 BranchStack.bsv           Locally Added               0 

Directory modules/hasim/timing-models/structures/branch
 predictor/                Locally Added               0 

Directory modules/hasim/timing-models/structures/branch/predictor
 2bit/                     Locally Added               0 

Directory modules/hasim/timing-models/structures/branch/predictor/2bit
 BranchPred.awb            Locally Added               0 
 BranchPred.bsv            Locally Added               0 

Directory modules/hasim/timing-models/structures/branch/predictor
 taken/                    Locally Added               0 

Directory modules/hasim/timing-models/structures/branch/predictor/taken
 BranchPred.awb            Locally Added               0 
 BranchPred.bsv            Locally Added               0 

Directory modules/hasim/timing-models/structures/branch/predictor
 notTaken/                 Locally Added               0 

Directory modules/hasim/timing-models/structures/branch/predictor/notTaken
 BranchPred.awb            Locally Added               0 
 BranchPred.bsv            Locally Added               0 

Directory modules/hasim/timing-models/structures/branch/predictor
 globHistory/              Locally Added               0 

Directory modules/hasim/timing-models/structures/branch/predictor/globHistory
 BranchPred.awb            Locally Added               0 
 BranchPred.bsv            Locally Added               0 

Directory modules/hasim/timing-models/structures/branch/predictor
 simple/                   Locally Added               0 

Directory modules/hasim/timing-models/structures/branch/predictor/simple
 BranchPred.awb            Locally Added               0 
 BranchPred.bsv            Locally Added               0 

Directory modules/hasim/timing-models
 cpu/                      Locally Added               0 

Directory modules/hasim/timing-models/cpu
 5-stage/                  Locally Added               0 

Directory modules/hasim/timing-models/cpu/5-stage
 execute.dic               Locally Added               0 
 CPU.bsv                   Locally Added               0 
 decode.dic                Locally Added               0 
 5stage-interfaces.awb     Locally Added               0 
 Fetch.bsv                 Locally Added               0 
 5stage-interfaces.bsv     Locally Added               0 
 Writeback.bsv             Locally Added               0 
 5stage-cpu.awb            Locally Added               0 
 fetch.dic                 Locally Added               0 
 Mem.bsv                   Locally Added               0 
 writeback.dic             Locally Added               0 
 Execute.bsv               Locally Added               0 
 Decode.bsv                Locally Added               0 
 mem.dic                   Locally Added               0 

Move 5 stage model from hasim-mips here.  Also moved branch predictors
and a few other structures.  5 stage model is now a single awb file since
it is supposed to be a simple example.

----------
mvijayar    Date: Tue Jul 22 15:09:35 EDT 2008  CSN: CSN-hasim-models-24
                  Tue Jul 22 19:09:35 UTC 2008


Directory config/pm/hasim-models
 out-of-order/             Locally Removed            23 

Directory config/pm/hasim-models/out-of-order
 out-of-order.apm          Locally Removed            23 

Directory modules/hasim/timing-models/out-of-order
 DebugFile.bsv             Locally Modified           23 
 CPU.bsv                   Locally Modified           23 
 Commit.bsv                Locally Added               0 
 Fetch.bsv                 Locally Modified           23 
 BandwidthPort.bsv         Locally Added               0 
 PipelineTypes.bsv         Locally Modified           23 
 Mem.bsv                   Locally Modified           23 
 out-of-order.awb          Locally Modified           23 
 Alu.bsv                   Locally Added               0 
 GetResults.bsv            Locally Added               0 
 Rob.bsv                   Locally Added               0 
 Decode.bsv                Locally Modified           23 

The out of order model. Documentation to follow


----------
abhattac    Date: Fri Jul 25 16:34:46 EDT 2008  CSN: CSN-hasim-models-25
                  Fri Jul 25 20:34:46 UTC 2008


Directory config/pm/hasim-models/unpipelined-with-cache
 alpha_unpipelined_with_cache_exe.apm Locally Modified           24 

Directory modules/hasim/timing-models/caches/direct-mapped-icache
 ICacheDirectMapped.bsv    Locally Modified           24 

Directory modules/hasim/timing-models/caches
 write-through-dcache/     Locally Removed            24 

Directory modules/hasim/timing-models/caches/write-through-dcache
 direct-mapped-write-through-dcache/ Locally Removed            24 

Directory modules/hasim/timing-models/caches/write-through-dcache/direct-mapped-write-through-dcache
 DCacheDirectMappedWriteThrough.bsv.bk Locally Removed            24 
 direct_mapped_write_through_dcache.awb Locally Removed            24 
 DCacheDirectMappedWriteThrough.bsv Locally Removed            24 

Directory modules/hasim/timing-models/caches/write-through-dcache
 direct-mapped-writeback-dcache/ Locally Removed            24 

Directory modules/hasim/timing-models/caches/write-through-dcache/direct-mapped-writeback-dcache
 direct_mapped_writeback_dcache.awb Locally Removed            24 
 DCacheDirectMappedWriteback.bsv Locally Removed            24 

Directory modules/hasim/timing-models/unpipelined-with-cache
 UnpipelinedCPU.bsv        Locally Modified           24 

Deleted dcache structure due to reorganization
----------
abhattac    Date: Fri Jul 25 16:52:46 EDT 2008  CSN: CSN-hasim-models-25
                  Fri Jul 25 20:52:46 UTC 2008


Directory config/pm/hasim-models/unpipelined-with-cache
 alpha_unpipelined_with_cache_exe.apm Locally Modified           24 

Directory admin
 mytags                    Locally Modified           24 

Directory admin/packages
 hasim-models              Locally Modified           24 

Directory modules/hasim/timing-models/caches/direct-mapped-icache
 ICacheDirectMapped.bsv    Locally Modified           24 

Directory modules/hasim/timing-models/caches
 write-through-dcache/     Locally Removed            24 

Directory modules/hasim/timing-models/caches/write-through-dcache
 direct-mapped-write-through-dcache/ Locally Removed            24 

Directory modules/hasim/timing-models/caches/write-through-dcache/direct-mapped-write-through-dcache
 DCacheDirectMappedWriteThrough.bsv.bk Locally Removed            24 
 direct_mapped_write_through_dcache.awb Locally Removed            24 
 DCacheDirectMappedWriteThrough.bsv Locally Removed            24 

Directory modules/hasim/timing-models/caches/write-through-dcache
 direct-mapped-writeback-dcache/ Locally Removed            24 

Directory modules/hasim/timing-models/caches/write-through-dcache/direct-mapped-writeback-dcache
 direct_mapped_writeback_dcache.awb Locally Removed            24 
 DCacheDirectMappedWriteback.bsv Locally Removed            24 

Directory modules/hasim/timing-models/unpipelined-with-cache
 UnpipelinedCPU.bsv        Locally Modified           24 

Directory .
 changes                   Locally Modified           24 

Reorganization of data cache files. Unpipelined model with cache
changed to include data cache.
----------
abhattac    Date: Fri Jul 25 16:57:46 EDT 2008  CSN: CSN-hasim-models-26
                  Fri Jul 25 20:57:46 UTC 2008


Directory modules/hasim/timing-models/caches/direct-mapped-dcache
 direct-mapped-writethrough-dcache/ Locally Added               0 

Directory modules/hasim/timing-models/caches/direct-mapped-dcache/direct-mapped-writethrough-dcache
 direct_mapped_write_through_dcache.awb Locally Added               0 
 DCacheDirectMappedWriteThrough.bsv Locally Added               0 

Directory modules/hasim/timing-models/caches
 direct-mapped-dcache/     Locally Added               0 

Added direct-mapped, write-through data cache code. Data cache has two
ports (one of which handles loads and the other commits
stores). During stall times, miss retry signals and invalids are sent
back to the pipeline as appropriate. It is assumed that a separate
store buffer module will be created to take care of the effects of
speculative stores and will deal with corresponding aliasing issues.
----------
abhattac    Date: Fri Jul 25 17:21:34 EDT 2008  CSN: CSN-hasim-models-27
                  Fri Jul 25 21:21:34 UTC 2008


Directory config/pm/hasim-models/unpipelined-with-cache
 alpha_unpipelined_with_cache_exe.apm Locally Modified           25 

Modified .apm file to include data cache module.
----------
abhattac    Date: Sat Jul 26 03:27:33 EDT 2008  CSN: CSN-hasim-models-28
                  Sat Jul 26 07:27:33 UTC 2008


Directory config/pm/hasim-models/unpipelined-with-cache
 alpha_unpipelined_with_cache_exe.apm Locally Modified           27 

Directory modules/hasim/timing-models/caches/direct-mapped-dcache/direct-mapped-writethrough-dcache
 DCacheDirectMappedWriteThrough.bsv Locally Modified           27 

Directory modules/hasim/timing-models/unpipelined-with-cache
 UnpipelinedCPU.bsv        Locally Modified           27 

Fixed unpipelined model to feed correct address to the data cache.
----------
abhattac    Date: Sat Jul 26 04:23:21 EDT 2008  CSN: CSN-hasim-models-29
                  Sat Jul 26 08:23:21 UTC 2008


Directory modules/hasim/timing-models/caches/direct-mapped-dcache/direct-mapped-writeback-dcache
 direct_mapped_write_through_dcache.awb Locally Removed            26 
 DCacheDirectMappedWriteThrough.bsv Locally Removed            26 

Deleting previous file structure of the writeback cache. 
----------
abhattac    Date: Sat Jul 26 04:36:42 EDT 2008  CSN: CSN-hasim-models-30
                  Sat Jul 26 08:36:42 UTC 2008


Directory modules/hasim/timing-models/caches/direct-mapped-dcache
 direct-mapped-writethrough-dcache/ Locally Added               0 

Directory modules/hasim/timing-models/caches/direct-mapped-dcache/direct-mapped-writethrough-dcache
 direct_mapped_write_through_dcache.awb Locally Added               0 
 DCacheDirectMappedWriteThrough.bsv Locally Added               0 

Updated write-through data cache
----------
abhattac    Date: Sat Jul 26 04:38:53 EDT 2008  CSN: CSN-hasim-models-31
                  Sat Jul 26 08:38:53 UTC 2008


Directory modules/hasim/timing-models/caches/direct-mapped-dcache/direct-mapped-writeback-dcache
 direct_mapped_write_back_dcache.awb Locally Added               0 
 DCacheDirectMappedWriteBack.bsv Locally Added               0 

Directory modules/hasim/timing-models/caches/direct-mapped-dcache
 direct-mapped-writeback-dcache/ Locally Added               0 

Added write-back direct-mapped data cache. Similar to the
write-through version apart from an additional flush rule which is
used to write dirty cache lines to memory before line refill. Has been
tested to work correctly with the Unpipelined model. 
----------
mcadler     Date: Sun Jul 27 10:13:13 EDT 2008  CSN: CSN-hasim-models-32
                  Sun Jul 27 14:13:13 UTC 2008


Directory modules/hasim/timing-models/cpu/5-stage
 Fetch.bsv                 Locally Modified           31 

Dynamic parameter ring changes.

----------
abhattac    Date: Thu Jul 31 15:26:30 EDT 2008  CSN: CSN-hasim-models-33
                  Thu Jul 31 19:26:30 UTC 2008


Directory config/pm/hasim-models/unpipelined-with-cache
 alpha_unpipelined_with_cache_exe.apm Locally Modified           32 

Directory modules/hasim/timing-models/inorder
 Fetch.bsv                 Locally Modified           32 

Directory modules/hasim/timing-models/caches/direct-mapped-dcache/direct-mapped-writethrough-dcache
 DCacheDirectMappedWriteThrough.bsv Locally Modified           32 

Directory modules/hasim/timing-models/caches/direct-mapped-dcache/direct-mapped-writeback-dcache
 DCacheDirectMappedWriteBack.bsv Locally Modified           32 

Directory modules/hasim/timing-models/caches/cache-types
 dcache_types.awb          Locally Modified           32 
 icache_types.awb          Locally Modified           32 

Directory modules/hasim/timing-models/caches/direct-mapped-icache
 ICacheDirectMapped.bsv    Locally Modified           32 

Directory modules/hasim/timing-models/caches/set-associative-icache
 ICacheSetAssoc.bsv        Locally Modified           32 

Directory modules/hasim/timing-models/caches
 null-caches/              Locally Added               0 

Directory modules/hasim/timing-models/caches/null-caches
 NullICache.bsv            Locally Added               0 
 null_dcache.awb           Locally Added               0 
 NullDCache.bsv            Locally Added               0 
 null_icache.awb           Locally Added               0 

Directory modules/hasim/timing-models/memory
 DCacheMemory.bsv          Locally Modified           32 
 ICacheMemory.bsv          Locally Modified           32 

Modified all cache modules to make the cache miss penalty a static
parameter. Also created null ICache and DCache modules for model
creation with perfect hit rates.
----------
mpellaue    Date: Fri Aug  1 19:52:36 EDT 2008  CSN: CSN-hasim-models-34
                  Fri Aug  1 23:52:36 UTC 2008


Directory modules/hasim/timing-models/inorder
 Fetch.bsv                 Locally Modified           33 
 Execute.bsv               Locally Modified           33 
 WriteBack.bsv             Locally Modified           33 
 Mem.bsv                   Locally Modified           33 
 Decode.bsv                Locally Modified           33 

Directory modules/hasim/timing-models/cpu/5-stage
 Fetch.bsv                 Locally Modified           33 
 Writeback.bsv             Locally Modified           33 
 Mem.bsv                   Locally Modified           33 
 Execute.bsv               Locally Modified           33 
 Decode.bsv                Locally Modified           33 


* Updated inorder and 5-stage models to the new interface. Neither model does anything with the physical address yet.

Michael P.

----------
abhattac    Date: Sat Aug  2 01:27:39 EDT 2008  CSN: CSN-hasim-models-35
                  Sat Aug  2 05:27:39 UTC 2008


Directory config/pm/hasim-models/unpipelined-with-cache
 alpha_unpipelined_with_cache_exe.apm Locally Modified           34 

Directory modules/hasim/timing-models/caches/direct-mapped-dcache/direct-mapped-writeback-dcache
 DCacheDirectMappedWriteBack.bsv Locally Modified           34 

Directory modules/hasim/timing-models/caches
 set-associative-dcache/   Locally Added               0 

Directory modules/hasim/timing-models/caches/set-associative-dcache
 set-associative-writeback-dcache/ Locally Added               0 

Directory modules/hasim/timing-models/caches/set-associative-dcache/set-associative-writeback-dcache
 DCacheSetAssocWriteBack.bsv Locally Added               0 
 set_associative_write_back_dcache.awb Locally Added               0 

Directory modules/hasim/timing-models/caches/set-associative-icache
 set_associative_icache.awb Locally Modified           34 
 ICacheSetAssoc.bsv        Locally Modified           34 

Directory modules/hasim/timing-models/caches/null-caches
 NullICache.bsv            Locally Modified           34 
 NullDCache.bsv            Locally Modified           34 

Directory modules/hasim/timing-models/replacement-algorithms
 dcache/                   Locally Added               0 

Directory modules/hasim/timing-models/replacement-algorithms/dcache
 dcache_lru.awb            Locally Added               0 
 DCacheLRU.bsv             Locally Added               0 

Directory modules/hasim/timing-models/replacement-algorithms
 LRU.awb                   Locally Removed            34 
 LRU.bsv                   Locally Removed            34 
 icache/                   Locally Added               0 

Directory modules/hasim/timing-models/replacement-algorithms/icache
 icache_lru.awb            Locally Added               0 
 ICacheLRU.bsv             Locally Added               0 

Addded set-associative write-back blocking data cache. This design
uses two distinct ports for the loads and stores. The design
necessitated the creation of a replacement algorithm module for the
data cache. Currently, this is implemented with an LRU module. 
The Null cache modules have also been adjusted to fix a couple of
import errors.
The ICache set-associative model has also been adjusted to fix
existing bugs as has the DCache direct-mapped module. 
----------
abhattac    Date: Tue Aug  5 11:09:02 EDT 2008  CSN: CSN-hasim-models-36
                  Tue Aug  5 15:09:02 UTC 2008


Directory modules/hasim/timing-models/caches/direct-mapped-dcache/direct-mapped-writeback-dcache
 DCacheDirectMappedWriteBack.bsv Locally Modified           35 

Directory modules/hasim/timing-models/caches/direct-mapped-icache
 direct_mapped_icache.awb  Locally Modified           35 
 ICacheDirectMapped.bsv    Locally Modified           35 
 direct_mapped_icache.dic  Locally Added               0 

Directory modules/hasim/timing-models/caches/set-associative-icache
 set_associative_icache.dic Locally Added               0 
 set_associative_icache.awb Locally Modified           35 
 ICacheSetAssoc.bsv        Locally Modified           35 

Directory modules/hasim/timing-models/replacement-algorithms/dcache
 dcache_lru.awb            Locally Modified           35 

Directory modules/hasim/timing-models/replacement-algorithms/icache
 icache_lru.awb            Locally Modified           35 

Added statistics to the ICache (direct mapped and
set-associative). Also fixed bugs in the ICache code.
----------
abhattac    Date: Tue Aug  5 13:30:11 EDT 2008  CSN: CSN-hasim-models-37
                  Tue Aug  5 17:30:11 UTC 2008


Directory modules/hasim/timing-models/caches/set-associative-dcache/set-associative-writeback-dcache
 DCacheSetAssocWriteBack.bsv Locally Modified           35 

Fixed bug in set-associative dcache. When handling both a commited
store and a load request, the data cache now ensures that only one can
be serviced at a time since it is purely blocking.
----------
nikhil      Date: Tue Aug  5 15:12:40 CDT 2008  CSN: CSN-hasim-models-38
                  Tue Aug  5 20:12:40 UTC 2008


Directory modules/hasim/timing-models/inorder
 StoreBuffer.bsv           Locally Added               0 
 CPU.bsv                   Locally Modified           37 
 PipelineTypes.bsv         Locally Modified           37 
 Execute.bsv               Locally Modified           37 
 WriteBack.bsv             Locally Modified           37 
 Mem.bsv                   Locally Modified           37 
 inorder.awb               Locally Modified           37 
 Decode.bsv                Locally Modified           37 

Directory modules/hasim/timing-models/caches/direct-mapped-dcache/direct-mapped-writeback-dcache
 DCacheDirectMappedWriteBack.bsv Locally Modified           37 

Directory modules/hasim/timing-models/caches/set-associative-dcache/set-associative-writeback-dcache
 DCacheSetAssocWriteBack.bsv Locally Modified           37 

Directory modules/hasim/timing-models/caches/set-associative-icache
 ICacheSetAssoc.bsv        Locally Modified           37 

- data-cache integrated into inorder model.
- a simple (3-entry fully associative) storebuffer module added to inorder model.
- fixed some typos etc. in the dcache modules.

----------
mpellaue    Date: Wed Aug  6 16:36:33 EDT 2008  CSN: CSN-hasim-models-39
                  Wed Aug  6 20:36:33 UTC 2008


Directory modules/hasim/timing-models/inorder
 Decode.bsv                Locally Modified           38 


Added support for isaDrainBefore/isaDrainAfter. Nikhil should look this change over.

Michael P.

----------
mvijayar    Date: Wed Aug  6 21:55:18 EDT 2008  CSN: CSN-hasim-models-40
                  Thu Aug  7 01:55:18 UTC 2008


Directory modules/hasim/timing-models/out-of-order
 Commit.bsv                Locally Modified           39 
 Fetch.bsv                 Locally Modified           39 
 PipelineTypes.bsv         Locally Modified           39 
 Mem.bsv                   Locally Modified           39 
 Alu.bsv                   Locally Modified           39 
 GetResults.bsv            Locally Modified           39 
 Rob.bsv                   Locally Modified           39 
 Decode.bsv                Locally Modified           39 

Uses the new funcp interface


----------
abhattac    Date: Fri Aug  8 01:35:34 EDT 2008  CSN: CSN-hasim-models-41
                  Fri Aug  8 05:35:34 UTC 2008


Directory modules/hasim/timing-models/caches/direct-mapped-dcache/direct-mapped-writethrough-dcache
 direct_mapped_write_through_dcache.dic Locally Added               0 
 direct_mapped_write_through_dcache.awb Locally Modified           40 
 DCacheDirectMappedWriteThrough.bsv Locally Modified           40 

Directory modules/hasim/timing-models/caches/direct-mapped-dcache/direct-mapped-writeback-dcache
 direct_mapped_write_back_dcache.dic Locally Added               0 
 direct_mapped_write_back_dcache.awb Locally Modified           40 
 DCacheDirectMappedWriteBack.bsv Locally Modified           40 

Directory modules/hasim/timing-models/caches/set-associative-dcache/set-associative-writeback-dcache
 DCacheSetAssocWriteBack.bsv Locally Modified           40 
 set_associative_write_back_dcache.dic Locally Added               0 
 set_associative_write_back_dcache.awb Locally Modified           40 

Fixed bug on DCache involving case of a simultaneous read on the
speculative port and write on the commit port.
Also added statistics to all data cache modules.
----------
mvijayar    Date: Tue Aug 12 18:43:47 EDT 2008  CSN: CSN-hasim-models-44
                  Tue Aug 12 22:43:47 UTC 2008


Directory modules/hasim/timing-models/structures/branch/predictor/globHistory
 BranchPred.bsv            Locally Modified           43 

Directory modules/hasim/timing-models/caches/direct-mapped-dcache/direct-mapped-writeback-dcache
 DCacheDirectMappedWriteBack.bsv Locally Modified           43 

Directory modules/hasim/timing-models/caches/direct-mapped-dcache/direct-mapped-writethrough-dcache
 DCacheDirectMappedWriteThrough.bsv Locally Modified           43 

Directory modules/hasim/timing-models/caches/direct-mapped-icache
 ICacheDirectMapped.bsv    Locally Modified           43 

Directory modules/hasim/timing-models/caches/set-associative-dcache/set-associative-writeback-dcache
 DCacheSetAssocWriteBack.bsv Locally Modified           43 

Directory modules/hasim/timing-models/caches/null-caches
 NullDCache.bsv            Locally Modified           43 

Directory modules/hasim/timing-models/memory
 DCacheMemory.bsv          Locally Modified           43 
 ICacheMemory.bsv          Locally Modified           43 

Changed the hierachy to contain:
system
    chip(s)
        core(s)
            pipeline
            (l1 caches)
        shared memory
    off chip memory [ unfortunately called memory now ]

() for options

Created submodels for each architecture

----------
mvijayar    Date: Tue Aug 12 18:51:41 EDT 2008  CSN: CSN-hasim-models-45
                  Tue Aug 12 22:51:41 UTC 2008


Directory modules/hasim/timing-models/caches/l2-cache
 hasim_shared_cache.awb    Locally Added               0 
 L2Cache.bsv               Locally Added               0 

Directory modules/hasim/timing-models/caches
 l2-cache/                 Locally Added               0 

Directory modules/hasim/timing-models/caches/l1-caches
 L1Cache.bsv               Locally Added               0 
 hasim_l1_caches.awb       Locally Added               0 

Directory modules/hasim/timing-models/caches
 l1-caches/                Locally Added               0 

Directory modules/hasim/timing-models/memory
 memory.awb                Locally Added               0 
 Memory.bsv                Locally Added               0 

Directory modules/hasim/timing-models/chip
 Chip.bsv                  Locally Added               0 
 hasim_chip.awb            Locally Added               0 

Directory modules/hasim/timing-models
 chip/                     Locally Added               0 

Directory modules/hasim/timing-models/pipeline
 inorder/                  Locally Added               0 

Directory modules/hasim/timing-models/pipeline/inorder
 StoreBuffer.bsv           Locally Added               0 
 decode.dic                Locally Added               0 
 Fetch.bsv                 Locally Added               0 
 PipelineTypes.bsv         Locally Added               0 
 fetch.dic                 Locally Added               0 
 Execute.bsv               Locally Added               0 
 Pipeline.bsv              Locally Added               0 
 execute.dic               Locally Added               0 
 BranchPredictor.bsv       Locally Added               0 
 WriteBack.bsv             Locally Added               0 
 Mem.bsv                   Locally Added               0 
 writeback.dic             Locally Added               0 
 inorder.awb               Locally Added               0 
 mem.dic                   Locally Added               0 
 Decode.bsv                Locally Added               0 

Directory modules/hasim/timing-models/pipeline
 superscalar-out-of-order/ Locally Added               0 

Directory modules/hasim/timing-models/pipeline/superscalar-out-of-order
 Commit.bsv                Locally Added               0 
 Fetch.bsv                 Locally Added               0 
 BandwidthPort.bsv         Locally Added               0 
 PipelineTypes.bsv         Locally Added               0 
 Mem.bsv                   Locally Added               0 
 Alu.bsv                   Locally Added               0 
 GetResults.bsv            Locally Added               0 
 Rob.bsv                   Locally Added               0 
 Decode.bsv                Locally Added               0 
 superscalar-out-of-order.awb Locally Added               0 
 Pipeline.bsv              Locally Added               0 

Directory modules/hasim/timing-models/pipeline
 5stage/                   Locally Added               0 

Directory modules/hasim/timing-models/pipeline/5stage
 execute.dic               Locally Added               0 
 5stage.awb                Locally Added               0 
 decode.dic                Locally Added               0 
 Fetch.bsv                 Locally Added               0 
 Writeback.bsv             Locally Added               0 
 Mem.bsv                   Locally Added               0 
 fetch.dic                 Locally Added               0 
 writeback.dic             Locally Added               0 
 Execute.bsv               Locally Added               0 
 Decode.bsv                Locally Added               0 
 Interfaces.bsv            Locally Added               0 
 mem.dic                   Locally Added               0 
 Pipeline.bsv              Locally Added               0 

Directory modules/hasim/timing-models/pipeline
 unpipelined/              Locally Added               0 

Directory modules/hasim/timing-models/pipeline/unpipelined
 with-cache/               Locally Added               0 

Directory modules/hasim/timing-models/pipeline/unpipelined/with-cache
 unpipelined_cpu.dic       Locally Added               0 
 unpipelined_cpu.awb       Locally Added               0 
 UnpipelinedCPU.bsv        Locally Added               0 

Directory modules/hasim/timing-models/pipeline/unpipelined
 no-cache/                 Locally Added               0 

Directory modules/hasim/timing-models/pipeline/unpipelined/no-cache
 unpipelined_cpu.dic       Locally Added               0 
 unpipelined_cpu.awb       Locally Added               0 
 UnpipelinedCPU.bsv        Locally Added               0 

Directory modules/hasim/timing-models
 pipeline/                 Locally Added               0 

Directory config/pm/hasim-models
 pipeline/                 Locally Added               0 

Directory config/pm/hasim-models/pipeline
 inorder/                  Locally Added               0 

Directory config/pm/hasim-models/pipeline/inorder
 inorder.apm               Locally Added               0 

Directory config/pm/hasim-models/pipeline
 superscalar-out-of-order/ Locally Added               0 

Directory config/pm/hasim-models/pipeline/superscalar-out-of-order
 superscalar-out-of-order.apm Locally Added               0 

Directory config/pm/hasim-models/pipeline
 5stage/                   Locally Added               0 

Directory config/pm/hasim-models/pipeline/5stage
 5stage.apm                Locally Added               0 

Directory config/pm/hasim-models/pipeline
 unpipelined/              Locally Added               0 

Directory config/pm/hasim-models/pipeline/unpipelined
 with-cache/               Locally Added               0 

Directory config/pm/hasim-models/pipeline/unpipelined/with-cache
 unpipelined.apm           Locally Added               0 

Directory config/pm/hasim-models/pipeline/unpipelined
 no-cache/                 Locally Added               0 

Directory config/pm/hasim-models/pipeline/unpipelined/no-cache
 unpipelined.apm           Locally Added               0 

Missed adding a few files in previous checkin

----------
mvijayar    Date: Wed Aug 13 14:56:27 EDT 2008  CSN: CSN-hasim-models-47
                  Wed Aug 13 18:56:27 UTC 2008


Directory config/pm/hasim-models/l1-caches
 l1_caches.apm             Locally Added               0 

Directory config/pm/hasim-models
 l1-caches/                Locally Added               0 

Directory config/pm/hasim-models/5stage
 5stage-simple.apm         Locally Removed            44 

Directory config/pm/hasim-models
 5stage/                   Locally Removed            44 

added l1 caches model

----------
mpellaue    Date: Mon Aug 18 19:41:42 EDT 2008  CSN: CSN-hasim-models-52
                  Mon Aug 18 23:41:42 UTC 2008


Directory modules/hasim/timing-models/inorder
 StoreBuffer.bsv           Locally Modified           51 
 Fetch.bsv                 Locally Modified           51 
 Execute.bsv               Locally Modified           51 
 BranchPredictor.bsv       Locally Modified           51 
 WriteBack.bsv             Locally Modified           51 
 Mem.bsv                   Locally Modified           51 
 Decode.bsv                Locally Modified           51 

Directory modules/hasim/timing-models/out-of-order
 Commit.bsv                Locally Modified           51 
 Fetch.bsv                 Locally Modified           51 
 WriteBack.bsv             Locally Modified           51 
 Mem.bsv                   Locally Modified           51 
 Alu.bsv                   Locally Modified           51 
 out-of-order.awb          Locally Modified           51 
 Execute.bsv               Locally Modified           51 
 Rob.bsv                   Locally Modified           51 
 Decode.bsv                Locally Modified           51 

Directory modules/hasim/timing-models/structures/branch/predictor/2bit
 BranchPred.bsv            Locally Modified           51 

Directory modules/hasim/timing-models/chip
 hasim_chip.awb            Locally Modified           51 

Directory modules/hasim/timing-models/pipeline/inorder
 StoreBuffer.bsv           Locally Modified           51 
 Fetch.bsv                 Locally Modified           51 
 Execute.bsv               Locally Modified           51 
 BranchPredictor.bsv       Locally Modified           51 
 WriteBack.bsv             Locally Modified           51 
 Mem.bsv                   Locally Modified           51 
 Decode.bsv                Locally Modified           51 

Directory modules/hasim/timing-models/pipeline/superscalar-out-of-order
 Commit.bsv                Locally Modified           51 
 Fetch.bsv                 Locally Modified           51 
 Mem.bsv                   Locally Modified           51 
 Alu.bsv                   Locally Modified           51 
 Rob.bsv                   Locally Modified           51 
 Decode.bsv                Locally Modified           51 
 superscalar-out-of-order.awb Locally Modified           51 

Directory modules/hasim/timing-models/pipeline/5stage
 Fetch.bsv                 Locally Modified           51 

Directory modules/hasim/timing-models/caches/direct-mapped-dcache/direct-mapped-writeback-dcache
 DCacheDirectMappedWriteBack.bsv Locally Modified           51 

Directory modules/hasim/timing-models/caches/direct-mapped-icache
 ICacheDirectMapped.bsv    Locally Modified           51 

Directory modules/hasim/timing-models/caches/set-associative-icache
 ICacheSetAssoc.bsv        Locally Modified           51 

Directory modules/hasim/timing-models/cpu/5-stage
 Fetch.bsv                 Locally Modified           51 

Directory modules/hasim/timing-models/core
 hasim_core.awb            Locally Modified           51 


* Changed timing models to use new DEBUG_FILE interface.
* Updated timing models to use new BRAM interface.

Michael P.

----------
pellauer    Date: Tue Aug 19 12:03:37 EDT 2008  CSN: CSN-hasim-models-53
                  Tue Aug 19 16:03:37 UTC 2008


Directory modules/hasim/timing-models/pipeline/unpipelined/no-cache
 UnpipelinedCPU.bsv        Locally Modified           52 


* Updated unpipelined CPU to use new DEBUG_FILE.

Michael P.

----------
pellauer    Date: Tue Aug 19 13:51:43 EDT 2008  CSN: CSN-hasim-models-58
                  Tue Aug 19 17:51:43 UTC 2008


Directory modules/hasim/timing-models/pipeline/inorder
 Fetch.bsv                 Locally Modified           57 
 Execute.bsv               Locally Modified           57 
 WriteBack.bsv             Locally Modified           57 
 Decode.bsv                Locally Modified           57 


Now that there's only one version of the pipeline, update it so that it uses the new interface correctly.

Nikhil: please check that we kept the correct version of the inorder pipeline. 
We are afraid we may have reverted some of your changes accidentally.

Michael P.


----------
pellauer    Date: Wed Aug 20 16:42:24 EDT 2008  CSN: CSN-hasim-models-59
                  Wed Aug 20 20:42:24 UTC 2008


Directory modules/hasim/timing-models/pipeline/superscalar-out-of-order
 PipelineTypes.bsv         Locally Modified           58 
 Rob.bsv                   Locally Modified           58 


Added support for drainBefore/drainAfter to OOO model. It still runs out of
tokens, but this does remove the warnings from M5 about executing a halt
instruction.

Murali should look this over to see if the scheme is reasonable (it's basically
the same as the one I added to the inorder model).

Michael P.

----------
mcadler     Date: Sun Aug 31 09:41:57 EDT 2008  CSN: CSN-hasim-models-64
                  Sun Aug 31 13:41:57 UTC 2008


Directory modules/hasim/timing-models/structures/branch/predictor/globHistory
 BranchPred.bsv            Locally Modified           63 

Directory modules/hasim/timing-models/structures/branch/predictor/simple
 BranchPred.bsv            Locally Modified           63 

Directory modules/hasim/timing-models/pipeline/superscalar-out-of-order
 Rob.bsv                   Locally Modified           63 

Directory modules/hasim/timing-models/pipeline/5stage
 Fetch.bsv                 Locally Modified           63 

Switch from RegFile to LUTRAM.  See platforms check-in.

----------
mcadler     Date: Tue Sep  2 22:19:58 EDT 2008  CSN: CSN-hasim-models-65
                  Wed Sep  3 02:19:58 UTC 2008


Directory modules/hasim/timing-models/pipeline/superscalar-out-of-order
 Commit.bsv                Locally Modified           64 
 Fetch.bsv                 Locally Modified           64 
 Mem.bsv                   Locally Modified           64 

- The hasMore flag for I & D translate responses was being ignored.  Changed
  to keep receiving data from the connection and perform the appropriate action
  only once hasMore is false.
- Add some debugging messages and comments.

----------
mcadler     Date: Wed Sep  3 15:52:05 EDT 2008  CSN: CSN-hasim-models-66
                  Wed Sep  3 19:52:05 UTC 2008


Directory modules/hasim/timing-models/pipeline/superscalar-out-of-order
 PipelineTypes.bsv         Locally Modified           64 

Treat drainAfter as a mispredicted branch.

----------
mcadler     Date: Thu Sep 11 16:37:21 EDT 2008  CSN: CSN-hasim-models-70
                  Thu Sep 11 20:37:21 UTC 2008


Directory modules/hasim/timing-models/pipeline/inorder
 Decode.bsv                Locally Modified           69 

Drain-before wasn't waiting for stores because the in flight counter was counting
registers, not instructions.  Stores write no registers.  Changed the counter to
count instructions.

----------
mcadler     Date: Sat Sep 13 08:50:42 EDT 2008  CSN: CSN-hasim-models-71
                  Sat Sep 13 12:50:42 UTC 2008


Directory modules/hasim/timing-models/pipeline/inorder
 Execute.bsv               Locally Modified           69 
 Pipeline.bsv              Locally Modified           69 
 BranchPredictor.bsv       Locally Modified           69 
 Mem.bsv                   Locally Modified           69 
 inorder.awb               Locally Modified           69 
 StoreBuffer.bsv           Locally Modified           69 
 PipelineTypes.bsv         Locally Modified           69 
 WriteBack.bsv             Locally Modified           69 
 Decode.bsv                Locally Modified           70 
 Fetch.bsv                 Locally Modified           69 

Directory modules/hasim/timing-models/caches/cache-types
 dcache_types.awb          Locally Modified           69 
 icache_types.awb          Locally Modified           69 

Directory config/pm/hasim-models/pipeline/inorder
 inorder.apm               Locally Modified           69 

- Add branch predictor:
  - Feedback from EXE now indicates whether prediction was right
  - BranchPredictor module now talks to a real predictor using standard
    interface.
  - Configured inorder model to use 2-bit predictor.
  - Still using private BTB.  Changed BTB to drop its entry when it
    causes a taken prediction for a non-branch instruction. (Caused by
    an alias.)

- Increased I and D cache index sizes from 8 to 10 bits.  Reduced miss
  penalty from 20 to 10 cycles.  Trying to get more activity in the
  model and there were a lot of misses given the lack of a 2nd level cache.

----------
mcadler     Date: Fri Sep 26 15:42:03 EDT 2008  CSN: CSN-hasim-models-72
                  Fri Sep 26 19:42:03 UTC 2008


Directory modules/hasim/timing-models/pipeline/superscalar-out-of-order
 Fetch.bsv                 Locally Modified           71 
 PipelineTypes.bsv         Locally Modified           71 

Front end next PC logic assumed a full bundle of instructions is fetched
on each cycle and blindly took the next PC from the branch predictor.  When
a full bundle was not fetched instructions were skipped.  All I did was
ignore the branch predictor's idea of the next PC when a full bundle isn't
fetched.  The predictor interface is as broken as ever and IPC of the
modeled machine is still abysmal.  memory_tests_aligned now runs correctly,
though IPC is 0.09.

----------
mcadler     Date: Mon Oct  6 18:36:26 EDT 2008  CSN: CSN-hasim-models-78
                  Mon Oct  6 22:36:26 UTC 2008


Directory config/pm/hasim-models/pipeline/superscalar-out-of-order
 single-issue-out-of-order.apm Locally Added               0 

Add single issue OOO submodel.

----------
mcadler     Date: Mon Oct  6 22:57:17 EDT 2008  CSN: CSN-hasim-models-79
                  Tue Oct  7 02:57:17 UTC 2008


Directory modules/hasim/timing-models/caches/direct-mapped-dcache/direct-mapped-writeback-dcache
 direct_mapped_write_back_dcache.awb Locally Modified           77 
 DCacheDirectMappedWriteBack.bsv Locally Modified           77 

Directory modules/hasim/timing-models/caches/direct-mapped-icache
 direct_mapped_icache.awb  Locally Modified           77 
 ICacheDirectMapped.bsv    Locally Modified           77 

Add dynamic parameters to put the L1 caches in always-hit mode.  Params are:
  ICACHE_ALWAYS_HIT and
  DCACHE_ALWAYS_HIT

We'll have to change the names once there is a cache hierarchy, along with
a number of other structural changes.

----------
mcadler     Date: Tue Oct 14 22:28:05 EDT 2008  CSN: CSN-hasim-models-80
                  Wed Oct 15 02:28:05 UTC 2008


Directory modules/hasim/timing-models/pipeline/inorder
 Mem.bsv                   Locally Modified           78 

DTranslate pipe was ignoring the hasMore bit coming back from the functional
partition.

----------
mcadler     Date: Mon Nov  3 08:35:29 EST 2008  CSN: CSN-hasim-models-81
                  Mon Nov  3 13:35:29 UTC 2008


Directory modules/hasim/timing-models/pipeline/inorder
 StoreBuffer.bsv           Locally Modified           80 
 Fetch.bsv                 Locally Modified           80 
 PipelineTypes.bsv         Locally Modified           80 
 Execute.bsv               Locally Modified           80 
 BranchPredictor.bsv       Locally Modified           80 
 WriteBack.bsv             Locally Modified           80 
 Mem.bsv                   Locally Modified           80 
 Decode.bsv                Locally Modified           80 

Directory modules/hasim/timing-models/pipeline/superscalar-out-of-order
 fetch.bsv                 Locally Modified           80 
 pipeline-6-stage-types.bsv Locally Modified           80 
 mem.bsv                   Locally Modified           80 
 rob.bsv                   Locally Modified           80 
 decode.bsv                Locally Modified           80 

Directory modules/hasim/timing-models/pipeline/unpipelined/no-cache
 UnpipelinedCPU.bsv        Locally Modified           80 

- Honor the new poison bit in the token that may be set by the functional
  partition.  To do this:

  - Pass updated token all the way through the pipeline.  Many models assumed
    the token would not change after being allocated and kept passing an old
    instance to each functional phase.
  - Superscalar model still caches the decoded token in the ROB, but keeps
    a poison bit on the side.  This is to avoid having to read-modify-write the
    ROB to update the token in ROB BRAM.

- Check the poison bit before commit.  If set send a message back to the front
  end to handle the fault.  Fault is handled by a new functional interface
  that does a rewind, increments the fault epoch (another new token bit)
  and returns the restart PC.

- Rewrote the unpipelined model to initiate the next functional request in
  the same FPGA cycle as the previous functional response is received.  Saves
  about 7 FPGA cycles per simulated instruction.  Also restructured the model
  to use Bluespec rules instead of one bit case statement.  The goal is to
  be a reference implementation of the minimal timing/functional interface.

- Clean up some debugging output.  E.g. simulated cycle now printed for in-order.

----------
mcadler     Date: Mon Nov 10 12:41:48 EST 2008  CSN: CSN-hasim-models-82
                  Mon Nov 10 17:41:48 UTC 2008


Directory modules/hasim/timing-models/pipeline/superscalar-out-of-order
 fetch.bsv                 Locally Modified           81 

Directory modules/hasim/timing-models/pipeline/unpipelined/no-cache
 UnpipelinedCPU.bsv        Locally Modified           81 

- Unpipelined model never called local_ctrl.startModelCC()
- Superscalar model didn't connect to local controllers.  For now just the front
  end is connected and external ports aren't defined, so balancing will not
  work.  The minimal connection added here forces the pipeline to wait for
  permission to run before starting.

----------
mcadler     Date: Fri Dec  5 07:56:39 EST 2008  CSN: CSN-hasim-models-83
                  Fri Dec  5 12:56:39 UTC 2008


Directory modules/hasim/timing-models/pipeline/inorder
 Decode.bsv                Locally Modified           82 

Use counter that supports parallel up and down calls.

----------
mcadler     Date: Tue Dec 30 17:41:17 EST 2008  CSN: CSN-hasim-models-84
                  Tue Dec 30 22:41:17 UTC 2008


Directory modules/hasim/timing-models/pipeline/inorder
 Fetch.bsv                 Locally Modified           83 
 Execute.bsv               Locally Modified           83 
 WriteBack.bsv             Locally Modified           83 
 Mem.bsv                   Locally Modified           83 
 Decode.bsv                Locally Modified           83 

Directory modules/hasim/timing-models/pipeline/superscalar-out-of-order
 mem.bsv                   Locally Modified           83 

Directory modules/hasim/timing-models/pipeline/unpipelined/no-cache
 UnpipelinedCPU.bsv        Locally Modified           83 

TOKEN_INDEX is a struct.  Must use pack() to pass it as part of an event.

----------
mcadler     Date: Wed Dec 31 14:23:27 EST 2008  CSN: CSN-hasim-models-85
                  Wed Dec 31 19:23:27 UTC 2008


Directory modules/hasim/timing-models/pipeline/inorder
 Fetch.bsv                 Locally Modified           84 

Directory modules/hasim/timing-models/pipeline/superscalar-out-of-order
 fetch.bsv                 Locally Modified           83 

Directory modules/hasim/timing-models/pipeline/unpipelined/no-cache
 UnpipelinedCPU.bsv        Locally Modified           84 

Directory modules/hasim/timing-models/pipeline/5stage
 Fetch.bsv                 Locally Modified           83 

- Unpipelined model supports multiple contexts.  Not especially well tested.
- Other models always request tokens from context 0.

----------
mcadler     Date: Sun Jan  4 16:43:08 EST 2009  CSN: CSN-hasim-models-86
                  Sun Jan  4 21:43:08 UTC 2009


Directory modules/hasim/timing-models/pipeline/inorder
 PipelineTypes.bsv         Locally Modified           84 

Directory modules/hasim/timing-models/pipeline/superscalar-out-of-order
 pipeline-6-stage-types.bsv Locally Modified           84 

Directory modules/hasim/timing-models/pipeline/unpipelined/no-cache
 UnpipelinedCPU.bsv        Locally Modified           85 

Move fshow() declaration for TOKEN and TOKEN_INDEX to token.bsv.

----------
mcadler     Date: Mon Jan  5 08:40:29 EST 2009  CSN: CSN-hasim-models-87
                  Mon Jan  5 13:40:29 UTC 2009


Directory modules/hasim/timing-models/pipeline/inorder
 Execute.bsv               Locally Modified           85 
 Mem.bsv                   Locally Modified           85 
 PipelineTypes.bsv         Locally Modified           86 
 WriteBack.bsv             Locally Modified           85 
 Decode.bsv                Locally Modified           85 

Add proper bypassing from EXE and MEM stages.  The control logica already
existed from EXE and MEM back to DEC to support bypassing, but it was used
only to handle dead instructions caused by branch misprediction.  All register
dependence was waiting for earlier instructions to commit!

New code supports full bypassing using 0 latency ports from EXE and MEM back
to DEC.  Dependent instructions can now follow typical ALU instructions
immediately and there is a one cycle bubble for memory loads.  Simulated
performance for Alpha with perfect caches improves by about 80%.

----------
mcadler     Date: Tue Jan  6 20:03:03 EST 2009  CSN: CSN-hasim-models-88
                  Wed Jan  7 01:03:03 UTC 2009


Directory modules/hasim/timing-models/pipeline/inorder
 Fetch.bsv                 Locally Modified           87 
 WriteBack.bsv             Locally Modified           87 

Directory modules/hasim/timing-models/pipeline/superscalar-out-of-order
 commit.bsv                Locally Modified           87 
 inorder-issue.bsv         Locally Modified           87 
 rob.bsv                   Locally Modified           87 

Directory modules/hasim/timing-models/pipeline/5stage
 Fetch.bsv                 Locally Modified           87 
 Writeback.bsv             Locally Modified           87 

Directory modules/hasim/timing-models/pipeline/unpipelined/with-cache
 UnpipelinedCPU.bsv        Locally Modified           87 

Directory modules/hasim/timing-models/pipeline/unpipelined/no-cache
 UnpipelinedCPU.bsv        Locally Modified           87 

Send heartbeats for multiple contexts.

----------
mcadler     Date: Wed Jan  7 10:44:24 EST 2009  CSN: CSN-hasim-models-89
                  Wed Jan  7 15:44:24 UTC 2009


Directory modules/hasim/timing-models/pipeline/unpipelined/no-cache
 UnpipelinedCPU.bsv        Locally Modified           88 

Use new context-aware debug log interface.

----------
mcadler     Date: Mon Jan 12 09:16:08 EST 2009  CSN: CSN-hasim-models-90
                  Mon Jan 12 14:16:08 UTC 2009


Directory modules/hasim/timing-models/pipeline/unpipelined/no-cache
 unpipelined_cpu.awb       Locally Modified           89 
 UnpipelinedCPU.bsv        Locally Modified           89 

Changed token allocation logic in the unpipelined model:
  - New tokens may be allocated for a context whenever processing of the
    previous token for the context is complete.
  - Token allocation remains round-robin among contexts.  Contexts can never
    be more than one cycle apart.
  - Added a skew generator to delay starting contexts at the start of a
    run.  This way multiple hardware contexts all executing the same workload
    will not run in lock step, doing identical operations each cycle.  The
    number of skew cycles is controlled by a dynamic parameter:  SKEW_CONTEXTS.
    Specify 0 to have all contexts start together.

----------
mcadler     Date: Mon Jan 12 19:39:37 EST 2009  CSN: CSN-hasim-models-91
                  Tue Jan 13 00:39:37 UTC 2009


Directory modules/hasim/timing-models/pipeline/unpipelined/no-cache
 UnpipelinedCPU.bsv        Locally Modified           90 

Update debug log interface to new coding standard.

----------
mcadler     Date: Tue Jan 20 21:52:42 EST 2009  CSN: CSN-hasim-models-92
                  Wed Jan 21 02:52:42 UTC 2009


Directory modules/hasim/timing-models/pipeline/unpipelined/no-cache
 UnpipelinedCPU.bsv        Locally Modified           91 

Store pc and ctxState in LUTRAM instead of vectors to improve generated
code quality.

----------
pellauer    Date: Thu Feb  5 13:00:50 EST 2009  CSN: CSN-hasim-models-93
                  Thu Feb  5 18:00:50 UTC 2009


Directory modules/hasim/timing-models/structures/branch/predictor/2bit
 BranchPred.bsv            Locally Modified           92 


Two-bit branch predictor used no-longer existing hashTo32 function. Changed to
new hashBits

This actually broke the inorder model. It seems our regression didn't run
last night or we would have noticed... :(

Michael

----------
mcadler     Date: Mon Feb 16 21:11:40 EST 2009  CSN: CSN-hasim-models-94
                  Tue Feb 17 02:11:40 UTC 2009


Directory modules/hasim/timing-models/pipeline/unpipelined/no-cache
 unpipelined_cpu.awb       Locally Modified           93 
 UnpipelinedCPU.bsv        Locally Modified           93 

Skewed contexts startup code moved to m5 library so it is model-independent.

----------
pellauer    Date: Thu Feb 19 11:17:14 EST 2009  CSN: CSN-hasim-models-95
                  Thu Feb 19 16:17:14 UTC 2009


Directory config/pm/hasim-models/l1-caches
 null_l1_caches.apm        Locally Added               0 

Directory modules/hasim/timing-models/pipeline/inorder
 StoreBuffer.bsv           Locally Modified           94 
 Fetch.bsv                 Locally Modified           94 
 PipelineTypes.bsv         Locally Modified           94 
 Execute.bsv               Locally Modified           94 
 Pipeline.bsv              Locally Modified           94 
 BranchPredictor.bsv       Locally Modified           94 
 WriteBack.bsv             Locally Modified           94 
 Mem.bsv                   Locally Modified           94 
 Decode.bsv                Locally Modified           94 

Directory modules/hasim/timing-models/pipeline/superscalar-out-of-order
 fetch.bsv                 Locally Modified           94 
 rob.bsv                   Locally Modified           94 

Directory modules/hasim/timing-models/pipeline/unpipelined/no-cache
 UnpipelinedCPU.bsv        Locally Modified           94 

Directory modules/hasim/timing-models/caches/null-caches
 NullICache.bsv            Locally Modified           94 
 NullDCache.bsv            Locally Modified           94 


* The inorder model is now multi-context. Also it is pipelined within the
  modules across multiple contexts.

* Rewrote all rules to use the new local controller syntax. Most rules have the
  following form:
  
  // Get the current context...
  let ctx_id = stage2Q.first();
  stage2Q.deq();
  
  // Get our local state using the context id.
  let pc = ctx_pc[ctx_id];
  
  // Read and update local state.
  pc <= pc + 4;
  
  // Send a message to another module.
  pcToICache.send(ctx_id, tagged Valid pc);
  
  // Pass the context to the next stage.
  stage2Q.enq(ctx_id);
  
* Thus one stage may be operating in a different context (and thus on a
  different PC register) than other stages.

* The local controller ensures that a context is not in flight multiple times
  simultaneously in a single module. Thus the interface is
  startModelCycle/endModelCycle(ctx);

* The end model cycle call also takes a Path number, which can be useful for
  debugging. This is unused in the hardware and should be optimized away by
  the synthesis tool.

* A special mkPortUncontrolled() A-Port is used by A-Ports which are read later
  in the clock cycle dependent on input - like Cache responses. This could
  perhaps be cleaned up.

* Updated the unpipelined and OOO models to use the new local controller
  interface. The OOO does not actually use the local controller to control its
  ports.

* TODO: Break into multiple AWB modules.

* TODO: Support more multi-context caches.

Michael P.

----------
pellauer    Date: Fri Feb 20 17:06:09 EST 2009  CSN: CSN-hasim-models-96
                  Fri Feb 20 22:06:09 UTC 2009


Directory config/pm/hasim-models/l1-caches
 l1_caches.apm             Locally Modified           94 
 null_l1_caches.apm        Locally Modified           95 

Directory config/pm/hasim-models/pipeline/inorder
 inorder.apm               Locally Modified           94 

Directory config/pm/hasim-models/pipeline/superscalar-out-of-order
 superscalar-out-of-order.apm Locally Modified           94 
 single-issue-out-of-order.apm Locally Modified           94 
 superscalar-in-order.apm  Locally Modified           94 

Directory config/pm/hasim-models/pipeline
 5stage/                   Locally Removed            94 

Directory config/pm/hasim-models/pipeline/5stage
 5stage.apm                Locally Removed            94 

Directory config/pm/hasim-models/pipeline
 unpipelined/              Locally Removed            94 

Directory config/pm/hasim-models/pipeline/unpipelined
 with-cache/               Locally Removed            94 

Directory config/pm/hasim-models/pipeline/unpipelined/with-cache
 unpipelined.apm           Locally Removed            94 

Directory config/pm/hasim-models/pipeline/unpipelined
 no-cache/                 Locally Removed            94 

Directory config/pm/hasim-models/pipeline/unpipelined/no-cache
 unpipelined.apm           Locally Removed            94 

Directory modules/hasim/timing-models/pipeline/inorder
 Execute.bsv               Locally Removed            95 
 inorder-execute-stage.bsv Locally Added               - 
 inorder-pipeline.bsv      Locally Added               - 
 Pipeline.bsv              Locally Removed            95 
 BranchPredictor.bsv       Locally Removed            95 
 WriteBack.bsv             Locally Removed            95 
 Mem.bsv                   Locally Removed            95 
 inorder-pipeline-base-types.bsv Locally Added               - 
 inorder.awb               Locally Modified           94 
 single-entry-store-buffer.bsv Locally Added               - 
 Decode.bsv                Locally Removed            95 
 inorder-dmem-stage.bsv    Locally Added               - 
 inorder-decode-stage.bsv  Locally Added               - 
 branch-predictor.bsv      Locally Added               - 
 StoreBuffer.bsv           Locally Removed            95 
 Fetch.bsv                 Locally Removed            95 
 inorder-commit-stage.bsv  Locally Added               - 
 inorder-fetch-stage.bsv   Locally Added               - 
 PipelineTypes.bsv         Locally Removed            95 

Directory modules/hasim/timing-models/pipeline/superscalar-out-of-order
 pipeline-6-stage.awb      Locally Modified           94 
 fetch.bsv                 Locally Modified           95 

Directory modules/hasim/timing-models/pipeline/unpipelined/no-cache
 unpipelined_cpu.dic       Locally Removed            94 
 unpipelined-pipeline.awb  Locally Added               - 
 unpipelined-pipeline.bsv  Locally Added               - 
 unpipelined_cpu.awb       Locally Removed            94 
 UnpipelinedCPU.bsv        Locally Removed            95 
 unpipelined-pipeline.dic  Locally Added               - 

Directory modules/hasim/timing-models/pipeline/unpipelined/with-cache
 unpipelined_cpu.dic       Locally Removed            94 
 unpipelined-pipeline-with-cache.awb Locally Added               - 
 unpipelined-pipeline-with-cache.bsv Locally Added               - 
 unpipelined-pipeline-with-cache.dic Locally Added               - 
 unpipelined_cpu.awb       Locally Removed            94 
 UnpipelinedCPU.bsv        Locally Removed            94 

Directory modules/hasim/timing-models/pipeline/5stage
 5stage.awb                Locally Removed            94 
 execute.dic               Locally Removed            94 
 decode.dic                Locally Removed            94 
 Fetch.bsv                 Locally Removed            94 
 Writeback.bsv             Locally Removed            94 
 Mem.bsv                   Locally Removed            94 
 fetch.dic                 Locally Removed            94 
 writeback.dic             Locally Removed            94 
 Execute.bsv               Locally Removed            94 
 Decode.bsv                Locally Removed            94 
 Interfaces.bsv            Locally Removed            94 
 mem.dic                   Locally Removed            94 
 Pipeline.bsv              Locally Removed            94 

Directory modules/hasim/timing-models/pipeline
 5stage/                   Locally Removed            94 

Directory modules/hasim/timing-models/caches/null-caches
 NullDCache.bsv            Locally Removed            95 
 icache-null.awb           Locally Added               - 
 icache-null.bsv           Locally Added               - 
 null_icache.awb           Locally Removed            94 
 NullICache.bsv            Locally Removed            95 
 dcache-null.awb           Locally Added               - 
 dcache-null.bsv           Locally Added               - 
 null_dcache.awb           Locally Removed            94 

Directory modules/hasim/timing-models/caches/direct-mapped-icache
 icache-direct-mapped.awb  Locally Added               - 
 icache-direct-mapped.bsv  Locally Added               - 
 direct_mapped_icache.awb  Locally Removed            94 
 icache-direct-mapped.dic  Locally Added               - 
 ICacheDirectMapped.bsv    Locally Removed            94 
 direct_mapped_icache.dic  Locally Removed            94 

Directory modules/hasim/timing-models/caches/set-associative-dcache/set-associative-writeback-dcache
 dcache-setassoc-writeback.dic Locally Added               - 
 DCacheSetAssocWriteBack.bsv Locally Removed            94 
 set_associative_write_back_dcache.dic Locally Removed            94 
 dcache-setassoc-writeback.awb Locally Added               - 
 dcache-setassoc-writeback.bsv Locally Added               - 
 set_associative_write_back_dcache.awb Locally Removed            94 

Directory modules/hasim/timing-models/caches/set-associative-icache
 set_associative_icache.dic Locally Removed            94 
 icache-setassoc.awb       Locally Added               - 
 icache-setassoc.bsv       Locally Added               - 
 set_associative_icache.awb Locally Removed            94 
 ICacheSetAssoc.bsv        Locally Removed            94 
 icache-setassoc.dic       Locally Added               - 

Directory modules/hasim/timing-models/caches/l2-cache
 hasim_shared_cache.awb    Locally Removed            94 
 L2Cache.bsv               Locally Removed            94 

Directory modules/hasim/timing-models/caches
 l2-cache/                 Locally Removed            94 

Directory modules/hasim/timing-models/caches/l1-caches
 l1-caches.awb             Locally Added               - 
 L1Cache.bsv               Locally Removed            94 
 l1-caches.bsv             Locally Added               - 
 hasim_l1_caches.awb       Locally Removed            94 

Directory modules/hasim/timing-models/caches/direct-mapped-dcache/direct-mapped-writeback-dcache
 direct_mapped_write_back_dcache.dic Locally Removed            94 
 dcache-direct-mapped-writeback.awb Locally Added               - 
 dcache-direct-mapped-writeback.bsv Locally Added               - 
 direct_mapped_write_back_dcache.awb Locally Removed            94 
 dcache-direct-mapped-writeback.dic Locally Added               - 
 DCacheDirectMappedWriteBack.bsv Locally Removed            94 

Directory modules/hasim/timing-models/caches/direct-mapped-dcache/direct-mapped-writethrough-dcache
 direct_mapped_write_through_dcache.dic Locally Removed            94 
 dcache-direct-mapped-writethrough.awb Locally Added               - 
 dcache-direct-mapped-writethrough.bsv Locally Added               - 
 direct_mapped_write_through_dcache.awb Locally Removed            94 
 dcache-direct-mapped-writethrough.dic Locally Added               - 
 DCacheDirectMappedWriteThrough.bsv Locally Removed            94 

Directory modules/hasim/timing-models/caches/cache-types
 icache-base-types.bsv     Locally Added               - 
 dcache_types.awb          Locally Removed            94 
 DCacheTypes.bsv           Locally Removed            94 
 icache_types.awb          Locally Removed            94 
 dcache-base-types.awb     Locally Added               - 
 ICacheTypes.bsv           Locally Removed            94 
 dcache-base-types.bsv     Locally Added               - 
 icache-base-types.awb     Locally Added               - 

Directory modules/hasim/timing-models/chip
 single-core-chip.awb      Locally Added               - 
 single-core-chip.bsv      Locally Added               - 
 Chip.bsv                  Locally Removed            94 
 hasim_chip.awb            Locally Removed            94 

Directory modules/hasim/timing-models/structures/branch/target_buffer/oneEntry
 TargetBuffer.awb          Locally Removed            94 
 TargetBuffer.bsv          Locally Removed            94 
 btb-one-entry.awb         Locally Added               - 
 btb-one-entry.bsv         Locally Added               - 

Directory modules/hasim/timing-models/structures/branch/target_buffer/multiEntry
 btb-multi-entry.awb       Locally Added               - 
 btb-multi-entry.bsv       Locally Added               - 
 TargetBuffer.awb          Locally Removed            94 
 TargetBuffer.bsv          Locally Removed            94 

Directory modules/hasim/timing-models/structures/branch/stack/1entry
 branch-stack-1entry.awb   Locally Added               - 
 branch-stack-1entry.bsv   Locally Added               - 
 BranchStack.awb           Locally Removed            94 
 BranchStack.bsv           Locally Removed            94 

Directory modules/hasim/timing-models/structures/branch/stack/infinite
 BranchStack.awb           Locally Removed            94 
 branch-stack-infinite.awb Locally Added               - 
 BranchStack.bsv           Locally Removed            94 
 branch-stack-infinite.bsv Locally Added               - 

Directory modules/hasim/timing-models/structures/branch/predictor/2bit
 BranchPred.awb            Locally Removed            94 
 BranchPred.bsv            Locally Removed            94 
 2bit-bp-alg.awb           Locally Added               - 
 2bit-bp-alg.bsv           Locally Added               - 

Directory modules/hasim/timing-models/structures/branch/predictor/taken
 BranchPred.awb            Locally Removed            94 
 BranchPred.bsv            Locally Removed            94 
 taken-bp-alg.awb          Locally Added               - 
 taken-bp-alg.bsv          Locally Added               - 

Directory modules/hasim/timing-models/structures/branch/predictor/notTaken
 BranchPred.awb            Locally Removed            94 
 BranchPred.bsv            Locally Removed            94 
 not-taken-bp-alg.awb      Locally Added               - 
 not-taken-bp-alg.bsv      Locally Added               - 

Directory modules/hasim/timing-models/structures/branch/predictor/globHistory
 BranchPred.awb            Locally Removed            94 
 BranchPred.bsv            Locally Removed            94 
 global-history-bp-alg.awb Locally Added               - 
 global-history-bp-alg.bsv Locally Added               - 

Directory modules/hasim/timing-models/structures/branch/predictor/simple
 BranchPred.awb            Locally Removed            94 
 BranchPred.bsv            Locally Removed            94 
 simple-bp-alg.awb         Locally Added               - 
 simple-bp-alg.bsv         Locally Added               - 

Directory modules/hasim/timing-models/replacement-algorithms/dcache
 dcache_lru.awb            Locally Removed            94 
 DCacheLRU.bsv             Locally Removed            94 
 dcache-replacement-alg-lru.awb Locally Added               - 
 dcache-replacement-alg-lru.bsv Locally Added               - 

Directory modules/hasim/timing-models/replacement-algorithms/icache
 icache-replacement-alg-lru.awb Locally Added               - 
 icache-replacement-alg-lru.bsv Locally Added               - 
 icache_lru.awb            Locally Removed            94 
 ICacheLRU.bsv             Locally Removed            94 

Directory modules/hasim/timing-models/core/cacheless-core
 Core.bsv                  Locally Removed            94 
 hasim_core.awb            Locally Removed            94 
 core-no-cache.awb         Locally Added               - 
 core-no-cache.bsv         Locally Added               - 

Directory modules/hasim/timing-models/core
 Core.bsv                  Locally Removed            94 
 hasim_core.awb            Locally Removed            94 
 core-with-cache/          Locally Added               0 

Directory modules/hasim/timing-models/core/core-with-cache
 core-with-cache.awb       Locally Added               - 
 core-with-cache.bsv       Locally Added               - 

Directory modules/hasim/timing-models/memory
 memory-magic.bsv          Locally Added               - 
 memory.awb                Locally Removed            94 
 Memory.bsv                Locally Removed            94 
 dcache-memory-magic.awb   Locally Added               - 
 dcache-memory-magic.bsv   Locally Added               - 
 dcachememory.awb          Locally Removed            94 
 icache-memory-magic.awb   Locally Added               - 
 DCacheMemory.bsv          Locally Removed            94 
 icache-memory-magic.bsv   Locally Added               - 
 icachememory.awb          Locally Removed            94 
 ICacheMemory.bsv          Locally Removed            94 
 memory-magic.awb          Locally Added               - 


* Move hasim-models over to the correct file-naming convention. This is a
  precursor to splitting the inorder pipeline model up into many modules.

* Kill the 5stage model.

* Branch predictors are now branch predictor algorithms, which are multiplexed
  by the inorder pipeline's branch predictor.

* Almost all imports are now `include and more type names are in the right
  coding convention.
  
* Still Ongoing: Some directory names need to change. SVN is happier if we do
  that in a separate commit.

Michael P.

----------
pellauer    Date: Mon Feb 23 13:04:51 EST 2009  CSN: CSN-hasim-models-97
                  Mon Feb 23 18:04:51 UTC 2009


Directory config/pm/hasim-models/pipeline/inorder
 inorder.apm               Locally Modified           96 

Directory modules/hasim/timing-models/structures/branch/target_buffer
 oneEntry/                 Locally Removed            96 

Directory modules/hasim/timing-models/structures/branch/target_buffer/oneEntry
 btb-one-entry.awb         Locally Removed            96 
 btb-one-entry.bsv         Locally Removed            96 

Directory modules/hasim/timing-models/structures/branch/target_buffer
 multiEntry/               Locally Removed            96 

Directory modules/hasim/timing-models/structures/branch/target_buffer/multiEntry
 btb-multi-entry.awb       Locally Removed            96 
 btb-multi-entry.bsv       Locally Removed            96 

Directory modules/hasim/timing-models/structures/branch/predictor
 notTaken/                 Locally Removed            96 

Directory modules/hasim/timing-models/structures/branch/predictor/notTaken
 not-taken-bp-alg.awb      Locally Removed            96 
 not-taken-bp-alg.bsv      Locally Removed            96 

Directory modules/hasim/timing-models/structures/branch/predictor
 globHistory/              Locally Removed            96 

Directory modules/hasim/timing-models/structures/branch/predictor/globHistory
 global-history-bp-alg.awb Locally Removed            96 
 global-history-bp-alg.bsv Locally Removed            96 

Directory modules/hasim/timing-models/pipeline/inorder
 branch-predictor.bsv      Locally Removed            96 
 decode.dic                Locally Removed            96 
 dmem/                     Locally Added               0 

Directory modules/hasim/timing-models/pipeline/inorder/dmem
 dmem.dic                  Locally Added               - 
 inorder-dmem-stage.awb    Locally Added               0 
 inorder-dmem-stage.bsv    Locally Added               - 

Directory modules/hasim/timing-models/pipeline/inorder
 inorder-commit-stage.bsv  Locally Removed            96 
 decode/                   Locally Added               0 

Directory modules/hasim/timing-models/pipeline/inorder/decode
 decode.dic                Locally Added               - 
 inorder-decode-stage.awb  Locally Added               0 
 inorder-decode-stage.bsv  Locally Added               - 

Directory modules/hasim/timing-models/pipeline/inorder
 inorder-fetch-stage.bsv   Locally Removed            96 
 branch-predictor/         Locally Added               0 

Directory modules/hasim/timing-models/pipeline/inorder/branch-predictor
 branch-predictor.bsv      Locally Added               - 
 branch-predictor.awb      Locally Added               0 

Directory modules/hasim/timing-models/pipeline/inorder
 fetch.dic                 Locally Removed            96 
 commit/                   Locally Added               0 

Directory modules/hasim/timing-models/pipeline/inorder/commit
 inorder-commit-stage.awb  Locally Added               0 
 inorder-commit-stage.bsv  Locally Added               - 
 commit.dic                Locally Added               - 

Directory modules/hasim/timing-models/pipeline/inorder
 fetch/                    Locally Added               0 

Directory modules/hasim/timing-models/pipeline/inorder/fetch
 inorder-fetch-stage.awb   Locally Added               0 
 inorder-fetch-stage.bsv   Locally Added               - 
 fetch.dic                 Locally Added               - 

Directory modules/hasim/timing-models/pipeline/inorder
 inorder-execute-stage.bsv Locally Removed            96 
 inorder-pipeline.bsv      Locally Modified           96 
 execute.dic               Locally Removed            96 
 execute/                  Locally Added               0 

Directory modules/hasim/timing-models/pipeline/inorder/execute
 execute.dic               Locally Added               - 
 inorder-execute-stage.awb Locally Added               0 
 inorder-execute-stage.bsv Locally Added               - 

Directory modules/hasim/timing-models/pipeline/inorder
 inorder-pipeline-base-types.bsv Locally Removed            96 
 writeback.dic             Locally Removed            96 
 inorder.awb               Locally Modified           96 
 single-entry-store-buffer.bsv Locally Removed            96 
 mem.dic                   Locally Removed            96 
 inorder-dmem-stage.bsv    Locally Removed            96 
 base-types/               Locally Added               0 

Directory modules/hasim/timing-models/pipeline/inorder/base-types
 inorder-pipeline-base-types.awb Locally Added               0 
 inorder-pipeline-base-types.bsv Locally Added               - 

Directory modules/hasim/timing-models/pipeline/inorder
 inorder-decode-stage.bsv  Locally Removed            96 

Directory modules/hasim/timing-models/caches
 store-buffers/            Locally Added               0 

Directory modules/hasim/timing-models/caches/store-buffers
 single-entry/             Locally Added               0 

Directory modules/hasim/timing-models/caches/store-buffers/single-entry
 single-entry-store-buffer.bsv Locally Added               - 

Directory modules/hasim/timing-models/caches
 translation-buffers/      Locally Added               0 

Directory modules/hasim/timing-models/caches/translation-buffers
 null/                     Locally Added               0 


* Inorder model is now broken into multiple AWB modules. Submodel APM ensures
  everything still works.
  
* Directory name cleanup continues.

* Store buffer moved from pipeline to caches.

Michael P.

----------
pellauer    Date: Tue Feb 24 10:56:47 EST 2009  CSN: CSN-hasim-models-98
                  Tue Feb 24 15:56:47 UTC 2009


Directory modules/hasim/timing-models/caches/store-buffers/single-entry
 single-entry-store-buffer.awb Locally Added               0 


* Adding ommitted AWB file. (This will teach me to run my regression in a
different workspace after a checkin.)

Michael P.


----------
pellauer    Date: Thu Mar  5 16:06:24 EST 2009  CSN: CSN-hasim-models-99
                  Thu Mar  5 21:06:24 UTC 2009


Directory config/pm/hasim-models/l1-caches
 null_l1_caches.apm        Locally Modified           98 
 l1_caches.apm             Locally Modified           98 

Directory config/pm/hasim-models/pipeline/inorder
 inorder.apm               Locally Modified           98 

Directory modules/hasim/timing-models/pipeline/inorder/dmem
 inorder-dmem-stage.bsv    Locally Modified           98 

Directory modules/hasim/timing-models/pipeline/inorder/decode
 inorder-decode-stage.bsv  Locally Modified           98 

Directory modules/hasim/timing-models/pipeline/inorder
 pccalc/                   Locally Added               0 

Directory modules/hasim/timing-models/pipeline/inorder/pccalc
 inorder-pccalc-stage.bsv  Locally Added               0 
 inorder-pccalc-stage.awb  Locally Added               0 

Directory modules/hasim/timing-models/pipeline/inorder
 imem/                     Locally Added               0 

Directory modules/hasim/timing-models/pipeline/inorder/imem
 inorder-imem-stage.awb    Locally Added               0 
 inorder-imem-stage.bsv    Locally Added               0 

Directory modules/hasim/timing-models/pipeline/inorder/commit
 inorder-commit-stage.bsv  Locally Modified           98 

Directory modules/hasim/timing-models/pipeline/inorder/fetch
 inorder-fetch-stage.bsv   Locally Modified           98 

Directory modules/hasim/timing-models/pipeline/inorder
 inorder.awb               Locally Modified           98 

Directory modules/hasim/timing-models/pipeline/inorder/base-types
 inorder-pipeline-base-types.bsv Locally Modified           98 

Directory modules/hasim/timing-models/pipeline/inorder
 inorder-pipeline.bsv      Locally Modified           98 
 instq/                    Locally Added               0 

Directory modules/hasim/timing-models/pipeline/inorder/instq
 inorder-instq-stage.awb   Locally Added               0 
 inorder-instq-stage.bsv   Locally Added               0 

Directory modules/hasim/timing-models/caches/l1-caches
 l1-caches.awb             Locally Modified           98 
 l1-caches.bsv             Locally Modified           98 

Directory modules/hasim/timing-models/caches/cache-types
 memory-base-types.awb     Locally Added               0 
 memory-base-types.bsv     Locally Added               0 

Directory modules/hasim/timing-models/caches/store-buffers/single-entry
 single-entry-store-buffer.bsv Locally Modified           98 

Directory modules/hasim/timing-models/caches/translation-buffers/null
 itlb-null.awb             Locally Added               0 
 itlb-null.bsv             Locally Added               0 

Directory modules/hasim/timing-models/caches/null-caches
 dcache-null.bsv           Locally Modified           98 
 icache-null.bsv           Locally Modified           98 


* Inorder non-blocking cache front end pipeline reorganization.
* Inorder now has ITLB (Always hits for now)
* Inorder front end is now: Fetch, IMem, PCCalc, and Instruction Queue
* InstQ ensures instructions block until the ICache response comes back.
* Calls to functional partition are now organized as follows:
** Fetch calls newInFlight
** ITlb calls doITranslate
** L1 ICache calls getInstruction
** PCCalc calls rewind/fault

Michael P.

----------
pellauer    Date: Tue Mar 17 15:36:14 EDT 2009  CSN: CSN-hasim-models-100
                  Tue Mar 17 19:36:14 UTC 2009


Directory config/pm/hasim-models/l1-caches
 null_l1_caches.apm        Locally Modified           99 
 l1_caches.apm             Locally Modified           99 

Directory config/pm/hasim-models/pipeline/inorder
 inorder.apm               Locally Modified           99 

Directory modules/hasim/timing-models/pipeline/inorder/dmem
 inorder-dmem-stage.bsv    Locally Modified           99 

Directory modules/hasim/timing-models/pipeline/inorder/execute
 inorder-execute-stage.bsv Locally Modified           99 

Directory modules/hasim/timing-models/pipeline/inorder/decode
 inorder-decode-stage.bsv  Locally Modified           99 

Directory modules/hasim/timing-models/pipeline/inorder/commit
 inorder-commit-stage.bsv  Locally Modified           99 

Directory modules/hasim/timing-models/pipeline/inorder
 commitq/                  Locally Added               0 

Directory modules/hasim/timing-models/pipeline/inorder/commitq
 inorder-commitq-stage.awb Locally Added               0 
 inorder-commitq-stage.bsv Locally Added               0 

Directory modules/hasim/timing-models/pipeline/inorder
 inorder.awb               Locally Modified           99 

Directory modules/hasim/timing-models/pipeline/inorder/base-types
 inorder-pipeline-base-types.bsv Locally Modified           99 

Directory modules/hasim/timing-models/pipeline/inorder
 inorder-pipeline.bsv      Locally Modified           99 

Directory modules/hasim/timing-models/caches/l1-caches
 l1-caches.awb             Locally Modified           99 
 l1-caches.bsv             Locally Modified           99 

Directory modules/hasim/timing-models/caches
 write-buffers/            Locally Added               0 

Directory modules/hasim/timing-models/caches/write-buffers
 blocking/                 Locally Added               0 

Directory modules/hasim/timing-models/caches/write-buffers/blocking
 write-buffer-blocking.awb Locally Added               0 
 write-buffer-blocking.bsv Locally Added               0 

Directory modules/hasim/timing-models/caches/cache-types
 memory-base-types.bsv     Locally Modified           99 

Directory modules/hasim/timing-models/caches/store-buffers
 multi-entry/              Locally Added               0 

Directory modules/hasim/timing-models/caches/store-buffers/multi-entry
 store-buffer-multi-entry.awb Locally Added               0 
 store-buffer-multi-entry.bsv Locally Added               0 

Directory modules/hasim/timing-models/caches/translation-buffers/null
 dtlb-null.awb             Locally Added               0 
 dtlb-null.bsv             Locally Added               0 

Directory modules/hasim/timing-models/caches/null-caches
 dcache-null.bsv           Locally Modified           99 
 icache-null.bsv           Locally Modified           99 


* Backend re-organization to support non-blocking caches.
* Model IPC with perfect cache now varies from .55 to .85 depending on dependencies and branch predictor accuracy.
* Added DTLB (currently always hits). The backend itself supports resteers.
* Added realistic store-buffer which supports out-of-order machines. Decode stage allocates slots inorder.
* Added write buffer which performs committed stores in order. The DMem stage now checks the DCache/SB/WB in parallel.
* Instructions from the wrong epoch are no longer dropped in EXE, but flow through as nops until they reach commit. 
  This straightens out a lot of interactions with faults and store buffer slots.

Michael P.

----------
pellauer    Date: Tue Mar 24 13:34:53 EDT 2009  CSN: CSN-hasim-models-101
                  Tue Mar 24 17:34:53 UTC 2009


Directory config/pm/hasim-models/l1-caches
 pseudorandom_l1_caches.apm Locally Added               0 

Directory modules/hasim/timing-models/pipeline/inorder/dmem
 inorder-dmem-stage.bsv    Locally Modified          100 

Directory modules/hasim/timing-models/caches
 pseudorandom-caches/      Locally Added               0 

Directory modules/hasim/timing-models/caches/pseudorandom-caches
 icache-pseudorandom.awb   Locally Added               0 
 icache-pseudorandom.bsv   Locally Added               0 
 dcache-pseudorandom.dic   Locally Added               0 
 dcache-pseudorandom.awb   Locally Added               0 
 dcache-pseudorandom.bsv   Locally Added               0 

Directory modules/hasim/timing-models/caches/store-buffers/multi-entry
 store-buffer-multi-entry.awb Locally Modified          100 
 store-buffer-multi-entry.bsv Locally Modified          100 


* Add pseudo-random DCache model. This uses Dynamic parameters to set cache 
  miss rate/retry rate. Also features many nice statistics.
* doLoads has been moved to DMem stage from DCache. This resolves issues 
  where a WB hit with a D$ retry would result in doLoads not getting called.
* Increase store buffer size to 8 as 4 seemed to be causing strange behavior.
* Fix off-by-one error in store buffer credit.
* Pseudo-random ICache is currently a skeleton (null cache). 
  Next to do is implementing it.
  
Michael P.

----------
pellauer    Date: Tue Mar 24 14:01:55 EDT 2009  CSN: CSN-hasim-models-102
                  Tue Mar 24 18:01:55 UTC 2009


Directory modules/hasim/timing-models/caches/null-caches
 dcache-null.bsv           Locally Modified          100 


* Remove doLoads from null dcache.

Michael P.

----------
ruhler      Date: Thu Mar 26 13:41:36 EDT 2009  CSN: CSN-hasim-models-103
                  Thu Mar 26 17:41:36 UTC 2009


Directory modules/hasim/timing-models/chip
 single-core-chip.awb      Locally Modified          102 
 base-types/               Locally Added               0 

Directory modules/hasim/timing-models/chip/base-types
 chip-base-types.awb       Locally Added               0 
 chip-base-types.bsv       Locally Added               0 

Directory modules/hasim/timing-models/pipeline/inorder/dmem
 inorder-dmem-stage.bsv    Locally Modified          102 

Directory modules/hasim/timing-models/pipeline/inorder/execute
 inorder-execute-stage.bsv Locally Modified          102 

Directory modules/hasim/timing-models/pipeline/inorder/decode
 inorder-decode-stage.bsv  Locally Modified          102 

Directory modules/hasim/timing-models/pipeline/inorder/pccalc
 inorder-pccalc-stage.bsv  Locally Modified          102 

Directory modules/hasim/timing-models/pipeline/inorder/branch-predictor
 branch-predictor.bsv      Locally Modified          102 

Directory modules/hasim/timing-models/pipeline/inorder/imem
 inorder-imem-stage.bsv    Locally Modified          102 

Directory modules/hasim/timing-models/pipeline/inorder/commit
 inorder-commit-stage.bsv  Locally Modified          102 

Directory modules/hasim/timing-models/pipeline/inorder/fetch
 inorder-fetch-stage.bsv   Locally Modified          102 

Directory modules/hasim/timing-models/pipeline/inorder/commitq
 inorder-commitq-stage.bsv Locally Modified          102 

Directory modules/hasim/timing-models/pipeline/inorder/base-types
 inorder-pipeline-base-types.bsv Locally Modified          102 

Directory modules/hasim/timing-models/pipeline/inorder/instq
 inorder-instq-stage.bsv   Locally Modified          102 

Directory modules/hasim/timing-models/pipeline/superscalar-out-of-order
 fetch.bsv                 Locally Modified          102 
 rob.bsv                   Locally Modified          102 

Directory modules/hasim/timing-models/pipeline/unpipelined/no-cache
 unpipelined-pipeline.bsv  Locally Modified          102 

Directory modules/hasim/timing-models/caches/write-buffers/blocking
 write-buffer-blocking.bsv Locally Modified          102 

Directory modules/hasim/timing-models/caches/store-buffers/multi-entry
 store-buffer-multi-entry.bsv Locally Modified          102 

Directory modules/hasim/timing-models/caches/translation-buffers/null
 dtlb-null.bsv             Locally Modified          102 
 itlb-null.bsv             Locally Modified          102 

Directory modules/hasim/timing-models/caches/null-caches
 dcache-null.bsv           Locally Modified          102 
 icache-null.bsv           Locally Modified          102 


Changed modules to use *MULTIPLEXED with the number of instances NUM_CPUS in
place of *MULTICTX. Multiplexed state is named as fooPool instead of ctx_foo.
CPU_INSTANCE_ID replaces CONTEXT_ID. cpu_iid replaces ctx. Added functions for
the trivial mapping from CONTEXT_ID to CPU_INSTANCE_ID and back. Added new
chip_base_types which defines NUM_CPUS and CPU_INSTANCE_ID.


----------
pellauer    Date: Wed Apr  1 16:35:19 EDT 2009  CSN: CSN-hasim-models-104
                  Wed Apr  1 20:35:19 UTC 2009


Directory modules/hasim/timing-models/pipeline/inorder/execute
 inorder-execute-stage.bsv Locally Modified          103 

Directory modules/hasim/timing-models/pipeline/inorder/decode
 inorder-decode-stage.bsv  Locally Modified          103 

Directory modules/hasim/timing-models/pipeline/inorder/pccalc
 inorder-pccalc-stage.bsv  Locally Modified          103 

Directory modules/hasim/timing-models/pipeline/inorder/imem
 inorder-imem-stage.bsv    Locally Modified          103 

Directory modules/hasim/timing-models/pipeline/inorder/commit
 inorder-commit-stage.bsv  Locally Modified          103 

Directory modules/hasim/timing-models/pipeline/inorder/fetch
 inorder-fetch-stage.bsv   Locally Modified          103 

Directory modules/hasim/timing-models/pipeline/inorder/commitq
 inorder-commitq-stage.awb Locally Modified          103 
 inorder-commitq-stage.bsv Locally Modified          103 

Directory modules/hasim/timing-models/pipeline/inorder/base-types
 inorder-pipeline-base-types.bsv Locally Modified          103 

Directory modules/hasim/timing-models/pipeline/inorder/instq
 inorder-instq-stage.awb   Locally Modified          103 
 inorder-instq-stage.bsv   Locally Modified          103 

Directory modules/hasim/timing-models/caches/pseudorandom-caches
 icache-pseudorandom.awb   Locally Modified          103 
 icache-pseudorandom.bsv   Locally Modified          103 
 icache-pseudorandom.dic   Locally Added               0 
 dcache-pseudorandom.bsv   Locally Modified          103 

Directory modules/hasim/timing-models/caches/cache-types
 memory-base-types.bsv     Locally Modified          103 

Directory modules/hasim/timing-models/caches/store-buffers/multi-entry
 store-buffer-multi-entry.bsv Locally Modified          103 


* Support pseudo-random ICache. This fails to pass the "towers" benchmark for reasons 
  that are well-known and a plan is in place to fix. Null caches are still the default
  for regressions because of this.

* Support moving the epoch from the functional partition to the timing model.

Michael P.

----------
pellauer    Date: Wed Apr 15 11:11:42 EDT 2009  CSN: CSN-hasim-models-105
                  Wed Apr 15 15:11:42 UTC 2009


Directory modules/hasim/timing-models/structures/branch/predictor/global-history
 global-history-bp-alg.bsv Locally Modified          104 

Directory modules/hasim/timing-models/structures/branch/predictor/2bit
 2bit-bp-alg.bsv           Locally Modified          104 

Directory modules/hasim/timing-models/structures/branch/predictor/not-taken
 not-taken-bp-alg.bsv      Locally Modified          104 

Directory modules/hasim/timing-models/structures/branch/predictor/taken
 taken-bp-alg.bsv          Locally Modified          104 

Directory modules/hasim/timing-models/structures/branch/predictor/simple
 simple-bp-alg.bsv         Locally Modified          104 

Directory modules/hasim/timing-models/pipeline/inorder/dmem
 inorder-dmem-stage.bsv    Locally Modified          104 

Directory modules/hasim/timing-models/pipeline/inorder/execute
 inorder-execute-stage.bsv Locally Modified          104 

Directory modules/hasim/timing-models/pipeline/inorder/decode
 inorder-decode-stage.bsv  Locally Modified          104 

Directory modules/hasim/timing-models/pipeline/inorder/pccalc
 inorder-pccalc-stage.bsv  Locally Modified          104 

Directory modules/hasim/timing-models/pipeline/inorder/branch-predictor
 branch-predictor.bsv      Locally Modified          104 

Directory modules/hasim/timing-models/pipeline/inorder/imem
 inorder-imem-stage.bsv    Locally Modified          104 

Directory modules/hasim/timing-models/pipeline/inorder/commit
 inorder-commit-stage.bsv  Locally Modified          104 

Directory modules/hasim/timing-models/pipeline/inorder/fetch
 inorder-fetch-stage.bsv   Locally Modified          104 

Directory modules/hasim/timing-models/pipeline/inorder/base-types
 inorder-pipeline-base-types.bsv Locally Modified          104 

Directory modules/hasim/timing-models/pipeline/inorder/instq
 inorder-instq-stage.bsv   Locally Modified          104 

Directory modules/hasim/timing-models/pipeline/superscalar-out-of-order
 fetch.bsv                 Locally Modified          104 
 pipeline-6-stage-types.bsv Locally Modified          104 
 rob.bsv                   Locally Modified          104 
 decode.bsv                Locally Modified          104 

Directory modules/hasim/timing-models/pipeline/unpipelined/no-cache
 unpipelined-pipeline.bsv  Locally Modified          104 

Directory modules/hasim/timing-models/caches/pseudorandom-caches
 icache-pseudorandom.awb   Locally Modified          104 
 icache-pseudorandom.bsv   Locally Modified          104 

Directory modules/hasim/timing-models/caches/cache-types
 memory-base-types.bsv     Locally Modified          104 

Directory modules/hasim/timing-models/caches/translation-buffers/null
 dtlb-null.bsv             Locally Modified          104 
 itlb-null.bsv             Locally Modified          104 

Directory modules/hasim/timing-models/caches/null-caches
 icache-null.bsv           Locally Modified          104 


* Altering of models to match the new token allocation scheme.
* The unpipelined model only required minor changes.
* The inorder model front end no longer uses tokens, so it uses InstQ slots
  to distinguish between in-flight fetches.
* The out-of-order model maintains a dummy Decode stage, although 
  getDependencies is now called by the ROB. This stage keeps the ROB's notion
  of credits in sync with the front end.
* The branch predictors no longer use tokens, since they are not available. This
  breaks the globalHistory predictor's notion of updates, but it seems that it
  was already broken and has not been maintained for a while.
  
Michael P.

----------
mcadler     Date: Tue May 12 07:41:39 EDT 2009  CSN: CSN-hasim-models-106
                  Tue May 12 11:41:39 UTC 2009


Directory modules/hasim/timing-models/caches/direct-mapped-dcache/direct-mapped-writeback-dcache
 dcache-direct-mapped-writeback.bsv Locally Modified          105 

Directory modules/hasim/timing-models/caches/direct-mapped-dcache/direct-mapped-writethrough-dcache
 dcache-direct-mapped-writethrough.bsv Locally Modified          105 

Directory modules/hasim/timing-models/caches/direct-mapped-icache
 icache-direct-mapped.bsv  Locally Modified          105 

Directory modules/hasim/timing-models/caches/set-associative-dcache/set-associative-writeback-dcache
 dcache-setassoc-writeback.bsv Locally Modified          105 

Directory modules/hasim/timing-models/caches/set-associative-icache
 icache-setassoc.bsv       Locally Modified          105 

"Stat" interface name is now "STAT"

----------
mcadler     Date: Wed May 20 08:18:17 EDT 2009  CSN: CSN-hasim-models-107
                  Wed May 20 12:18:17 UTC 2009


Directory modules/hasim/timing-models/pipeline/unpipelined/no-cache
 unpipelined-pipeline.bsv  Locally Modified          106 

Get rid of some compiler scheduling warning messages.

----------
hecpellauer    Date: Thu May 21 13:51:41 EDT 2009  CSN: CSN-hasim-models-108
                  Thu May 21 17:51:41 UTC 2009


Directory modules/hasim/timing-models/structures/branch/predictor/2bit
 2bit-bp-alg.bsv           Locally Modified          107 

Directory modules/hasim/timing-models/pipeline/inorder/dmem
 inorder-dmem-stage.bsv    Locally Modified          107 

Directory modules/hasim/timing-models/pipeline/inorder/execute
 inorder-execute-stage.bsv Locally Modified          107 

Directory modules/hasim/timing-models/pipeline/inorder/decode
 inorder-decode-stage.bsv  Locally Modified          107 

Directory modules/hasim/timing-models/pipeline/inorder/pccalc
 inorder-pccalc-stage.bsv  Locally Modified          107 

Directory modules/hasim/timing-models/pipeline/inorder/branch-predictor
 branch-predictor.bsv      Locally Modified          107 

Directory modules/hasim/timing-models/pipeline/inorder/imem
 inorder-imem-stage.bsv    Locally Modified          107 

Directory modules/hasim/timing-models/pipeline/inorder/commit
 inorder-commit-stage.bsv  Locally Modified          107 

Directory modules/hasim/timing-models/pipeline/inorder/commitq
 inorder-commitq-stage.bsv Locally Modified          107 

Directory modules/hasim/timing-models/pipeline/inorder/fetch
 inorder-fetch-stage.bsv   Locally Modified          107 

Directory modules/hasim/timing-models/pipeline/inorder/instq
 inorder-instq-stage.bsv   Locally Modified          107 

Directory modules/hasim/timing-models/caches/write-buffers/blocking
 write-buffer-blocking.bsv Locally Modified          107 

Directory modules/hasim/timing-models/caches/cache-types
 memory-base-types.bsv     Locally Modified          107 

Directory modules/hasim/timing-models/caches/store-buffers/multi-entry
 store-buffer-multi-entry.bsv Locally Modified          107 

Directory modules/hasim/timing-models/caches/translation-buffers/null
 dtlb-null.bsv             Locally Modified          107 
 itlb-null.bsv             Locally Modified          107 

Directory modules/hasim/timing-models/caches/null-caches
 dcache-null.bsv           Locally Modified          107 
 icache-null.bsv           Locally Modified          107 


* Update all timing models to use the new LocalController arrangement. This means ports are no longer conditionally
  written in certain stages. Instead a decision is made a communicated to later stages using the StageController.
  
* Add (* conservative_implicit_conditions *) pragmas in as many places as possible. This was previously impossible, but now
  can substantially reduce rule predicates. If a rule is shown to be a performance bottleneck this pragma can be removed. This
  also works around a mysterious bug in the Bluespec compiler.

Michael P.

----------
pellauer    Date: Thu May 21 15:21:31 EDT 2009  CSN: CSN-hasim-models-109
                  Thu May 21 19:21:31 UTC 2009


Directory modules/hasim/timing-models/pipeline/unpipelined/no-cache
 unpipelined-pipeline.bsv  Locally Modified          107 

Directory modules/hasim/timing-models/pipeline/superscalar-out-of-order
 fetch.bsv                 Locally Modified          107 
 rob.bsv                   Locally Modified          107 

Directory modules/hasim/timing-models/caches/store-buffers/single-entry
 single-entry-store-buffer.bsv Locally Modified          107 

Directory modules/hasim/timing-models/caches/pseudorandom-caches
 icache-pseudorandom.bsv   Locally Modified          107 
 dcache-pseudorandom.bsv   Locally Modified          107 


* Update a few stragglers to the new type names.

Michael P.

----------
mpellaue    Date: Tue May 26 13:13:59 EDT 2009  CSN: CSN-hasim-models-110
                  Tue May 26 17:13:59 UTC 2009


Directory config/pm/hasim-models/l1-caches
 l1_caches.apm             Locally Modified          109 

Directory modules/hasim/timing-models/caches/direct-mapped-dcache/direct-mapped-writethrough-dcache
 dcache-direct-mapped-writethrough.awb Locally Modified          109 
 dcache-direct-mapped-writethrough.bsv Locally Modified          109 
 dcache-direct-mapped-writethrough.dic Locally Modified          109 

Directory modules/hasim/timing-models/caches/cache-types
 memory-base-types.bsv     Locally Modified          109 

Directory modules/hasim/timing-models/caches/store-buffers/multi-entry
 store-buffer-multi-entry.bsv Locally Modified          109 

Directory modules/hasim/timing-models/caches/direct-mapped-icache
 icache-direct-mapped.awb  Locally Modified          109 
 icache-direct-mapped.bsv  Locally Modified          109 
 icache-direct-mapped.dic  Locally Modified          109 


* Update direct-mapped caches to use scratchpad memory.

Michael P.

----------
mpellaue    Date: Tue May 26 17:38:54 EDT 2009  CSN: CSN-hasim-models-111
                  Tue May 26 21:38:54 UTC 2009


Directory modules/hasim/timing-models/caches/direct-mapped-dcache/direct-mapped-writethrough-dcache
 dcache-direct-mapped-writethrough.bsv Locally Modified          110 

Directory modules/hasim/timing-models/caches/cache-types
 memory-base-types.bsv     Locally Modified          110 

Directory modules/hasim/timing-models/caches/direct-mapped-icache
 icache-direct-mapped.bsv  Locally Modified          110 

Directory modules/hasim/timing-models/pipeline/inorder/branch-predictor
 branch-predictor.bsv      Locally Modified          109 

Directory modules/hasim/timing-models/pipeline/inorder/commitq
 inorder-commitq-stage.bsv Locally Modified          109 

Directory modules/hasim/timing-models/pipeline/inorder/instq
 inorder-instq-stage.bsv   Locally Modified          109 


* Update the instQ to drop dead instructions more aggressively. This increases model IPC back to acceptable numbers.

* Turn on local caches for the direct-mapped cache scratchpads.

* Fix bug in the commitQ where it was using the instQ's datatypes.

* Change incorrect rule name in the branch predictor.

Michael P.

----------
ruhler      Date: Wed Jun  3 14:38:38 EDT 2009  CSN: CSN-hasim-models-112
                  Wed Jun  3 18:38:38 UTC 2009


Directory config/pm/hasim-models/pipeline/inorder
 inorder.apm               Locally Modified          111 

Directory modules/hasim/timing-models/chip/base-types
 chip-base-types.awb       Locally Modified          111 
 chip-base-types.bsv       Locally Modified          111 

Directory modules/hasim/timing-models/pipeline/inorder
 line-predictor/           Locally Added               0 

Directory modules/hasim/timing-models/pipeline/inorder/line-predictor
 nobranch/                 Locally Added               0 

Directory modules/hasim/timing-models/pipeline/inorder/line-predictor/nobranch
 nobranch-line-predictor.awb Locally Added               0 
 nobranch-line-predictor.bsv Locally Added               0 

Directory modules/hasim/timing-models/pipeline/inorder/dmem
 inorder-dmem-stage.bsv    Locally Modified          111 

Directory modules/hasim/timing-models/pipeline/inorder/execute
 inorder-execute-stage.bsv Locally Modified          111 

Directory modules/hasim/timing-models/pipeline/inorder/decode
 inorder-decode-stage.bsv  Locally Modified          111 

Directory modules/hasim/timing-models/pipeline/inorder/pccalc
 inorder-pccalc-stage.bsv  Locally Modified          111 
 pccalc.dic                Locally Added               0 
 inorder-pccalc-stage.awb  Locally Modified          111 

Directory modules/hasim/timing-models/pipeline/inorder/branch-predictor
 branch-predictor.bsv      Locally Modified          111 

Directory modules/hasim/timing-models/pipeline/inorder/imem
 inorder-imem-stage.bsv    Locally Modified          111 

Directory modules/hasim/timing-models/pipeline/inorder/fetch
 inorder-fetch-stage.bsv   Locally Modified          111 

Directory modules/hasim/timing-models/pipeline/inorder/commitq
 inorder-commitq-stage.bsv Locally Modified          111 

Directory modules/hasim/timing-models/pipeline/inorder
 inorder.awb               Locally Modified          111 

Directory modules/hasim/timing-models/pipeline/inorder/base-types
 inorder-pipeline-base-types.bsv Locally Modified          111 

Directory modules/hasim/timing-models/pipeline/inorder/instq
 inorder-instq-stage.bsv   Locally Modified          111 

Directory modules/hasim/timing-models/pipeline/inorder
 inorder-pipeline.bsv      Locally Modified          111 

Directory modules/hasim/timing-models/caches/direct-mapped-dcache/direct-mapped-writethrough-dcache
 dcache-direct-mapped-writethrough.bsv Locally Modified          111 

Directory modules/hasim/timing-models/caches/write-buffers/blocking
 write-buffer-blocking.bsv Locally Modified          111 

Directory modules/hasim/timing-models/caches/pseudorandom-caches
 icache-pseudorandom.bsv   Locally Modified          111 
 dcache-pseudorandom.bsv   Locally Modified          111 

Directory modules/hasim/timing-models/caches/cache-types
 memory-base-types.bsv     Locally Modified          111 

Directory modules/hasim/timing-models/caches/direct-mapped-icache
 icache-direct-mapped.bsv  Locally Modified          111 

Directory modules/hasim/timing-models/caches/translation-buffers/null
 dtlb-null.bsv             Locally Modified          111 
 itlb-null.bsv             Locally Modified          111 


Rearranged front end of inorder model:
    Added line predictor.
    Branch predictor now has 2 cycle latency.
    Added 1 cycle latency between fetch and itlb.
    Added 1 cycle latency between fetch and branch predictor.
    IMem now gets icache immediate response instead of it going to pccalc.

Redesigned instruction queue to not store killed bundles if possible and still
work with a nonzero latency front end.

Fixed pseudorandom caches to have a different LSFR for each instance.



----------
pellauer    Date: Fri Jun  5 17:34:57 EDT 2009  CSN: CSN-hasim-models-113
                  Fri Jun  5 21:34:57 UTC 2009


Directory modules/hasim/timing-models/caches/direct-mapped-dcache/direct-mapped-writethrough-dcache
 dcache-direct-mapped-writethrough.bsv Locally Modified          112 

Directory modules/hasim/timing-models/caches/direct-mapped-icache
 icache-direct-mapped.bsv  Locally Modified          112 


Fix a deadlock with multiple contexts. It seems that scratchpad readRsp/writeReq
should not be called in the same rule. By moving it to a different rule all
benchmarks pass with 2 contexts.

The reason this bug only manifested when running with 2 contexts is that 1
context would never fill up a FIFO2.

Michael P.


----------
pellauer    Date: Thu Jun 11 09:37:20 EDT 2009  CSN: CSN-hasim-models-114
                  Thu Jun 11 13:37:20 UTC 2009


Directory modules/hasim/timing-models/pipeline/inorder/pccalc
 inorder-pccalc-stage.bsv  Locally Modified          113 

Directory modules/hasim/timing-models/pipeline/inorder/imem
 inorder-imem-stage.bsv    Locally Modified          113 

Directory modules/hasim/timing-models/pipeline/inorder/base-types
 inorder-pipeline-base-types.bsv Locally Modified          113 

Directory modules/hasim/timing-models/pipeline/inorder/instq
 inorder-instq-stage.bsv   Locally Modified          113 

Directory modules/hasim/timing-models/caches/direct-mapped-dcache/direct-mapped-writeback-dcache
 dcache-direct-mapped-writeback.awb Locally Modified          113 
 dcache-direct-mapped-writeback.bsv Locally Modified          113 
 dcache-direct-mapped-writeback.dic Locally Modified          113 

Directory modules/hasim/timing-models/caches/pseudorandom-caches
 icache-pseudorandom.bsv   Locally Modified          113 

Directory modules/hasim/timing-models/caches/cache-types
 memory-base-types.awb     Locally Modified          113 
 memory-base-types.bsv     Locally Modified          113 

Directory modules/hasim/timing-models/caches/direct-mapped-icache
 icache-direct-mapped.bsv  Locally Modified          113 


* Added ICACHE_MISS_ID, which the CPU will eventually use to implement 
  more realistic InstQ policies.
* If the cache runs out of MISS_IDs it will return Retry on a miss.

Michael P.



----------
ruhler      Date: Fri Jun 12 13:52:27 EDT 2009  CSN: CSN-hasim-models-115
                  Fri Jun 12 17:52:27 UTC 2009


Directory modules/hasim/timing-models/pipeline/inorder/pccalc
 inorder-pccalc-stage.bsv  Locally Modified          114 

Directory modules/hasim/timing-models/pipeline/inorder/fetch
 inorder-fetch-stage.bsv   Locally Modified          114 

Directory modules/hasim/timing-models/pipeline/inorder/base-types
 inorder-pipeline-base-types.bsv Locally Modified          114 

Directory modules/hasim/timing-models/pipeline/inorder/instq
 inorder-instq-stage.bsv   Locally Modified          114 

Directory modules/hasim/timing-models/caches/cache-types
 memory-base-types.bsv     Locally Modified          114 

Implemented a new instruction queue scheme for the inorder model which
separates slot assignments from credits and will hopefully more easily
generalize to multiple threads.


----------
mpellaue    Date: Mon Jun 15 14:54:54 EDT 2009  CSN: CSN-hasim-models-116
                  Mon Jun 15 18:54:54 UTC 2009


Directory modules/hasim/timing-models/pipeline/inorder/commit
 inorder-commit-stage.bsv  Locally Modified          115 

Directory modules/hasim/timing-models/pipeline/inorder/base-types
 inorder-pipeline-base-types.bsv Locally Modified          115 

Directory modules/hasim/timing-models/pipeline/superscalar-out-of-order
 commit.bsv                Locally Modified          115 

Directory modules/hasim/timing-models/pipeline/unpipelined/no-cache
 unpipelined-pipeline.bsv  Locally Modified          115 

Directory modules/hasim/timing-models/caches/direct-mapped-dcache/direct-mapped-writethrough-dcache
 dcache-direct-mapped-writethrough.bsv Locally Modified          115 

Directory modules/hasim/timing-models/caches/pseudorandom-caches
 dcache-pseudorandom.bsv   Locally Modified          115 

Directory modules/hasim/timing-models/caches/write-buffers/blocking
 write-buffer-blocking.bsv Locally Modified          115 

Directory modules/hasim/timing-models/caches/cache-types
 memory-base-types.bsv     Locally Modified          115 

Directory modules/hasim/timing-models/caches/store-buffers/multi-entry
 store-buffer-multi-entry.bsv Locally Modified          115 

Directory modules/hasim/timing-models/caches/null-caches
 dcache-null.bsv           Locally Modified          115 


* Update inorder, ooo, and unpipelined models to use store tokens.
* Null, pseudorandom, and direct mapped caches use store tokens.

Michael P.

----------
pellauer    Date: Fri Jun 19 11:19:45 EDT 2009  CSN: CSN-hasim-models-117
                  Fri Jun 19 15:19:45 UTC 2009


Directory modules/hasim/timing-models/pipeline/inorder/pccalc
 inorder-pccalc-stage.bsv  Locally Modified          116 

Directory modules/hasim/timing-models/pipeline/inorder/commit
 inorder-commit-stage.bsv  Locally Modified          116 

Directory modules/hasim/timing-models/pipeline/superscalar-out-of-order
 commit.bsv                Locally Modified          116 
 fetch.bsv                 Locally Modified          116 
 pipeline-6-stage-types.bsv Locally Modified          116 
 rob.bsv                   Locally Modified          116 

Directory modules/hasim/timing-models/pipeline/unpipelined/no-cache
 unpipelined-pipeline.bsv  Locally Modified          116 


* Update timing models to the new handleFault scheme.
* OOO model now sends fault rewinds from commit instead of ROB.

Michael P.

----------
mpellaue    Date: Mon Jun 22 12:09:54 EDT 2009  CSN: CSN-hasim-models-118
                  Mon Jun 22 16:09:54 UTC 2009


Directory modules/hasim/timing-models/pipeline/inorder/pccalc
 inorder-pccalc-stage.bsv  Locally Modified          117 

Directory modules/hasim/timing-models/pipeline/inorder/imem
 inorder-imem-stage.bsv    Locally Modified          117 

Directory modules/hasim/timing-models/pipeline/inorder/fetch
 inorder-fetch-stage.bsv   Locally Modified          117 

Directory modules/hasim/timing-models/pipeline/inorder/instq
 inorder-instq-stage.bsv   Locally Modified          117 

Directory modules/hasim/timing-models/pipeline/unpipelined/no-cache
 unpipelined-pipeline.bsv  Locally Modified          117 

Directory modules/hasim/timing-models/caches/translation-buffers/null
 dtlb-null.bsv             Locally Modified          117 


* The last checkin inadvertantly broke unaligned accesses. They work again.
* Added some conservative_impliicit_conditions to the inorder front end.

Michael

----------
mpellaue    Date: Mon Jun 22 16:53:02 EDT 2009  CSN: CSN-hasim-models-119
                  Mon Jun 22 20:53:02 UTC 2009


Directory modules/hasim/timing-models/pipeline/inorder/dmem
 inorder-dmem-stage.bsv    Locally Modified          118 

Directory modules/hasim/timing-models/pipeline/inorder/commitq
 inorder-commitq-stage.bsv Locally Modified          118 

Directory modules/hasim/timing-models/caches/direct-mapped-dcache/direct-mapped-writethrough-dcache
 dcache-direct-mapped-writethrough.bsv Locally Modified          118 

Directory modules/hasim/timing-models/caches/pseudorandom-caches
 dcache-pseudorandom.bsv   Locally Modified          118 

Directory modules/hasim/timing-models/caches/cache-types
 memory-base-types.awb     Locally Modified          118 
 memory-base-types.bsv     Locally Modified          118 

Directory modules/hasim/timing-models/caches/direct-mapped-icache
 icache-direct-mapped.bsv  Locally Modified          118 


* Inorder DCache now uses a similar MISS_ID to the front end.
* CommitQ now matches miss responses by local MAF rather than giving out a slot.
* Supported cache models updated to track MISS_IDs.

Michael P.

----------
mpellaue    Date: Thu Jun 25 17:30:18 EDT 2009  CSN: CSN-hasim-models-120
                  Thu Jun 25 21:30:18 UTC 2009


Directory modules/hasim/timing-models/pipeline/inorder/commitq
 inorder-commitq-stage.bsv Locally Modified          119 

Directory modules/hasim/timing-models/pipeline/inorder/instq
 inorder-instq-stage.bsv   Locally Modified          119 

Directory modules/hasim/timing-models/caches/write-buffers/blocking
 write-buffer-blocking.bsv Locally Modified          119 


* Increased cache delayed-response ports to latency 1, as per the latest inorder 
  specification.
  
Michael P.

----------
mpellaue    Date: Mon Aug  3 17:33:13 EDT 2009  CSN: CSN-hasim-models-121
                  Mon Aug  3 21:33:13 UTC 2009


Directory config/pm/hasim-models/l1-caches
 null_l1_caches.apm        Locally Modified          120 
 l1_caches.apm             Locally Modified          120 
 pseudorandom_l1_caches.apm Locally Modified          120 

Directory modules/hasim/timing-models/pipeline/inorder/dmem
 inorder-dmem-stage.bsv    Locally Modified          120 

Directory modules/hasim/timing-models/pipeline/inorder/execute
 inorder-execute-stage.bsv Locally Modified          120 

Directory modules/hasim/timing-models/pipeline/inorder/pccalc
 inorder-pccalc-stage.bsv  Locally Modified          120 

Directory modules/hasim/timing-models/pipeline/inorder/imem
 inorder-imem-stage.bsv    Locally Modified          120 

Directory modules/hasim/timing-models/pipeline/inorder/commit
 inorder-commit-stage.bsv  Locally Modified          120 

Directory modules/hasim/timing-models/pipeline/inorder/commitq
 inorder-commitq-stage.bsv Locally Modified          120 

Directory modules/hasim/timing-models/pipeline/inorder/fetch
 inorder-fetch-stage.bsv   Locally Modified          120 

Directory modules/hasim/timing-models/pipeline/inorder/base-types
 inorder-pipeline-base-types.bsv Locally Modified          120 

Directory modules/hasim/timing-models/pipeline/inorder/instq
 inorder-instq-stage.bsv   Locally Modified          120 

Directory modules/hasim/timing-models/caches/l1-caches
 l1-instruction-caches/    Locally Added               0 

Directory modules/hasim/timing-models/caches/l1-caches/l1-instruction-caches
 alg/                      Locally Added               0 

Directory modules/hasim/timing-models/caches/l1-caches/l1-instruction-caches/alg
 l1-icache-alg-always-hit.awb Locally Added               0 
 l1-icache-alg-always-hit.bsv Locally Added               0 
 l1-icache-alg-direct-mapped.dic Locally Added               0 
 l1-icache-alg-direct-mapped.awb Locally Added               0 
 l1-icache-alg-direct-mapped.bsv Locally Added               0 
 l1-icache-alg-pseudorandom.awb Locally Added               0 
 l1-icache-alg-pseudorandom.bsv Locally Added               0 

Directory modules/hasim/timing-models/caches/l1-caches/l1-instruction-caches
 l1-instruction-cache.awb  Locally Added               0 
 l1-instruction-cache.bsv  Locally Added               0 
 l1-instruction-cache.dic  Locally Added               0 

Directory modules/hasim/timing-models/caches/l1-caches
 l1-arbiters/              Locally Added               0 

Directory modules/hasim/timing-models/caches/l1-caches/l1-arbiters
 static-priority/          Locally Added               0 

Directory modules/hasim/timing-models/caches/l1-caches/l1-arbiters/static-priority
 l1-cache-arbiter-static-priority.awb Locally Added               0 
 l1-cache-arbiter-static-priority.bsv Locally Added               0 

Directory modules/hasim/timing-models/caches/l1-caches
 l1-data-caches/           Locally Added               0 

Directory modules/hasim/timing-models/caches/l1-caches/l1-data-caches
 alg/                      Locally Added               0 

Directory modules/hasim/timing-models/caches/l1-caches/l1-data-caches/alg
 l1-dcache-alg-direct-mapped.awb Locally Added               0 
 l1-dcache-alg-direct-mapped.bsv Locally Added               0 
 l1-dcache-alg-pseudorandom.awb Locally Added               0 
 l1-dcache-alg-pseudorandom.bsv Locally Added               0 
 l1-dcache-alg-always-hit.awb Locally Added               0 
 l1-dcache-alg-always-hit.bsv Locally Added               0 
 l1-dcache-alg-direct-mapped.dic Locally Added               0 

Directory modules/hasim/timing-models/caches/l1-caches/l1-data-caches
 unpipelined/              Locally Added               0 

Directory modules/hasim/timing-models/caches/l1-caches/l1-data-caches/unpipelined
 l1-dcache-controller-unpipelined.awb Locally Added               0 
 l1-dcache-controller-unpipelined.bsv Locally Added               0 
 l1-dcache-controller-unpipelined.dic Locally Added               0 

Directory modules/hasim/timing-models/caches/l1-caches
 l1-caches.awb             Locally Modified          120 
 l1-caches.bsv             Locally Modified          120 
 base-types/               Locally Added               0 

Directory modules/hasim/timing-models/caches/l1-caches/base-types
 l1-cache-base-types.awb   Locally Added               0 
 l1-cache-base-types.bsv   Locally Added               0 

Directory modules/hasim/timing-models/caches/write-buffers/blocking
 write-buffer-blocking.bsv Locally Modified          120 

Directory modules/hasim/timing-models/caches/store-buffers/multi-entry
 store-buffer-multi-entry.bsv Locally Modified          120 

Directory modules/hasim/timing-models/caches
 miss-trackers/            Locally Added               0 

Directory modules/hasim/timing-models/caches/miss-trackers
 unified/                  Locally Added               0 

Directory modules/hasim/timing-models/caches/miss-trackers/unified
 miss-tracker-unified.bsh  Locally Added               0 
 miss-tracker-unified.awb  Locally Added               0 
 miss-tracker-unified.bsv  Locally Added               0 

Directory modules/hasim/timing-models/caches/translation-buffers/null
 dtlb-null.bsv             Locally Modified          120 
 itlb-null.bsv             Locally Modified          120 

Directory modules/hasim/timing-models/caches
 cache-algorithms/         Locally Added               0 

Directory modules/hasim/timing-models/caches/cache-algorithms
 cache-algorithm-always-hit.bsv Locally Added               0 
 cache-algorithms.awb      Locally Added               0 
 cache-algorithm-direct-mapped.bsv Locally Added               0 
 cache-algorithm-pseudorandom.bsv Locally Added               0 
 cache-algorithm-utils.bsv Locally Added               0 

Directory modules/hasim/timing-models/core/cacheless-core
 core-no-cache.bsv         Locally Modified          120 

Directory modules/hasim/timing-models/memory
 memory-magic.bsv          Locally Modified          120 
 memory-magic.awb          Locally Modified          120 


* Cache algorithms are now separated from the caches themselves. The algorithms worry about hit/miss, 
  the caches themselves deal with issues like port arbitration.
* Cache algorithms will be reused at other levels of the cache hierarchy beyond L1.
* Also added a miss tracker which will also be reused across the hierarchy.
* L1 Cache now has an arbiter to deal with contention to the port to main memory.
* The inorder pipeline stages have been updated to work with the new types. 
* The call to getInstruction() has been moved to the IMem stage from the ICache.
* The "magic memory" now actually does something - it has an input FIFO of requests (per CPU) and
  generates load responses (per CPU).
* Therefore the "core-no-cache" instantiates dummy request FIFOs that it never reads or writes.

TODO:
* See if the OOO core can be integrated with the cache hierarchy. (Currently it uses core-no-cache.)
* Construct an L2 cache which interacts with multiple CPUS using the existing cache algorithms.
* Make a set-associative cache algorithm.
* Untwine the hasim_controller from hasim_modellib and move modellib into hasim-models.

Michael P.


----------
mpellaue    Date: Mon Aug 31 18:52:17 EDT 2009  CSN: CSN-hasim-models-122
                  Mon Aug 31 22:52:17 UTC 2009


Directory modules/hasim/timing-models/pipeline/inorder/line-predictor/nobranch
 nobranch-line-predictor.bsv Locally Modified          121 

Directory modules/hasim/timing-models/pipeline/inorder/dmem
 inorder-dmem-stage.bsv    Locally Modified          121 

Directory modules/hasim/timing-models/pipeline/inorder/execute
 inorder-execute-stage.bsv Locally Modified          121 

Directory modules/hasim/timing-models/pipeline/inorder/decode
 inorder-decode-stage.bsv  Locally Modified          121 

Directory modules/hasim/timing-models/pipeline/inorder/pccalc
 inorder-pccalc-stage.bsv  Locally Modified          121 

Directory modules/hasim/timing-models/pipeline/inorder/branch-predictor
 branch-predictor.bsv      Locally Modified          121 

Directory modules/hasim/timing-models/pipeline/inorder/imem
 inorder-imem-stage.bsv    Locally Modified          121 

Directory modules/hasim/timing-models/pipeline/inorder/commit
 inorder-commit-stage.bsv  Locally Modified          121 

Directory modules/hasim/timing-models/pipeline/inorder/commitq
 inorder-commitq-stage.bsv Locally Modified          121 

Directory modules/hasim/timing-models/pipeline/inorder/fetch
 inorder-fetch-stage.bsv   Locally Modified          121 

Directory modules/hasim/timing-models/pipeline/inorder/instq
 inorder-instq-stage.bsv   Locally Modified          121 

Directory modules/hasim/timing-models/pipeline/superscalar-out-of-order
 commit.bsv                Locally Modified          121 
 fetch.bsv                 Locally Modified          121 
 rob.bsv                   Locally Modified          121 

Directory modules/hasim/timing-models/pipeline/unpipelined/no-cache
 unpipelined-pipeline.bsv  Locally Modified          121 

Directory modules/hasim/timing-models/caches/l1-caches/l1-instruction-caches/alg
 l1-icache-alg-always-hit.bsv Locally Modified          121 

Directory modules/hasim/timing-models/caches/l1-caches/l1-instruction-caches
 l1-instruction-cache.bsv  Locally Modified          121 

Directory modules/hasim/timing-models/caches/l1-caches/l1-arbiters/static-priority
 l1-cache-arbiter-static-priority.bsv Locally Modified          121 

Directory modules/hasim/timing-models/caches/l1-caches/l1-data-caches/alg
 l1-dcache-alg-always-hit.bsv Locally Modified          121 

Directory modules/hasim/timing-models/caches/l1-caches/l1-data-caches/unpipelined
 l1-dcache-controller-unpipelined.bsv Locally Modified          121 

Directory modules/hasim/timing-models/caches/write-buffers/blocking
 write-buffer-blocking.bsv Locally Modified          121 

Directory modules/hasim/timing-models/caches/store-buffers/multi-entry
 store-buffer-multi-entry.bsv Locally Modified          121 

Directory modules/hasim/timing-models/caches/translation-buffers/null
 dtlb-null.bsv             Locally Modified          121 
 itlb-null.bsv             Locally Modified          121 

Directory modules/hasim/timing-models/memory
 memory-magic.bsv          Locally Modified          121 


* Change imports to import hasim_model_services and common_services.

Michael P.

----------
emer        Date: Thu Sep  3 14:39:42 EDT 2009  CSN: CSN-hasim-models-123
                  Thu Sep  3 18:39:42 UTC 2009


Directory modules/hasim/timing-models/pipeline/unpipelined/with-cache
 unpipelined-pipeline-with-cache.bsv Locally Modified          122 

Directory modules/hasim/timing-models/caches/l1-caches/l1-instruction-caches/alg
 l1-icache-alg-direct-mapped.bsv Locally Modified          122 

Directory modules/hasim/timing-models/caches/l1-caches/l1-instruction-caches
 l1-instruction-cache.bsv  Locally Modified          122 

Directory modules/hasim/timing-models/caches/l1-caches/l1-data-caches/alg
 l1-dcache-alg-direct-mapped.bsv Locally Modified          122 

Directory modules/hasim/timing-models/caches/l1-caches/l1-data-caches/unpipelined
 l1-dcache-controller-unpipelined.bsv Locally Modified          122 

Partial updates to new model organization. 
Unpipelined model with caches does not work.

----------
ruhler      Date: Tue Sep 15 15:59:56 EDT 2009  CSN: CSN-hasim-models-124
                  Tue Sep 15 19:59:56 UTC 2009


Directory config/pm/hasim-models/pipeline
 smt/                      Locally Added               0 

Directory config/pm/hasim-models/pipeline/smt
 smt.apm                   Locally Added               0 

Directory modules/hasim/timing-models/chip/base-types
 chip-base-types.bsv       Locally Modified          123 

Directory modules/hasim/timing-models/pipeline/inorder/imem
 inorder-imem-stage.bsv    Locally Modified          123 

Directory modules/hasim/timing-models/pipeline/inorder/fetch
 inorder-fetch-stage.bsv   Locally Modified          123 

Directory modules/hasim/timing-models/pipeline
 smt/                      Locally Added               0 

Directory modules/hasim/timing-models/pipeline/smt
 smt-pipeline.bsv          Locally Added               - 
 execute/                  Locally Added               0 

Directory modules/hasim/timing-models/pipeline/smt/execute
 execute.dic               Locally Added               - 
 smt-execute-stage.awb     Locally Added               - 
 smt-execute-stage.bsv     Locally Added               - 

Directory modules/hasim/timing-models/pipeline/smt
 decode/                   Locally Added               0 

Directory modules/hasim/timing-models/pipeline/smt/decode
 decode.dic                Locally Added               - 
 smt-decode-stage.awb      Locally Added               - 
 smt-decode-stage.bsv      Locally Added               - 

Directory modules/hasim/timing-models/pipeline/smt
 pccalc/                   Locally Added               0 

Directory modules/hasim/timing-models/pipeline/smt/pccalc
 smt-pccalc-stage.awb      Locally Added               - 
 smt-pccalc-stage.bsv      Locally Added               - 
 pccalc.dic                Locally Added               - 

Directory modules/hasim/timing-models/pipeline/smt
 commit/                   Locally Added               0 

Directory modules/hasim/timing-models/pipeline/smt/commit
 smt-commit-stage.awb      Locally Added               - 
 smt-commit-stage.bsv      Locally Added               - 
 commit.dic                Locally Added               - 

Directory modules/hasim/timing-models/pipeline/smt
 fetch/                    Locally Added               0 

Directory modules/hasim/timing-models/pipeline/smt/fetch
 smt-fetch-stage.awb       Locally Added               - 
 smt-fetch-stage.bsv       Locally Added               - 
 fetch.dic                 Locally Added               - 

Directory modules/hasim/timing-models/pipeline/smt
 smt.awb                   Locally Added               - 
 base-types/               Locally Added               0 

Directory modules/hasim/timing-models/pipeline/smt/base-types
 smt-pipeline-base-types.awb Locally Added               - 
 smt-pipeline-base-types.bsv Locally Added               - 

Directory modules/hasim/timing-models/pipeline/smt
 instq/                    Locally Added               0 

Directory modules/hasim/timing-models/pipeline/smt/instq
 smt-instq-stage.awb       Locally Added               - 
 smt-instq-stage.bsv       Locally Added               - 

Directory modules/hasim/timing-models/caches/l1-caches/l1-instruction-caches/alg
 l1-icache-alg-pseudorandom.bsv Locally Modified          123 

Directory modules/hasim/timing-models/caches/l1-caches/l1-data-caches/alg
 l1-dcache-alg-pseudorandom.bsv Locally Modified          123 

Directory modules/hasim/timing-models/caches/l1-caches/base-types
 l1-cache-base-types.bsv   Locally Modified          123 

Directory modules/hasim/timing-models/caches/pseudorandom-caches
 icache-pseudorandom.bsv   Locally Modified          123 

Directory modules/hasim/timing-models/caches/cache-types
 memory-base-types.bsv     Locally Modified          123 

Directory modules/hasim/timing-models/caches/direct-mapped-icache
 icache-direct-mapped.bsv  Locally Modified          123 

Directory modules/hasim/timing-models/caches/translation-buffers/null
 itlb-null.bsv             Locally Modified          123 

Directory modules/hasim/timing-models/caches/null-caches
 icache-null.bsv           Locally Modified          123 

Added an inorder smt model.
Added context id to memory bundle and caches to work with both inorder and smt
models.
Updated pseudorandom caches' includes, which were out of date.


----------
pellauer    Date: Wed Sep 16 11:26:16 EDT 2009  CSN: CSN-hasim-models-125
                  Wed Sep 16 15:26:16 UTC 2009


Directory modules/hasim/timing-models/chip
 single-core-chip.awb      Locally Modified          124 

Directory modules/hasim/timing-models/chip/base-types
 chip-base-types.awb       Locally Modified          124 

Directory modules/hasim/timing-models/chip
 single-core-chip.h        Locally Added               0 

Directory modules/hasim/timing-models/pipeline/inorder
 inorder-pipeline.h        Locally Added               0 
 inorder.awb               Locally Modified          124 

Directory modules/hasim/timing-models/pipeline/smt
 smt.awb                   Locally Modified          124 

Directory modules/hasim/timing-models/pipeline/smt/base-types
 smt-pipeline-base-types.awb Locally Modified          124 
 smt-pipeline-base-types.bsv Locally Modified          124 

Directory modules/hasim/timing-models/pipeline/smt
 smt-pipeline.h            Locally Added               0 

Directory modules/hasim/timing-models/pipeline/superscalar-out-of-order
 pipeline-6-stage.awb      Locally Modified          124 
 pipeline-6-stage.h        Locally Added               0 
 rob.bsv                   Locally Modified          124 

Directory modules/hasim/timing-models/pipeline/unpipelined/no-cache
 unpipelined-pipeline.h    Locally Added               0 
 unpipelined-pipeline.awb  Locally Modified          124 

Directory modules/hasim/timing-models/caches/l1-caches
 l1-caches.h               Locally Added               0 
 l1-caches.awb             Locally Modified          124 

Directory modules/hasim/timing-models/core/cacheless-core
 core-no-cache.h           Locally Added               0 
 core-no-cache.awb         Locally Modified          124 

Directory modules/hasim/timing-models/core/core-with-cache
 core-with-cache.h         Locally Added               0 
 core-with-cache.awb       Locally Modified          124 


* Added MapContexts() method to the existing models. This means many have a
  basic software component.

* Unpipelined and inorder models supports --num-cores=N. If --num-cores is set
  it must be less or equal than the workload contexts. So, for instance, you can
  set up hello_004t and then ./run --num-cores=2, but not 6.

* OOO model just asserts that --workload-contexts is always equal to 1. Thus if
  you use the OOO model pair it with a _001t benchmark.
  
* The SMT model supports --num-cores, but still has a static mapping of threads
  per core. Thus currently it cannot be run with an _001t benchmark. You can run
  with _002t if you set --num-cores=1, otherwise you should use _004t for now.
  (Note that hello and towers are currently broken due to a known bug.)
  
* Added a dummy --threads-per-core method to the SMT model that currently does
  nothing.
  
Michael P.


----------
ruhler      Date: Thu Sep 17 16:46:29 EDT 2009  CSN: CSN-hasim-models-126
                  Thu Sep 17 20:46:29 UTC 2009


Directory config/pm/hasim-models/pipeline/smt
 smt.apm                   Locally Modified          125 

Directory modules/hasim/timing-models/pipeline/smt
 smt-pipeline.bsv          Locally Modified          125 

Directory modules/hasim/timing-models/pipeline/smt/fetch
 smt-fetch-stage.bsv       Locally Modified          125 

Directory modules/hasim/timing-models/pipeline/smt
 smt-pipeline.rrr          Locally Added               0 
 smt.awb                   Locally Modified          125 
 smt-pipeline.h            Locally Modified          125 

Directory modules/hasim/timing-models/caches/store-buffers
 smt-multi-entry/          Locally Added               0 

Directory modules/hasim/timing-models/caches/store-buffers/smt-multi-entry
 store-buffer-smt-multi-entry.awb Locally Added               - 
 store-buffer-smt-multi-entry.bsv Locally Added               - 

Hooked up the threads-per-core switch for the smt model.
Made a new smt specific store buffer in preparation for fixing the smt store
buffer problem.

----------
ruhler      Date: Fri Sep 18 13:18:22 EDT 2009  CSN: CSN-hasim-models-127
                  Fri Sep 18 17:18:22 UTC 2009


Directory modules/hasim/timing-models/pipeline/smt/decode
 smt-decode-stage.bsv      Locally Modified          125 

Directory modules/hasim/timing-models/caches/store-buffers/smt-multi-entry
 store-buffer-smt-multi-entry.bsv Locally Modified          126 

Made the smt store buffer multithreaded. Towers and Hello benchmarks now
complete with multiple threads per core.


----------
pellauer    Date: Tue Nov  3 11:10:16 EST 2009  CSN: CSN-hasim-models-128
                  Tue Nov  3 16:10:16 UTC 2009


Directory modules/hasim/timing-models/chip
 multi-core/               Locally Added               0 

Directory modules/hasim/timing-models/chip/multi-core
 multi-core-chip.h         Locally Added               0 
 multi-core-chip.awb       Locally Added               0 
 multi-core-chip.bsv       Locally Added               0 

Directory modules/hasim/timing-models/chip
 single-core-chip.bsv      Locally Modified          127 

Directory modules/hasim/timing-models/structures/branch/target_buffer/one-entry
 btb-one-entry.awb         Locally Modified          127 

Directory modules/hasim/timing-models/structures/branch/stack/1entry
 branch-stack-1entry.awb   Locally Modified          127 

Directory modules/hasim/timing-models/pipeline/inorder/commitq
 inorder-commitq-stage.bsv Locally Modified          127 

Directory modules/hasim/timing-models/pipeline/unpipelined/with-cache
 unpipelined-pipeline-with-cache.bsv Locally Modified          127 

Directory modules/hasim/timing-models/caches/l1-caches/l1-instruction-caches/alg
 l1-icache-alg-always-hit.bsv Locally Modified          127 
 l1-icache-alg-direct-mapped.bsv Locally Modified          127 
 l1-icache-alg-pseudorandom.bsv Locally Modified          127 

Directory modules/hasim/timing-models/caches/l1-caches/l1-instruction-caches
 l1-instruction-cache.bsv  Locally Modified          127 

Directory modules/hasim/timing-models/caches/l1-caches/l1-arbiters/static-priority
 l1-cache-arbiter-static-priority.bsv Locally Modified          127 

Directory modules/hasim/timing-models/caches/l1-caches/l1-data-caches/alg
 l1-dcache-alg-direct-mapped.bsv Locally Modified          127 
 l1-dcache-alg-pseudorandom.bsv Locally Modified          127 
 l1-dcache-alg-always-hit.bsv Locally Modified          127 

Directory modules/hasim/timing-models/caches/l1-caches/l1-data-caches/unpipelined
 l1-dcache-controller-unpipelined.bsv Locally Modified          127 

Directory modules/hasim/timing-models/caches/l1-caches/base-types
 l1-cache-base-types.awb   Locally Modified          127 
 l1-cache-base-types.bsv   Locally Modified          127 

Directory modules/hasim/timing-models/caches/cache-types
 memory-base-types.awb     Locally Modified          127 
 memory-base-types.bsv     Locally Modified          127 

Directory modules/hasim/timing-models/caches/miss-trackers/unified
 miss-tracker-unified.bsv  Locally Modified          127 

Directory modules/hasim/timing-models/caches/cache-algorithms
 cache-algorithm-utils.bsv Locally Modified          127 

Directory modules/hasim/timing-models/caches
 last-level-caches/        Locally Added               0 

Directory modules/hasim/timing-models/caches/last-level-caches
 null/                     Locally Added               0 

Directory modules/hasim/timing-models/caches/last-level-caches/null
 last-level-cache-null.awb Locally Added               0 
 last-level-cache-null.bsv Locally Added               0 

Directory modules/hasim/timing-models/replacement-algorithms/dcache
 dcache-replacement-alg-lru.awb Locally Modified          127 

Directory modules/hasim/timing-models/replacement-algorithms/icache
 icache-replacement-alg-lru.awb Locally Modified          127 

Directory modules/hasim/timing-models/core/cacheless-core
 core-no-cache.bsv         Locally Modified          127 

Directory modules/hasim/timing-models/memory
 dcache-memory-magic.awb   Locally Removed           127 
 dcache-memory-magic.bsv   Locally Removed           127 
 icache-memory-magic.awb   Locally Removed           127 
 memory-null.awb           Locally Added               0 
 icache-memory-magic.bsv   Locally Removed           127 
 memory-null.bsv           Locally Added               0 
 base-types/               Locally Added               0 

Directory modules/hasim/timing-models/memory/base-types
 memory-base-types.awb     Locally Added               0 
 memory-base-types.bsv     Locally Added               0 

Directory modules/hasim/timing-models/memory
 memory-magic.awb          Locally Removed           127 

Directory modules/hasim/timing-models
 uncore/                   Locally Added               0 

Directory modules/hasim/timing-models/uncore
 uncore-with-interconnect.awb Locally Added               0 
 uncore-with-interconnect.bsv Locally Added               0 
 uncore-magic-memory.awb   Locally Added               0 
 uncore-magic-memory.bsv   Locally Added               0 
 memory-controller/        Locally Added               0 

Directory modules/hasim/timing-models/uncore/memory-controller
 magic/                    Locally Added               0 

Directory modules/hasim/timing-models/uncore/memory-controller/magic
 memory-controller-magic.awb Locally Added               0 
 memory-controller-magic.bsv Locally Added               0 

Directory modules/hasim/timing-models/uncore
 interconnects/            Locally Added               0 

Directory modules/hasim/timing-models/uncore/interconnects
 ring/                     Locally Added               0 

Directory modules/hasim/timing-models/uncore/interconnects/ring
 icn-ring.bsv              Locally Added               0 
 icn-ring.awb              Locally Added               0 

Directory modules/hasim/timing-models/uncore/interconnects
 crossbar/                 Locally Added               0 

Directory modules/hasim/timing-models/uncore/interconnects/crossbar
 icn-crossbar.awb          Locally Added               0 
 icn-crossbar.bsv          Locally Added               0 


* Support for simple interconnect models: ring and crossbar.
* The "multi-core" chip needs a core and an uncore. The uncore
  needs an interconnect network, last-level cache (currently null)
  and a memory controller.
* Memory associated with cores is assumed to be cache-incoherent. 
  (Eventually they'll support invalidates). The last-level caches will 
  be the point of cache coherence.
* Magic memory is now null memory for the old "single-core" chip models.
* Magic memory is now "magic memory controller" for the interconnect models.
* Memory types now live in "memory_base_types". Changed many `includes as a result.
* Cache miss ids now have epochs. This resolves a race condition in the instQ/commitQ.
* Fixed a proviso bug in which cache algorithms assumed a fixed size for tokens.

Michael P.

----------
mcadler     Date: Thu Mar 11 20:24:37 EST 2010  CSN: CSN-hasim-models-129
                  Fri Mar 12 01:24:37 UTC 2010


Directory modules/hasim/timing-models/caches/direct-mapped-icache
 icache-direct-mapped.bsv  Locally Modified          128 

Directory modules/hasim/timing-models/caches/cache-algorithms
 cache-algorithm-direct-mapped.bsv Locally Modified          128 

New scratchpad arguments.

----------
pellauer    Date: Fri Apr  9 17:20:06 EDT 2010  CSN: CSN-hasim-models-130
                  Fri Apr  9 21:20:06 UTC 2010


Directory modules/hasim/timing-models/pipeline/inorder/decode
 inorder-decode-prf-scoreboard.bsv Locally Added               0 
 inorder-decode-stage.awb  Locally Modified          129 
 inorder-decode-stage.bsv  Locally Modified          129 

Directory modules/hasim/timing-models/pipeline/inorder/pccalc
 inorder-pccalc-stage.bsv  Locally Modified          129 

Directory modules/hasim/timing-models/pipeline/inorder/fetch
 inorder-fetch-stage.bsv   Locally Modified          129 

Directory modules/hasim/timing-models/pipeline/inorder/instq
 inorder-instq-stage.bsv   Locally Modified          129 

Directory modules/hasim/timing-models/pipeline/inorder/execute
 inorder-execute-stage.bsv Locally Modified          129 

Directory modules/hasim/timing-models/pipeline/inorder/commitq
 inorder-commitq-stage.bsv Locally Modified          129 

Directory modules/hasim/timing-models/caches/write-buffers/blocking
 write-buffer-blocking.bsv Locally Modified          129 

Directory modules/hasim/timing-models/caches/miss-trackers/unified
 miss-tracker-unified.bsv  Locally Modified          129 

Directory modules/hasim/timing-models/uncore/interconnects/ring
 icn-ring.bsv              Locally Modified          129 



* Update inorder model to use MULTIPLEXED_REG and friends.

* Update decode stage to use new DEPENDENCE_CONTROLLER when accessing the
  prfValid bits. The insight is that each context always allocates/deallocs
  independent regions, so therefore we can do different updates in parallel.
  
* Abstract the prfValid bits into a submodule called PRF_SCOREBOARD. Currently
  there are two implementations of this. One is a vector of registers with
  multiple write ports. This can lead to good cycle-to-cycle performance, but
  it's hard to scale. The other uses a single LUTRAM and stalls when multiple
  simultaneous writes occur. This version is currently the default and should
  help us scale to 16 cores.

* Update ring model permutation port with cleaner implementation.

Michael P.

----------
pellauer    Date: Fri Apr 30 18:05:09 EDT 2010  CSN: CSN-hasim-models-131
                  Fri Apr 30 22:05:09 UTC 2010


Directory modules/hasim/timing-models/chip/base-types
 chip-base-types.awb       Locally Modified          130 
 chip-base-types.bsv       Locally Modified          130 

Directory modules/hasim/timing-models/pipeline/inorder/decode
 inorder-decode-stage.bsv  Locally Modified          130 

Directory modules/hasim/timing-models/pipeline/inorder/pccalc
 inorder-pccalc-stage.bsv  Locally Modified          130 

Directory modules/hasim/timing-models/pipeline/inorder/imem
 inorder-imem-stage.bsv    Locally Modified          130 

Directory modules/hasim/timing-models/pipeline/inorder/fetch
 inorder-fetch-stage.bsv   Locally Modified          130 

Directory modules/hasim/timing-models/caches/l1-caches/l1-instruction-caches
 l1-instruction-cache.bsv  Locally Modified          130 

Directory modules/hasim/timing-models/caches/l1-caches/l1-data-caches/unpipelined
 l1-dcache-controller-unpipelined.bsv Locally Modified          130 

Directory modules/hasim/timing-models/caches/l1-caches/base-types
 l1-cache-base-types.bsv   Locally Modified          130 

Directory modules/hasim/timing-models/caches/miss-trackers/unified
 miss-tracker-unified.bsv  Locally Modified          130 

Directory modules/hasim/timing-models/caches/last-level-caches/null
 last-level-cache-null.bsv Locally Modified          130 

Directory modules/hasim/timing-models/uncore
 uncore-with-interconnect.bsv Locally Modified          130 

Directory modules/hasim/timing-models/uncore/memory-controller
 latency-delay/            Locally Added               0 

Directory modules/hasim/timing-models/uncore/memory-controller/latency-delay
 memory-controller-latency-delay.awb Locally Added               0 
 memory-controller-latency-delay.bsv Locally Added               0 

Directory modules/hasim/timing-models/uncore/interconnects
 torus/                    Locally Added               0 

Directory modules/hasim/timing-models/uncore/interconnects/torus
 icn-mesh.awb              Locally Added               0 
 icn-mesh.bsv              Locally Added               0 


Adding Torus/Mesh network model. The changing of the interfacing between the
LLC and OCN will break the ring/crossbar models until they can be brought up
to the new model. Still, this code is important enough that it should be
committed. Other models will be fixed ASAP.

Fixed a bug in Decode where indexing was wrong.

Moved Front End epoch check to IMEM stage from PC Calc. Separated ICache epoch
from Branch predictor epoch.

Code for the mesh still needs much cleaning up. Specifically homes need to be
found for the specialized ports and controllers it uses. Additionally the
Split/Join ports should probably be instantiated elsewhere to keep the OCN all
in the NUM_STATIONS multiplexing domain rather than crossing the
NUM_CPUS/NUM_STATIONS boundary.

Michael P.

----------
pellauer    Date: Wed May  5 02:01:12 EDT 2010  CSN: CSN-hasim-models-132
                  Wed May  5 06:01:12 UTC 2010


Directory config/pm/hasim-models/pipeline/inorder
 inorder.apm               Locally Modified          131 

Directory modules/hasim/timing-models/pipeline/inorder
 inorder-pipeline-back-end.awb Locally Added               0 

Directory modules/hasim/timing-models/pipeline/inorder/decode
 inorder-decode-stage.bsv  Locally Modified          131 

Directory modules/hasim/timing-models/pipeline/inorder/pccalc
 inorder-pccalc-stage.bsv  Locally Modified          131 

Directory modules/hasim/timing-models/pipeline/inorder/imem
 inorder-imem-stage.bsv    Locally Modified          131 

Directory modules/hasim/timing-models/pipeline/inorder
 inorder-pipeline-front-end.bsv Locally Added               0 
 inorder-pipeline.bsv      Locally Modified          131 
 inorder-pipeline-back-end.bsv Locally Added               0 
 inorder-pipeline-front-end.awb Locally Added               0 
 inorder.awb               Locally Modified          131 

Directory modules/hasim/timing-models/pipeline/inorder/base-types
 inorder-pipeline-base-types.bsv Locally Modified          131 

Directory modules/hasim/timing-models/caches/l1-caches/l1-instruction-caches
 l1-instruction-cache.bsv  Locally Modified          131 

Directory modules/hasim/timing-models/uncore/memory-controller/latency-delay
 memory-controller-latency-delay.bsv Locally Modified          131 

Directory modules/hasim/timing-models/uncore/interconnects/ring
 icn-ring.bsv              Locally Modified          131 

Directory modules/hasim/timing-models/uncore/interconnects/crossbar
 icn-crossbar.bsv          Locally Modified          131 


* Bring ring/crossbar over to the new OCN interface.
** This means ring/crossbar are packetized by default. We need to think of some
   way to generalize the network interface so that the LLC is agnostic to
   packetization.
** Model IPC is as terrible for the ring/crossbar as for the mesh. Hello World 
   commits roughly 5000 instructions, which comes from ~6000 ICache hits, ~1700
   ICache misses, and ~20,000 ICache retries due to being out of buffering to
   the OCN. This model will help us zero in on where the performance bottleneck
   is.
** For now there's a lot of duplicated code between the three networks. There
   should be a way to refactor this in the future.

* Fixed a bug that was causing instruction queue slots to be leaked in the 
inorder model.

* Split pipeline into two separate synthesis boundaries to prepare for scaling
  to 16 cores.
  
Michael P.

----------
pellauer    Date: Wed May  5 10:24:33 EDT 2010  CSN: CSN-hasim-models-133
                  Wed May  5 14:24:33 UTC 2010


Directory modules/hasim/timing-models/uncore/interconnects/crossbar
 icn-crossbar.bsv          Locally Modified          132 


* Fix if/else bug in the crossbar.

Michael P.

----------
pellauer    Date: Wed May  5 18:13:24 EDT 2010  CSN: CSN-hasim-models-134
                  Wed May  5 22:13:24 UTC 2010


Directory modules/hasim/timing-models/pipeline/inorder
 inorder.awb               Locally Modified          133 

Directory modules/hasim/timing-models/caches/l1-caches/l1-instruction-caches
 l1-instruction-cache.bsv  Locally Modified          133 

Directory modules/hasim/timing-models/caches/l1-caches/l1-data-caches/unpipelined
 l1-dcache-controller-unpipelined.bsv Locally Modified          133 

Directory modules/hasim/timing-models/caches/miss-trackers/unified
 miss-tracker-unified.bsv  Locally Modified          133 


* Add the ability to forward fills to other Miss Tokens to the ICache. The 
  DCache doesn't make use of this ability yet. This cuts down retries by a
  factor of 2 and nearly doubles IPC.

* Remove now-spurious synthesis boundary on inorder pipeline.

Michael P.

----------
pellauer    Date: Thu May  6 18:28:11 EDT 2010  CSN: CSN-hasim-models-135
                  Thu May  6 22:28:11 UTC 2010


Directory modules/hasim/timing-models/structures/branch/predictor/2bit
 2bit-bp-alg.bsv           Locally Modified          134 

Directory modules/hasim/timing-models/pipeline/inorder/decode
 inorder-decode-stage.awb  Locally Modified          134 
 inorder-decode-stage.bsv  Locally Modified          134 

Directory modules/hasim/timing-models/pipeline/inorder/branch-predictor
 branch-predictor.bsv      Locally Modified          134 
 branch-predictor.dic      Locally Added               0 
 branch-predictor.awb      Locally Modified          134 

Directory modules/hasim/timing-models/uncore/interconnects/ring
 icn-ring.bsv              Locally Modified          134 

Directory modules/hasim/timing-models/uncore/interconnects/torus
 icn-mesh.awb              Locally Modified          134 
 icn-mesh.bsv              Locally Modified          134 



* Move model BTB to Scratchpad. Move branch predictor bits to LUTRAM. Other
  branch predictor algorithms will be temporarily broken until they are
  brought up to the new multiplexing.

* Refactor ports code it its rightful place in modellib.

Michael P.

----------
pellauer    Date: Fri May 14 12:27:42 EDT 2010  CSN: CSN-hasim-models-136
                  Fri May 14 16:27:42 UTC 2010


Directory modules/hasim/timing-models/pipeline/inorder/imem
 inorder-imem-stage.bsv    Locally Modified          135 

Directory modules/hasim/timing-models/caches/l1-caches/l1-instruction-caches
 l1-instruction-cache.bsv  Locally Modified          135 

Directory modules/hasim/timing-models/caches/l1-caches/l1-data-caches/unpipelined
 l1-dcache-controller-unpipelined.bsv Locally Modified          135 

Directory modules/hasim/timing-models/caches/miss-trackers/unified
 miss-tracker-unified.bsv  Locally Modified          135 

Directory modules/hasim/timing-models/caches/cache-algorithms
 cache-algorithm-always-hit.bsv Locally Modified          135 
 cache-algorithm-set-associative.bsv Locally Added               0 
 cache-algorithms.awb      Locally Modified          135 
 cache-algorithm-direct-mapped.bsv Locally Modified          135 
 cache-algorithm-pseudorandom.bsv Locally Modified          135 

Directory modules/hasim/timing-models/caches/last-level-caches
 set-associative/          Locally Added               0 

Directory modules/hasim/timing-models/caches/last-level-caches/set-associative
 last-level-cache-no-coherence.awb Locally Added               0 
 last-level-cache-no-coherence.bsv Locally Added               0 
 last-level-cache-no-coherence.dic Locally Added               0 

Directory modules/hasim/timing-models/uncore/interconnects/crossbar
 icn-crossbar.bsv          Locally Modified          135 


* Add set-asociative cache algorithm.

* Add L2 cache model to inorder pipeline under "last level cache" (meaning last
  cache associated with a single core, naming could be improved) that uses
  set-associative algorithm.

* Model IPC can now reach ~.45 when there is no network contention and the 
  benchmark shows locality.
  
* Fix a couple of epoch/MAF-related bugs.

* Crossbar/bus interconnet now smarter about number of contexts dynamically running.

Michael P.

----------
pellauer    Date: Fri May 14 13:28:58 EDT 2010  CSN: CSN-hasim-models-137
                  Fri May 14 17:28:58 UTC 2010


Directory modules/hasim/timing-models/caches/last-level-caches/set-associative
 last-level-cache-set-associative.awb Locally Added               0 
 last-level-cache-set-associative.bsv Locally Added               0 

Directory modules/hasim/timing-models/caches/last-level-caches
 alg/                      Locally Added               0 

Directory modules/hasim/timing-models/caches/last-level-caches/alg
 llc-set-associative.awb   Locally Added               0 
 llc-set-associative.bsv   Locally Added               0 
 llc-set-associative.dic   Locally Added               0 


* Adding files that were inadvertanetly left out of the last commit.

Michael P.

----------
pellauer    Date: Mon May 17 13:11:37 EDT 2010  CSN: CSN-hasim-models-138
                  Mon May 17 17:11:37 UTC 2010


Directory modules/hasim/timing-models/pipeline/inorder/decode
 inorder-decode-stage.bsv  Locally Modified          137 

Directory modules/hasim/timing-models/pipeline/inorder/pccalc
 inorder-pccalc-stage.bsv  Locally Modified          137 

Directory modules/hasim/timing-models/pipeline/inorder/commit
 inorder-commit-stage.bsv  Locally Modified          137 

Directory modules/hasim/timing-models/pipeline/inorder/execute
 inorder-execute-stage.bsv Locally Modified          137 

Directory modules/hasim/timing-models/caches/cache-algorithms
 cache-algorithm-set-associative.bsv Locally Modified          137 
 cache-algorithm-direct-mapped.bsv Locally Modified          137 
 cache-algorithm-utils.bsv Locally Modified          137 

Directory modules/hasim/timing-models/caches/last-level-caches/alg
 llc-set-associative.bsv   Locally Modified          137 


* Hash in the model cache. This results in a huge improvement to IPC, and a 
  somewhat negative impact on FMR, presumably because the hash is being applied
  twice.

* Move set-associative algorithm from Vector of scratchpads to scratchpad of 
  vectors. This helps offset the negative FMR a bit, and is presumably much
  cheaper.

* Move rewindToToken call from pccalc to decode. Since all front-end redirects
  don't involve tokens, only faults/branch mispredictions need to call this.
  By putting the call in decode we remove some bad race conditions whereby the
  functional partition would become confused about which epoch a token properly
  belongs to.
  
* To handle "dangling" tokens from the previous epoch start using the facility
  to mark a token as a "dummy." This means it does nothing and is not committed.

Michael P.

  

----------
pellauer    Date: Wed May 19 00:24:12 EDT 2010  CSN: CSN-hasim-models-139
                  Wed May 19 04:24:12 UTC 2010


Directory modules/hasim/timing-models/pipeline/inorder/branch-predictor
 branch-predictor.bsv      Locally Modified          138 

Directory modules/hasim/timing-models/caches/write-buffers/blocking
 write-buffer-blocking.bsv Locally Modified          138 

Directory modules/hasim/timing-models/caches/store-buffers/multi-entry
 store-buffer-multi-entry.bsv Locally Modified          138 


* Move branch predictor valid bits to LUTRAM. This cuts down on scratchpad
  accesses a lot.
  
* Bring write/store buffer up to recent coding styles and reduce conflicts.

Michael P.

----------
pellauer    Date: Tue May 25 23:16:33 EDT 2010  CSN: CSN-hasim-models-140
                  Wed May 26 03:16:33 UTC 2010


Directory modules/hasim/timing-models/pipeline/inorder/decode
 inorder-decode-stage.bsv  Locally Modified          139 

Directory modules/hasim/timing-models/pipeline/unpipelined/with-cache
 unpipelined-pipeline-with-cache.awb Locally Modified          139 
 unpipelined-pipeline-with-cache.bsv Locally Modified          139 

Directory modules/hasim/timing-models/caches/last-level-caches/set-associative
 last-level-cache-no-coherence.bsv Locally Modified          139 

Directory modules/hasim/timing-models/caches/last-level-caches/alg
 llc-set-associative.awb   Locally Modified          139 
 llc-set-associative.bsv   Locally Modified          139 

Directory modules/hasim/timing-models/uncore/memory-controller/latency-delay
 memory-controller-latency-delay.bsv Locally Modified          139 


* Bugfix: Decode stage controllers were not setting dynamic number of instances
  correctly.

* Reduce L2 index to 9 bits = 512x4 entries

* Unpipelined with cache model is up to speed and can work with interconnects.

Michael P.

----------
pellauer    Date: Tue Jun  1 17:46:55 EDT 2010  CSN: CSN-hasim-models-141
                  Tue Jun  1 21:46:55 UTC 2010


Directory config/pm/hasim-models/l1-caches
 l1_caches_no_tlbs.apm     Locally Added               0 

Directory modules/hasim/timing-models/pipeline/unpipelined/with-cache
 unpipelined-pipeline-with-cache.h Locally Added               0 

Directory modules/hasim/timing-models/caches/l1-caches
 l1-caches-no-tlbs.h       Locally Added               0 
 l1-caches-no-tlbs.awb     Locally Added               0 
 l1-caches-no-tlbs.bsv     Locally Added               0 

Directory modules/hasim/timing-models/caches/last-level-caches/alg
 llc-set-associative.bsv   Locally Modified          140 

Directory modules/hasim/timing-models/uncore/memory-controller/latency-delay
 memory-controller-latency-delay.bsv Locally Modified          140 


* Unpipelined model with caches is closer to working. Uses caches with no TLBs.

* Bugfix in memory controller.

----------
pellauer    Date: Thu Jun  3 23:00:49 EDT 2010  CSN: CSN-hasim-models-142
                  Fri Jun  4 03:00:49 UTC 2010


Directory modules/hasim/timing-models/pipeline/unpipelined/with-cache
 unpipelined-pipeline-with-cache.bsv Locally Modified          141 

Directory modules/hasim/timing-models/caches/l1-caches
 l1-caches-no-tlbs.bsv     Locally Modified          141 

Directory modules/hasim/timing-models/caches/l1-caches/l1-data-caches/unpipelined
 l1-dcache-controller-unpipelined.bsv Locally Modified          141 

Directory modules/hasim/timing-models/caches/last-level-caches/alg
 llc-set-associative.bsv   Locally Modified          141 


* Unpipelined with cache fixes. Should now run benchmarks to completion.

Michael P.

----------
pellauer    Date: Wed Jun 16 14:36:17 EDT 2010  CSN: CSN-hasim-models-143
                  Wed Jun 16 18:36:17 UTC 2010


Directory modules/hasim/timing-models/pipeline/inorder/fetch
 inorder-fetch-stage.bsv   Locally Modified          142 

Directory modules/hasim/timing-models/pipeline/inorder/instq
 inorder-instq-stage.bsv   Locally Modified          142 

Directory modules/hasim/timing-models/caches/write-buffers/blocking
 write-buffer-blocking.bsv Locally Modified          142 

Directory modules/hasim/timing-models/caches/store-buffers/multi-entry
 store-buffer-multi-entry.bsv Locally Modified          142 

Directory modules/hasim/timing-models/caches/miss-trackers/unified
 miss-tracker-unified.bsv  Locally Modified          142 

Directory modules/hasim/timing-models/uncore/interconnects/torus
 icn-mesh.bsv              Locally Modified          142 


* Fetch, instq, now use STATE_POOL approach to avoid multiplexors.

* Miss tracker, SB, WB only have multiplexors on valid bits, 
  rather than on all bits.

* ICN mesh uses "functional FIFOs" to store virtual channels.

Michael P.

----------
pellauer    Date: Fri Jun 18 17:22:55 EDT 2010  CSN: CSN-hasim-models-144
                  Fri Jun 18 21:22:55 UTC 2010


Directory config/pm/hasim-models/pipeline/superscalar-out-of-order
 superscalar-out-of-order.apm Locally Modified          143 

Directory modules/hasim/timing-models/pipeline/inorder/decode
 inorder-decode-stage.bsv  Locally Modified          143 

Directory modules/hasim/timing-models/pipeline/inorder/pccalc
 inorder-pccalc-stage.bsv  Locally Modified          143 

Directory modules/hasim/timing-models/pipeline/inorder/branch-predictor
 branch-predictor.bsv      Locally Modified          143 

Directory modules/hasim/timing-models/pipeline/inorder/imem
 inorder-imem-stage.bsv    Locally Modified          143 

Directory modules/hasim/timing-models/pipeline/inorder/commit
 inorder-commit-stage.bsv  Locally Modified          143 

Directory modules/hasim/timing-models/pipeline/inorder/execute
 inorder-execute-stage.bsv Locally Modified          143 

Directory modules/hasim/timing-models/pipeline/smt/decode
 smt-decode-stage.bsv      Locally Modified          143 

Directory modules/hasim/timing-models/pipeline/smt/pccalc
 smt-pccalc-stage.bsv      Locally Modified          143 

Directory modules/hasim/timing-models/pipeline/smt/commit
 smt-commit-stage.bsv      Locally Modified          143 

Directory modules/hasim/timing-models/pipeline/smt/fetch
 smt-fetch-stage.bsv       Locally Modified          143 

Directory modules/hasim/timing-models/pipeline/smt/base-types
 smt-pipeline-base-types.bsv Locally Modified          143 

Directory modules/hasim/timing-models/pipeline/superscalar-out-of-order
 commit.bsv                Locally Modified          143 
 pipeline-6-stage.awb      Locally Modified          143 
 fetch.bsv                 Locally Modified          143 
 pipeline-6-stage-types.awb Locally Modified          143 
 mem.bsv                   Locally Modified          143 
 get-results.bsv           Locally Modified          143 
 alu.bsv                   Locally Modified          143 
 rob.bsv                   Locally Modified          143 
 decode.bsv                Locally Modified          143 

Directory modules/hasim/timing-models/caches/l1-caches/l1-instruction-caches
 l1-instruction-cache.bsv  Locally Modified          143 

Directory modules/hasim/timing-models/caches/l1-caches/l1-data-caches/unpipelined
 l1-dcache-controller-unpipelined.bsv Locally Modified          143 

Directory modules/hasim/timing-models/caches/miss-trackers/unified
 miss-tracker-unified.bsv  Locally Modified          143 

Directory modules/hasim/timing-models/caches/cache-algorithms
 cache-algorithm-always-hit.bsv Locally Modified          143 
 cache-algorithm-set-associative.bsv Locally Modified          143 
 cache-algorithm-pseudorandom.bsv Locally Modified          143 

Directory modules/hasim/timing-models/uncore/memory-controller/latency-delay
 memory-controller-latency-delay.bsv Locally Modified          143 


* Cleanup OOO and SMT models. Both will build again, though they don't run 
  succesfully.

* Remove even more MUXes from the inorder model, particularly decode, imem, 
  execute, branch predictor.
  
* Cleanup "multiple fills" in the L1 Caches, where 1 fill goes to multiple 
  dests. This also allows us to remove a rule conflict.
  
Michael P.

----------
pellauer    Date: Tue Jul  6 15:59:06 EDT 2010  CSN: CSN-hasim-models-145
                  Tue Jul  6 19:59:06 UTC 2010


Directory modules/hasim/timing-models/pipeline
 out-of-order/             Locally Added               0 

Directory modules/hasim/timing-models/pipeline/out-of-order
 execute/                  Locally Added               0 

Directory modules/hasim/timing-models/pipeline/out-of-order/execute
 execute.dic               Locally Added               0 
 ooo-execute-stage.awb     Locally Added               0 
 ooo-execute-stage.bsv     Locally Added               0 

Directory modules/hasim/timing-models/pipeline/out-of-order
 decode/                   Locally Added               0 

Directory modules/hasim/timing-models/pipeline/out-of-order/decode
 ooo-decode-stage-sequential.bsv Locally Added               0 
 decode.dic                Locally Added               0 
 ooo-decode-stage.awb      Locally Added               0 
 ooo-decode-prf-scoreboard.bsv Locally Added               0 

Directory modules/hasim/timing-models/pipeline/out-of-order
 commit/                   Locally Added               0 

Directory modules/hasim/timing-models/pipeline/out-of-order/commit
 commit.dic                Locally Added               0 
 ooo-commit-stage.awb      Locally Added               0 
 ooo-commit-stage.bsv      Locally Added               0 

Directory modules/hasim/timing-models/caches/store-buffers/multi-entry
 store-buffer-multi-entry.bsv Locally Modified          144 


* New OOO single-issue model works with inorder framework. Only the Decode, 
  Execute, Commit stages are different.
  ** Decode: Has ROB, OOO issue. Reads commitQ and sends things into a new
             retireQ.
  ** Execute: Handle epochs differently. You can't update epochs on any branch
              mispredict because you may later see older instructions than that
              branch.
  ** Commit: Reads new "retireQ" rather than the completion buffer that reorders
             load/store misses.
             
* Decode uses an ROB which it sequentially searches. FMR is therefore dependent on
  occupancy, though there are many "short-cut" optimizations whereby we can stop
  searching early.

* ROB always stores in-flight instructions so that slot 0 is the oldest 
  instruction. Entries are shifted on a dequeue. This means we only need a LUTRAM
  with 2 read ports and one write port to simulate the ROB.
  
* Small debugging updates to store buffer.

Michael P.

----------
mcadler     Date: Sun Sep  5 09:26:21 EDT 2010  CSN: CSN-hasim-models-146
                  Sun Sep  5 13:26:21 UTC 2010


Directory modules/hasim/timing-models/caches/l1-caches/l1-instruction-caches/alg
 l1-icache-alg-direct-mapped.awb Locally Modified          145 

Directory modules/hasim/timing-models/caches/l1-caches/l1-data-caches/alg
 l1-dcache-alg-direct-mapped.awb Locally Modified          145 

Directory modules/hasim/timing-models/caches/cache-algorithms
 cache-algorithm-set-associative.bsv Locally Modified          145 
 cache-algorithm-direct-mapped.bsv Locally Modified          145 

Directory modules/hasim/timing-models/caches/last-level-caches/alg
 llc-set-associative.awb   Locally Modified          145 
 llc-set-associative.bsv   Locally Modified          145 

- LLC:
  - Fix bug in evictionCheckRsp:  calculation of allValid used || instead of &&,
    causing it always to be true.
  - Remove now unnecessary ugly provisos (used to be caused by scratchpads)
  - Tried to save the code so it could be used with caches of reasonable
    size, but failed.  The valid/alloc bits are store in LUTRAM using an
    access pattern that is too complicated.  Trying to use more than 4 ways
    doesn't compile fast enough.  Caches larger than 64KB don't meet timing.

- Change L1 cache size default to 128KB (was 8KB)
- Make cache awb size config global

----------
mcadler     Date: Tue Sep  7 14:51:01 EDT 2010  CSN: CSN-hasim-models-147
                  Tue Sep  7 18:51:01 UTC 2010


Directory modules/hasim/timing-models/uncore
 uncore-magic-memory.bsv   Locally Modified          146 

Uncore magic memory didn't compile.  Now it works.

----------
mcadler     Date: Thu Oct  7 07:10:18 EDT 2010  CSN: CSN-hasim-models-148
                  Thu Oct  7 11:10:18 UTC 2010


Directory modules/hasim/timing-models/pipeline/inorder/commit
 inorder-commit-stage.bsv  Locally Modified          147 

Emit proper no-event when no instruction is committed in a cycle.

----------
mpellaue    Date: Fri Jan 21 12:47:16 EST 2011  CSN: CSN-hasim-models-149
                  Fri Jan 21 17:47:16 UTC 2011


Directory config/pm/hasim-models/l1-caches
 null_l1_caches.apm        Locally Modified          148 
 l1_caches.apm             Locally Modified          148 
 l1_caches_no_tlbs.apm     Locally Modified          148 
 pseudorandom_l1_caches.apm Locally Modified          148 

Directory config/pm/hasim-models/pipeline/inorder
 inorder.apm               Locally Modified          148 

Directory config/pm/hasim-models/pipeline/smt
 smt.apm                   Locally Modified          148 

Directory config/pm/hasim-models/pipeline/superscalar-out-of-order
 superscalar-out-of-order.apm Locally Modified          148 
 single-issue-out-of-order.apm Locally Modified          148 
 superscalar-in-order.apm  Locally Modified          148 


* Updating .apm files to v2.2 using "awb-shell update model"
* Fixed broken OOO .apms.

----------
mcadler     Date: Mon Jun  6 15:55:43 EDT 2011  CSN: CSN-hasim-models-150
                  Mon Jun  6 19:55:43 UTC 2011


Directory modules/hasim/timing-models/pipeline/unpipelined/no-cache
 unpipelined-pipeline.bsv  Locally Modified          149 
 unpipelined-pipeline.dic  Locally Modified          149 

Add some streaming messages to the unpipelined model, useful for debugging
on FPGAs.  By default, the messages are disabled by replacing the streams
connectin with a NULL implementation.

----------
mcadler     Date: Tue Jul 26 19:39:55 EDT 2011  CSN: CSN-hasim-models-151
                  Tue Jul 26 23:39:55 UTC 2011


Directory modules/hasim/timing-models/pipeline/superscalar-out-of-order
 pipeline-6-stage.awb      Locally Modified          150 
 fetch.bsv                 Locally Modified          150 

Add a debug message.

----------
kfleming    Date: Wed Jul 27 10:32:30 EDT 2011  CSN: CSN-hasim-models-152
                  Wed Jul 27 14:32:30 UTC 2011


Directory modules/hasim/timing-models/caches/cache-algorithms
 cache-algorithm-set-associative.bsv Locally Modified          151 

Switched for loop to zipWith.  This enables bluespec to compile caches for more than 16 cores.

----------
mcadler     Date: Wed Aug  3 20:48:08 EDT 2011  CSN: CSN-hasim-models-153
                  Thu Aug  4 00:48:08 UTC 2011


Directory modules/hasim/timing-models/pipeline/inorder/decode
 inorder-decode-stage.bsv  Locally Modified          152 

Directory modules/hasim/timing-models/uncore/interconnects/torus
 icn-mesh.bsv              Locally Modified          152 

- Fix model deadlock in decode caused by failure to honor drain-after flag.

- Fix compilation error (Bluespec hang) in the mesh model by restructuring
  the crossbar stage.

----------
mcadler     Date: Fri Aug  5 16:14:16 EDT 2011  CSN: CSN-hasim-models-154
                  Fri Aug  5 20:14:16 UTC 2011


Directory modules/hasim/timing-models/caches/last-level-caches/set-associative
 last-level-cache-no-coherence.bsv Locally Modified          153 

Directory modules/hasim/timing-models/uncore/interconnects/torus
 icn-mesh.bsv              Locally Modified          153 

Remove gratuitous reference to the network in the LLC, causing an unneeded
rebuild.

----------
mcadler     Date: Mon Aug  8 10:09:03 EDT 2011  CSN: CSN-hasim-models-155
                  Mon Aug  8 14:09:03 UTC 2011


Directory modules/hasim/timing-models/uncore/interconnects/torus
 icn-mesh.bsv              Locally Modified          154 

- Previous credit scheme was broken: senders were given credit only when a
  virtual channel's FIFO was completely empty!  I didn't add a real credit
  scheme, but modified the current one to allow sending in a virtual channel
  whenever space is available.  This has a huge impact both on performance
  and stability of the network.

- Move the check for whether sender credit exists up to stage 2, thus limiting
  input port winners to those for whom there is some chance of also winning
  an output port.  The effect on performance is minimal but it simplifies
  loops and balances simulator pipeline stages.

- Add a round-robin arbiter to both the input port and output port arbitration
  stages.  The previous arbiter was a fixed priority encoder.

- The round-robin arbiters have no effect!  This is because we currently
  configure only a single virtual channel per lane.  As a result, the real
  arbitration happens when a virtual channel is chosen for a packet's head
  flit at stage 4.  Next, I'll experiment with round-robin arbitration in
  stage 4.

- Add comments to routing rules.

----------
mcadler     Date: Fri Aug 12 15:26:24 EDT 2011  CSN: CSN-hasim-models-156
                  Fri Aug 12 19:26:24 UTC 2011


Directory modules/hasim/timing-models/chip/base-types
 chip-base-types.bsv       Locally Modified          155 

Directory modules/hasim/timing-models/uncore/interconnects/torus
 icn-mesh.bsv              Locally Modified          155 

- Add standard debug printing FShow method for network flits.

- Add an arbiter to the routing decisions (virtual output channel selection)
  made in stage 4.  To meet timing this is now two stages (4 and 5).

- Restructure the stage 4 mesh routing code, eliminating all wires and
  parallel rules, replacing them with vector functions.  This was done to
  enable arbitration.

- Pass more data through the pipeline instead of writing to global storage,
  eliminating but muxes and write/write scheduling hazards.

- Make the debug output more regular.

----------
mcadler     Date: Sat Aug 20 09:32:33 EDT 2011  CSN: CSN-hasim-models-157
                  Sat Aug 20 13:32:33 UTC 2011


Directory modules/hasim/timing-models/uncore/interconnects/torus
 icn-mesh.dic              Locally Added               0 
 icn-mesh.awb              Locally Modified          156 
 icn-mesh.bsv              Locally Modified          156 

- Switch virtual channel grant to random arbiter.  The round-robin arbiter turned
  out to be unfair due to harmonics with channel availability variations.

- Add events for monitoring mesh model virtual channel grants, enabling more
  debugging on FPGAs.

----------
mcadler     Date: Tue Aug 23 08:25:42 EDT 2011  CSN: CSN-hasim-models-158
                  Tue Aug 23 12:25:42 UTC 2011


Directory modules/hasim/timing-models/pipeline/unpipelined/no-cache
 unpipelined-pipeline.bsv  Locally Modified          157 

Directory modules/hasim/timing-models/uncore/interconnects/torus
 icn-mesh.bsv              Locally Modified          157 

- Fix some debugging messages in the mesh model.

- Follow the rewind path for faulting instructions in the unpipelined model.
  While this isn't technically necessary for an unpipelined model, it serves
  as an example of the usual flow and tests the rewind code a bit.

----------
mcadler     Date: Tue Aug 30 08:09:31 EDT 2011  CSN: CSN-hasim-models-159
                  Tue Aug 30 12:09:31 UTC 2011


Directory modules/hasim/timing-models/caches/l1-caches/l1-instruction-caches/alg
 l1-icache-alg-direct-mapped.awb Locally Modified          158 

Directory modules/hasim/timing-models/caches/l1-caches/l1-data-caches/alg
 l1-dcache-alg-direct-mapped.awb Locally Modified          158 

Directory modules/hasim/timing-models/caches/store-buffers/multi-entry
 store-buffer-multi-entry.bsv Locally Modified          158 

Directory modules/hasim/timing-models/uncore/interconnects/torus
 icn-mesh.bsv              Locally Modified          158 

- Fix a deadlock in the timing model's store buffer: the CAM when a commit
  message arrives uses the token ID to find the corresponding entry.  Store
  buffer entries may survive beyond the wrapping of the token ID space
  (though the commit will come before any wrapping).  The CAM logic sometimes
  matched an old instance of a token ID that was waiting to be written back
  instead of the current instance, resulting in a store buffer entry that
  would never be flushed.

- Improve the mesh arbitration.

- Convert L1 cache default sizes to 32KB.  They were set large because the
  current LLC won't synthesize on ACP larger than 64KB.  That is still true
  but I plan to fix the LLC problem.

----------
mcadler     Date: Thu Sep  1 07:33:31 EDT 2011  CSN: CSN-hasim-models-160
                  Thu Sep  1 11:33:31 UTC 2011


Directory modules/hasim/timing-models/caches/cache-algorithms
 cache-algorithm-set-associative.bsv Locally Modified          159 

Directory modules/hasim/timing-models/caches/last-level-caches/set-associative
 last-level-cache-no-coherence.bsv Locally Modified          159 

Directory modules/hasim/timing-models/caches/last-level-caches/alg
 llc-set-associative.awb   Locally Modified          159 

- Move LLC and set associative metadata from LUTRAM to BRAM.  As the number
  of contexts grows these become quite large.  Only one new pipeline stage
  was needed and a new, relatively rare, conflict was introduced between
  set associative lookups and the fill path.

- Move to BRAM enabled 256KB LLC.  We had only been able to synthesize 64KB
  before.  Now the 16 node mesh model meets timing on 10 of 10 cost tables
  tried.  Before it used to be about a 30% success rate.

----------
mcadler     Date: Fri Sep  2 16:39:12 EDT 2011  CSN: CSN-hasim-models-161
                  Fri Sep  2 20:39:12 UTC 2011


Directory modules/hasim/timing-models/uncore/interconnects/torus
 icn-mesh.bsv              Locally Modified          160 

Break crossbar stage rule into two rules to keep Bluespec compile times
acceptable up to 64 simulated nodes.

----------
mcadler     Date: Thu Sep  8 17:11:46 EDT 2011  CSN: CSN-hasim-models-162
                  Thu Sep  8 21:11:46 UTC 2011


Directory modules/hasim/timing-models/caches/l1-caches/l1-instruction-caches/alg
 l1-icache-alg-direct-mapped.awb Locally Modified          161 
 l1-icache-alg-direct-mapped.bsv Locally Modified          161 

Directory modules/hasim/timing-models/caches/l1-caches/l1-data-caches/alg
 l1-dcache-alg-direct-mapped.awb Locally Modified          161 
 l1-dcache-alg-direct-mapped.bsv Locally Modified          161 

Directory modules/hasim/timing-models/caches/cache-algorithms
 cache-algorithm-set-associative.bsv Locally Modified          161 
 cache-algorithm-direct-mapped.bsv Locally Modified          161 

Directory modules/hasim/timing-models/caches/last-level-caches/set-associative
 last-level-cache-no-coherence.bsv Locally Modified          161 
 last-level-cache-no-coherence.dic Locally Modified          161 

Directory modules/hasim/timing-models/caches/last-level-caches/alg
 llc-set-associative.awb   Locally Modified          161 
 llc-set-associative.bsv   Locally Modified          161 

- Add debugging output to the set associative cache model (LLC)

- Add events to the LLC

- Add AWB parameters to control whether L1 cache tags are stored in scratchpads
  or in BRAM.  Frustratingly, when stored in BRAM on ACP the L1 behavior remains
  correct but the LLC starts claiming misses.  So far I've failed to understand
  why.  It could either be a protocol bug or a synthesis tool bug.  The L1
  tags default to scratchpad storage.

----------
mcadler     Date: Tue Sep 13 10:36:33 EDT 2011  CSN: CSN-hasim-models-163
                  Tue Sep 13 14:36:33 UTC 2011


Directory modules/hasim/timing-models/structures/branch/predictor/2bit
 2bit-bp-alg.bsv           Locally Modified          162 

Move branch predictor storage to BRAM.  The LUTRAM storage required for a 64-way
model was quite large.  The new code maintains the same semantics.  Prediction
requests are locked out for a CPU while updates to that CPU are in progress.
A more refined address comparison could be done, but the typical stage controller
of a caller would have this same policy already.

----------
mcadler     Date: Tue Sep 20 23:38:02 EDT 2011  CSN: CSN-hasim-models-164
                  Wed Sep 21 03:38:02 UTC 2011


Directory modules/hasim/timing-models/pipeline/unpipelined/no-cache
 unpipelined-pipeline.bsv  Locally Modified          163 

Use mkStreamsClient_Debug to enable streams debugging when AWB param is set.

----------
mcadler     Date: Fri Sep 23 08:19:29 EDT 2011  CSN: CSN-hasim-models-165
                  Fri Sep 23 12:19:29 UTC 2011


Directory modules/hasim/timing-models/pipeline/inorder/dmem
 inorder-dmem-stage.bsv    Locally Modified          164 

Directory modules/hasim/timing-models/pipeline/inorder/decode
 inorder-decode-stage.bsv  Locally Modified          164 

Directory modules/hasim/timing-models/pipeline/inorder/branch-predictor
 branch-predictor.bsv      Locally Modified          164 

Directory modules/hasim/timing-models/pipeline/inorder/imem
 inorder-imem-stage.bsv    Locally Modified          164 

Directory modules/hasim/timing-models/pipeline/inorder/commit
 inorder-commit-stage.bsv  Locally Modified          164 

Directory modules/hasim/timing-models/pipeline/inorder/fetch
 inorder-fetch-stage.bsv   Locally Modified          164 

Directory modules/hasim/timing-models/pipeline/inorder/execute
 inorder-execute-stage.bsv Locally Modified          164 

Directory modules/hasim/timing-models/caches/write-buffers/blocking
 write-buffer-blocking.bsv Locally Modified          164 

Directory modules/hasim/timing-models/caches/store-buffers/multi-entry
 store-buffer-multi-entry.bsv Locally Modified          164 

Directory modules/hasim/timing-models/caches/translation-buffers/null
 dtlb-null.bsv             Locally Modified          164 
 itlb-null.bsv             Locally Modified          164 

Directory modules/hasim/timing-models/caches/last-level-caches/set-associative
 last-level-cache-no-coherence.bsv Locally Modified          164 

The default mkStageController() provides only a 2-entry FIFO, which is fine
for a normal pipeline.  When a timing model uses both a stage controller and
makes a request to some other pipeline with a rendezvous in the next stage,
the stage controller buffer needs to be as large as the pipeline depth of
the external request.  This is particularly important for multi-FPGA
configurations where the latency may be quite high.

Models are now changed to use mkBufferedStageController() when an external
pipeline is embedded within a set of stages.


----------
mcadler     Date: Sat Sep 24 11:02:15 EDT 2011  CSN: CSN-hasim-models-166
                  Sat Sep 24 15:02:15 UTC 2011


Directory modules/hasim/timing-models/pipeline/inorder/commitq
 inorder-commitq-stage.bsv Locally Modified          165 

Move large bundlesPool to BRAM.  The extra pipeline stage and conflict due to
a single read port appear not to have a significant effect on simulator
performance.

----------
mcadler     Date: Tue Oct  4 14:52:08 EDT 2011  CSN: CSN-hasim-models-167
                  Tue Oct  4 18:52:08 UTC 2011


Directory modules/hasim/timing-models/pipeline/inorder/commitq
 inorder-commitq-stage.bsv Locally Modified          166 

Directory modules/hasim/timing-models/caches/l1-caches/l1-instruction-caches
 l1-instruction-cache.bsv  Locally Modified          166 

Directory modules/hasim/timing-models/caches/l1-caches/l1-data-caches/unpipelined
 l1-dcache-controller-unpipelined.bsv Locally Modified          166 

Directory modules/hasim/timing-models/uncore/interconnects/torus
 icn-mesh.bsv              Locally Modified          166 

- Add buffering for parallel accesses to scratchpad memories.
- Tweak to event data structure hacks to support 128 node networks.
- Clean up debug messages in commitq.

----------
mcadler     Date: Sat Oct 22 08:51:45 EDT 2011  CSN: CSN-hasim-models-168
                  Sat Oct 22 12:51:45 UTC 2011


Directory modules/hasim/timing-models/uncore/interconnects/torus
 icn-mesh.bsv              Locally Modified          167 

Manage the storage for arbiters explicitly instead of allowing each individual
arbiter to hold its own state in a register.  The logic expansion with separate
storage was significant for large numbers of nodes.

----------
mcadler     Date: Sun Oct 23 09:28:44 EDT 2011  CSN: CSN-hasim-models-169
                  Sun Oct 23 13:28:44 UTC 2011


Directory modules/hasim/timing-models/pipeline/inorder/instq
 inorder-instq-stage.bsv   Locally Modified          168 

Directory modules/hasim/timing-models/pipeline/inorder/commitq
 inorder-commitq-stage.bsv Locally Modified          168 

Directory modules/hasim/timing-models/caches/miss-trackers/unified
 miss-tracker-unified.bsv  Locally Modified          168 

Multi-write LUTRAM is an expensive structure as the number of contexts grows
large.  Use the pseudo-multi-write version instead with the same interface
but serialized writes.  The implementation still allows rules that might
write to fire in parallel.  There is little (perhaps no) significant impact
on simulator performance.

----------
mcadler     Date: Mon Oct 24 10:34:15 EDT 2011  CSN: CSN-hasim-models-170
                  Mon Oct 24 14:34:15 UTC 2011


Directory modules/hasim/timing-models/pipeline/inorder/branch-predictor
 branch-predictor.bsv      Locally Modified          169 

Directory modules/hasim/timing-models/pipeline/inorder/instq
 inorder-instq-stage.bsv   Locally Modified          169 

Reduce LUTRAM (no measured simulator performance change in in-order mesh model):

- branch predictor: Move btbValidsPool to BRAM.
- instq: Move slotsPool and mafPool to BRAM.

----------
mcadler     Date: Tue Oct 25 11:35:42 EDT 2011  CSN: CSN-hasim-models-171
                  Tue Oct 25 15:35:42 UTC 2011


Directory modules/hasim/timing-models/structures/branch/predictor/2bit
 2bit-bp-alg.bsv           Locally Modified          170 

Directory modules/hasim/timing-models/pipeline/inorder/commit
 inorder-commit-stage.bsv  Locally Modified          170 

- Use MULTIPLEXED_REG instead of MULTIPLEXED#(..., Reg#()) in commit logic.
  The former uses a LUTRAM, the latter a vector of registers and muxes.

- More efficient tracking of updates in flight in the branch predictor.

----------
mcadler     Date: Fri Oct 28 08:02:15 EDT 2011  CSN: CSN-hasim-models-172
                  Fri Oct 28 12:02:15 UTC 2011


Directory modules/hasim/timing-models/caches/miss-trackers/unified
 miss-tracker-unified.bsv  Locally Modified          171 

- Use pseudo versions of multi-write port registers for events that are rare.
  This allows rules that might write to fire and uses a simpler structure.
  Actual parallel writes are serialized.

- Manage free list LUTRAM read ports explicitly.  Bluespec fails to merge
  read ports on some mutually exclusive rules.  For our 128 context model
  each free list read port is 2K x 4 bits.

- Move some LUTRAM storage to BRAM.

----------
mcadler     Date: Thu Jan 19 08:01:18 EST 2012  CSN: CSN-hasim-models-173
                  Thu Jan 19 13:01:18 UTC 2012


Directory modules/hasim/timing-models/pipeline/inorder/line-predictor/nobranch
 nobranch-line-predictor.bsv Locally Modified          172 

Directory modules/hasim/timing-models/pipeline/inorder/dmem
 inorder-dmem-stage.bsv    Locally Modified          172 

Directory modules/hasim/timing-models/pipeline/inorder/decode
 inorder-decode-stage.bsv  Locally Modified          172 

Directory modules/hasim/timing-models/pipeline/inorder/pccalc
 inorder-pccalc-stage.bsv  Locally Modified          172 

Directory modules/hasim/timing-models/pipeline/inorder/branch-predictor
 branch-predictor.bsv      Locally Modified          172 

Directory modules/hasim/timing-models/pipeline/inorder/imem
 inorder-imem-stage.bsv    Locally Modified          172 

Directory modules/hasim/timing-models/pipeline/inorder/commit
 inorder-commit-stage.bsv  Locally Modified          172 

Directory modules/hasim/timing-models/pipeline/inorder/fetch
 inorder-fetch-stage.bsv   Locally Modified          172 

Directory modules/hasim/timing-models/pipeline/inorder/instq
 inorder-instq-stage.bsv   Locally Modified          172 

Directory modules/hasim/timing-models/pipeline/inorder/execute
 inorder-execute-stage.bsv Locally Modified          172 

Directory modules/hasim/timing-models/pipeline/inorder/commitq
 inorder-commitq-stage.bsv Locally Modified          172 

Directory modules/hasim/timing-models/caches/l1-caches/l1-instruction-caches
 l1-instruction-cache.bsv  Locally Modified          172 

Directory modules/hasim/timing-models/caches/l1-caches/l1-arbiters/static-priority
 l1-cache-arbiter-static-priority.bsv Locally Modified          172 

Directory modules/hasim/timing-models/caches/l1-caches/l1-data-caches/unpipelined
 l1-dcache-controller-unpipelined.bsv Locally Modified          172 

Directory modules/hasim/timing-models/caches/write-buffers/blocking
 write-buffer-blocking.bsv Locally Modified          172 

Directory modules/hasim/timing-models/caches/store-buffers/multi-entry
 store-buffer-multi-entry.bsv Locally Modified          172 

Directory modules/hasim/timing-models/caches/translation-buffers/null
 dtlb-null.bsv             Locally Modified          172 
 itlb-null.bsv             Locally Modified          172 

Directory modules/hasim/timing-models/caches/last-level-caches/set-associative
 last-level-cache-no-coherence.bsv Locally Modified          172 

Directory modules/hasim/timing-models/uncore/memory-controller/latency-delay
 memory-controller-latency-delay.bsv Locally Modified          172 

Directory modules/hasim/timing-models/uncore/interconnects/torus
 icn-mesh.bsv              Locally Modified          172 

Use new named versions of controllers to enable scanning.

----------
mcadler     Date: Fri Jan 20 08:52:59 EST 2012  CSN: CSN-hasim-models-174
                  Fri Jan 20 13:52:59 UTC 2012


Directory modules/hasim/timing-models/uncore/interconnects/torus
 icn-mesh.bsv              Locally Modified          173 

Standard local controller now supports extra active instances (memory controller).

----------
mcadler     Date: Fri Feb 17 19:29:18 EST 2012  CSN: CSN-hasim-models-175
                  Sat Feb 18 00:29:18 UTC 2012


Directory modules/hasim/timing-models/pipeline/unpipelined/no-cache
 unpipelined-pipeline.bsv  Locally Modified          174 
 unpipelined-pipeline.dic  Locally Modified          174 

Use STDIO instead of STREAMS.

----------
mcadler     Date: Wed Feb 22 10:45:17 EST 2012  CSN: CSN-hasim-models-176
                  Wed Feb 22 15:45:17 UTC 2012


Directory modules/hasim/timing-models/pipeline/inorder/decode
 inorder-decode-stage.bsv  Locally Modified          175 

Directory modules/hasim/timing-models/caches/store-buffers/multi-entry
 store-buffer-multi-entry.bsv Locally Modified          175 

Fix model deadlock:  sending a request to the functional partition should be treated as
a channel with credits.  The caller must guarantee to provide buffering space to receive
all outstanding responses.  Failure to do so can lead to deadlocks in the functional
partition during contended operations, such as rewind.  In the most recent deadlock,
rewind backed up due to lack of buffering and a dependence chain in the timing model
that didn't allow rewind to proceed until some other functional operation could
complete.  The functional operation was blocked by the rewind.

Debugged completely on hardware using debug scan!

----------
mcadler     Date: Sun Mar 25 17:02:16 EDT 2012  CSN: CSN-hasim-models-177
                  Sun Mar 25 21:02:16 UTC 2012


Directory modules/hasim/timing-models/pipeline/inorder/pccalc
 inorder-pccalc-stage.bsv  Locally Modified          176 
 pccalc.dic                Locally Removed           176 
 inorder-pccalc-stage.awb  Locally Modified          176 

Directory modules/hasim/timing-models/pipeline/inorder/commit
 inorder-commit-stage.bsv  Locally Modified          176 
 commit.dic                Locally Modified          176 

Directory modules/hasim/timing-models/pipeline/inorder/fetch
 inorder-fetch-stage.bsv   Locally Modified          176 
 fetch.dic                 Locally Modified          176 

Directory modules/hasim/timing-models/pipeline/inorder/instq
 inorder-instq-stage.bsv   Locally Modified          176 

Directory modules/hasim/timing-models/pipeline/inorder/execute
 execute.dic               Locally Modified          176 
 inorder-execute-stage.bsv Locally Modified          176 

Directory modules/hasim/timing-models/pipeline/out-of-order/execute
 execute.dic               Locally Modified          176 
 ooo-execute-stage.bsv     Locally Modified          176 

Directory modules/hasim/timing-models/pipeline/out-of-order/commit
 commit.dic                Locally Modified          176 
 ooo-commit-stage.bsv      Locally Modified          176 

Directory modules/hasim/timing-models/pipeline/smt/execute
 execute.dic               Locally Modified          176 
 smt-execute-stage.bsv     Locally Modified          176 

Directory modules/hasim/timing-models/pipeline/smt/pccalc
 smt-pccalc-stage.awb      Locally Modified          176 
 smt-pccalc-stage.bsv      Locally Modified          176 
 pccalc.dic                Locally Removed           176 

Directory modules/hasim/timing-models/pipeline/smt/commit
 smt-commit-stage.bsv      Locally Modified          176 
 commit.dic                Locally Modified          176 

Directory modules/hasim/timing-models/pipeline/smt/fetch
 smt-fetch-stage.bsv       Locally Modified          176 
 fetch.dic                 Locally Modified          176 

Directory modules/hasim/timing-models/pipeline/smt/instq
 smt-instq-stage.bsv       Locally Modified          176 

Directory modules/hasim/timing-models/pipeline/unpipelined/with-cache
 unpipelined-pipeline-with-cache.bsv Locally Modified          176 
 unpipelined-pipeline-with-cache.dic Locally Modified          176 

Directory modules/hasim/timing-models/pipeline/unpipelined/no-cache
 unpipelined-pipeline.bsv  Locally Modified          176 
 unpipelined-pipeline.dic  Locally Modified          176 

Directory modules/hasim/timing-models/caches/l1-caches/l1-instruction-caches
 l1-instruction-cache.awb  Locally Modified          176 
 l1-instruction-cache.bsv  Locally Modified          176 
 l1-instruction-cache.dic  Locally Removed           176 

Directory modules/hasim/timing-models/caches/l1-caches/l1-data-caches/unpipelined
 l1-dcache-controller-unpipelined.awb Locally Modified          176 
 l1-dcache-controller-unpipelined.bsv Locally Modified          176 
 l1-dcache-controller-unpipelined.dic Locally Removed           176 

Directory modules/hasim/timing-models/caches/direct-mapped-dcache/direct-mapped-writeback-dcache
 dcache-direct-mapped-writeback.bsv Locally Modified          176 
 dcache-direct-mapped-writeback.dic Locally Modified          176 

Directory modules/hasim/timing-models/caches/direct-mapped-dcache/direct-mapped-writethrough-dcache
 dcache-direct-mapped-writethrough.bsv Locally Modified          176 
 dcache-direct-mapped-writethrough.dic Locally Modified          176 

Directory modules/hasim/timing-models/caches/pseudorandom-caches
 icache-pseudorandom.awb   Locally Modified          176 
 dcache-pseudorandom.dic   Locally Removed           176 
 icache-pseudorandom.bsv   Locally Modified          176 
 icache-pseudorandom.dic   Locally Removed           176 
 dcache-pseudorandom.awb   Locally Modified          176 
 dcache-pseudorandom.bsv   Locally Modified          176 

Directory modules/hasim/timing-models/caches/direct-mapped-icache
 icache-direct-mapped.bsv  Locally Modified          176 
 icache-direct-mapped.dic  Locally Modified          176 

Directory modules/hasim/timing-models/caches/set-associative-dcache/set-associative-writeback-dcache
 dcache-setassoc-writeback.dic Locally Removed           176 
 dcache-setassoc-writeback.awb Locally Modified          176 
 dcache-setassoc-writeback.bsv Locally Modified          176 

Directory modules/hasim/timing-models/caches/last-level-caches/set-associative
 last-level-cache-set-associative.bsv Locally Modified          176 
 last-level-cache-no-coherence.bsv Locally Modified          176 
 last-level-cache-no-coherence.dic Locally Modified          176 

Directory modules/hasim/timing-models/caches/set-associative-icache
 icache-setassoc.awb       Locally Modified          176 
 icache-setassoc.bsv       Locally Modified          176 
 icache-setassoc.dic       Locally Removed           176 

Statistics IDs are now global strings instead of dictionary entries.

----------
mcadler     Date: Wed Apr 11 09:43:02 EDT 2012  CSN: CSN-hasim-models-178
                  Wed Apr 11 13:43:02 UTC 2012


Directory modules/hasim/timing-models/chip/base-types
 chip-base-types.bsv       Locally Modified          177 

Directory modules/hasim/timing-models/pipeline/inorder/decode
 inorder-decode-stage.bsv  Locally Modified          177 

Rewind and get dependencies share a pipeline in the model but may conflict
in the functional model if rewind is attempted while too many dependency
requests are in flight (even for other contexts).  Limit pipelined requests
to either one category or the other, allowing at most one of a type if
the other type is already in flight.

This affects model simulation rate only.  Since rewinds are relatively
infrequent the model performance is about the same.

----------
mcadler     Date: Fri Apr 27 21:15:15 EDT 2012  CSN: CSN-hasim-models-179
                  Sat Apr 28 01:15:15 UTC 2012


Directory modules/hasim/timing-models/chip/base-types
 chip-base-types.bsv       Locally Modified          178 

Directory modules/hasim/timing-models/caches/last-level-caches/set-associative
 last-level-cache-no-coherence.bsv Locally Modified          178 

Directory modules/hasim/timing-models/uncore/memory-controller/latency-delay
 memory-controller-latency-delay.bsv Locally Modified          178 

Latest compiler appears not to appreciate partial updates to anonymous structs.

----------
mcadler     Date: Wed May 16 11:05:59 EDT 2012  CSN: CSN-hasim-models-180
                  Wed May 16 15:05:59 UTC 2012


Directory modules/hasim/timing-models/chip/multi-core
 multi-core-chip.h         Locally Modified          179 

Directory modules/hasim/timing-models/caches/last-level-caches/set-associative
 last-level-cache-no-coherence.bsv Locally Modified          179 

Directory modules/hasim/timing-models/uncore
 uncore-with-interconnect.h Locally Added               0 
 uncore-with-interconnect.awb Locally Modified          179 
 uncore-magic-memory.h     Locally Added               0 
 uncore-magic-memory.awb   Locally Modified          179 

Directory modules/hasim/timing-models/uncore/interconnects/torus
 icn-mesh.cpp              Locally Added               0 
 icn-mesh.rrr              Locally Added               0 
 icn-mesh.h                Locally Added               0 
 icn-mesh.awb              Locally Modified          179 
 icn-mesh.bsv              Locally Modified          179 

- Add software stubs for uncore.

- The mesh network routing table was too large when simulating 128 nodes.
  Reduce the size by restructuring the table.  Instead of routing by
  computing source and destination coordinates, the table now gives
  a direction of travel for each source/destination pair.  Instead of
  using hardware, the table itself is computed during initialization
  in software and scanned in.  For 128 nodes, the routing MUX tree
  is now derived from a 258-bit vector instead of a 2Kb vector.

----------
mcadler     Date: Sun Jul 29 14:25:33 EDT 2012  CSN: CSN-hasim-models-181
                  Sun Jul 29 18:25:33 UTC 2012


Directory modules/hasim/timing-models/pipeline/inorder
 inorder-pipeline.h        Locally Modified          180 

Directory modules/hasim/timing-models/pipeline/smt
 smt-pipeline.h            Locally Modified          180 

Directory modules/hasim/timing-models/pipeline/unpipelined/with-cache
 unpipelined-pipeline-with-cache.h Locally Modified          180 

Directory modules/hasim/timing-models/pipeline/unpipelined/no-cache
 unpipelined-pipeline.h    Locally Modified          180 

Update for new --help argument interface.

----------
mcadler     Date: Mon Oct  1 18:45:00 EDT 2012  CSN: CSN-hasim-models-182
                  Mon Oct  1 22:45:00 UTC 2012


Directory modules/hasim/timing-models/structures/branch/predictor/2bit
 2bit-bp-alg.bsv           Locally Modified          181 

Directory modules/hasim/timing-models/pipeline/inorder/commitq
 inorder-commitq-stage.bsv Locally Modified          181 

Directory modules/hasim/timing-models/pipeline/unpipelined/no-cache
 unpipelined-pipeline.bsv  Locally Modified          181 

Directory modules/hasim/timing-models/caches/cache-algorithms
 cache-algorithm-set-associative.bsv Locally Modified          181 
 cache-algorithm-direct-mapped.bsv Locally Modified          181 

- Add buffering to stage controllers in the unpipelined models to permit full
  throughput in functional pipelines.

- Interface change to pseudo-buffered multi-read BRAM.

----------
mcadler     Date: Thu Oct  4 21:40:15 EDT 2012  CSN: CSN-hasim-models-183
                  Fri Oct  5 01:40:15 UTC 2012


Directory config/pm/hasim-models/pipeline/inorder
 inorder.apm               Locally Modified          182 

Directory config/pm/hasim-models/pipeline/smt
 smt.apm                   Locally Modified          182 

Directory config/pm/hasim-models/pipeline/superscalar-out-of-order
 superscalar-out-of-order.apm Locally Modified          182 
 single-issue-out-of-order.apm Locally Modified          182 
 superscalar-in-order.apm  Locally Modified          182 

Directory modules/hasim/timing-models/structures
 base-types/               Locally Added               0 

Directory modules/hasim/timing-models/structures/base-types
 model-structures-base-types.awb Locally Added               0 
 next-address-predictor-base.bsv Locally Added               0 

Directory modules/hasim/timing-models/structures/branch/target_buffer/multi-entry
 btb-multi-entry.awb       Locally Modified          182 
 btb-multi-entry.bsv       Locally Modified          182 

Directory modules/hasim/timing-models/structures/branch/predictor
 2bit/                     Locally Removed           182 

Directory modules/hasim/timing-models/structures/branch/predictor/2bit
 2bit-bp-alg.awb           Locally Removed           182 
 2bit-bp-alg.bsv           Locally Removed           182 

Directory modules/hasim/timing-models/structures/branch/predictor
 not-taken/                Locally Removed           182 

Directory modules/hasim/timing-models/structures/branch/predictor/not-taken
 not-taken-bp-alg.awb      Locally Removed           182 
 not-taken-bp-alg.bsv      Locally Removed           182 

Directory modules/hasim/timing-models/structures/branch/predictor
 taken/                    Locally Removed           182 

Directory modules/hasim/timing-models/structures/branch/predictor/taken
 taken-bp-alg.awb          Locally Removed           182 
 taken-bp-alg.bsv          Locally Removed           182 

Directory modules/hasim/timing-models/structures/branch/predictor
 static/                   Locally Added               0 

Directory modules/hasim/timing-models/structures/branch/predictor/static
 static-bp-alg.awb         Locally Added               0 
 static-bp-alg.bsv         Locally Added               0 

Directory modules/hasim/timing-models/structures/branch/predictor
 simple/                   Locally Removed           182 

Directory modules/hasim/timing-models/structures/branch/predictor/simple
 simple-bp-alg.awb         Locally Removed           182 
 simple-bp-alg.bsv         Locally Removed           182 

Directory modules/hasim/timing-models/structures/branch/predictor/n-bit
 n-bit-bp-alg.awb          Locally Added               - 
 n-bit-bp-alg.bsv          Locally Added               - 
 2bit-bp-alg.awb           Locally Removed           182 
 2bit-bp-alg.bsv           Locally Removed           182 

Directory modules/hasim/timing-models/pipeline/inorder/branch-predictor
 branch-predictor.bsv      Locally Modified          182 
 branch-predictor.awb      Locally Modified          182 

Directory modules/hasim/timing-models/pipeline/inorder
 inorder.awb               Locally Modified          182 

Directory modules/hasim/timing-models/pipeline/smt
 smt.awb                   Locally Modified          182 

Directory modules/hasim/timing-models/pipeline/superscalar-out-of-order
 pipeline-6-stage.awb      Locally Modified          182 
 fetch.bsv                 Locally Modified          182 

Initial cleanup in preparation for moving branch prediction and the BTB to
the head of the inorder pipeline:

- Define a global type for model structures, where interfaces and base types
  are kept.  Actual structures thus must conform to a common interface.  For
  now only next address predictors are defined.

- Branch predictors and BTBs are instances of the general next address
  predictor interface.

- Branch predictors:
  - Generalize the 2-bit predictor into an n-bit predictor based on a parameter.
  - Merge static taken and not taken predictors into a single module with
    a parameter.

- Add an n-way set-associative BTB.

- BTB was implemented directly in the inorder model's branch predictor stage
  and it was direct mapped.  Simplified the branch predictor pipeline, doing
  BTB and branch prediction in parallel and now use 4 ways per set by default.

----------
mcadler     Date: Fri Oct  5 13:33:19 EDT 2012  CSN: CSN-hasim-models-184
                  Fri Oct  5 17:33:19 UTC 2012


Directory modules/hasim/timing-models/structures/branch/target_buffer/multi-entry
 btb-multi-entry.bsv       Locally Modified          183 

Directory modules/hasim/timing-models/structures/branch/predictor/n-bit
 n-bit-bp-alg.bsv          Locally Modified          183 

- Move pseudo-LRU update to the prediction flow instead of the training flow
  in BTB.  The only reason this wasn't done before was lack of write ports.
  Moved PLRU to its own storage.

- Add debugging output.

----------
mcadler     Date: Sun Oct  7 08:29:58 EDT 2012  CSN: CSN-hasim-models-185
                  Sun Oct  7 12:29:58 UTC 2012


Directory config/pm/hasim-models/pipeline/inorder
 inorder.apm               Locally Modified          184 

Directory modules/hasim/timing-models/pipeline/inorder/decode
 inorder-decode-stage.bsv  Locally Modified          184 

Directory modules/hasim/timing-models/pipeline/inorder/pccalc
 inorder-pccalc-stage.bsv  Locally Modified          184 

Directory modules/hasim/timing-models/pipeline/inorder/branch-predictor
 branch-predictor.bsv      Locally Modified          184 

Directory modules/hasim/timing-models/pipeline/inorder
 inorder-pipeline-front-end.bsv Locally Modified          184 

Directory modules/hasim/timing-models/pipeline/inorder/fetch
 inorder-fetch-stage.bsv   Locally Modified          184 

Directory modules/hasim/timing-models/pipeline/inorder/execute
 inorder-execute-stage.bsv Locally Modified          184 

Directory modules/hasim/timing-models/pipeline/inorder
 inorder-pipeline-front-end.awb Locally Modified          184 

Directory modules/hasim/timing-models/caches/translation-buffers/null
 itlb-null.awb             Locally Modified          184 
 itlb-null.bsv             Locally Modified          184 

Changes to inorder model:

- Back to back write then read of a register caused a one cycle bubble.
  Change the target machine to add a bypass for this case by setting
  "Exe_to_Dec_writeback" port latency to 0.

- Move branch predictor and BTB to the head of the pipeline, replacing
  the line predictor.

- Change fetch to ITLB latency to 2 to simulate 2 cycle branch prediction.

In typical programs, removing the terrible line predictor (always PC+4)
and replacing it with a branch predictor has no effect on performance!
This was especially true before adding the bypass for register-to-register.
The change does cause fewer rewinds, but the 3 cycle load to use bubble
slows the machine and the instruction queue hides many front end address
prediction problems.

----------
mcadler     Date: Thu Oct 11 08:05:06 EDT 2012  CSN: CSN-hasim-models-186
                  Thu Oct 11 12:05:06 UTC 2012


Directory modules/hasim/timing-models/pipeline/inorder/decode
 inorder-decode-prf-scoreboard.bsv Locally Modified          185 

Directory modules/hasim/timing-models/pipeline/inorder/commitq
 inorder-commitq-stage.bsv Locally Modified          185 

Improve performance by eliminating pipeline hazards in the timing model:

- More buffering in commit queue

- PRF valid tracking in decode stage serialized over 4 stages, making the
  minimum FMR 4.  There is a version of the tracker that eliminates the
  serialization completely, but it is much too expensive and takes hours
  to compile.  The new version reduces the conflict to a minimum of 2
  cycles by replicating the LUTRAM used to store valid bits -- effectively
  adding 2 more write ports.  A register is considered valid if its valid
  bit is set in any LUTRAM.

----------
mcadler     Date: Sun Dec 30 09:36:38 EST 2012  CSN: CSN-hasim-models-187
                  Sun Dec 30 14:36:38 UTC 2012


Directory modules/hasim/timing-models/chip
 single-core-chip.bsv      Locally Modified          186 

Add a name to the single core chip's local controller node.

----------
mcadler     Date: Mon Jan  7 13:59:17 EST 2013  CSN: CSN-hasim-models-188
                  Mon Jan  7 18:59:17 UTC 2013


Directory modules/hasim/timing-models/pipeline/inorder/instq
 inorder-instq-stage.bsv   Locally Modified          187 

Messy flow of 0 latency ports from instq->dec->instq (later pipeline stage)
works, but was creating a pipeline bubble because the FIFO inside instq
between the stages had less buffering than the path through decode.  Changed
stage3Ctrl to be buffered.

----------
mcadler     Date: Wed Feb 13 09:26:09 EST 2013  CSN: CSN-hasim-models-189
                  Wed Feb 13 14:26:09 UTC 2013


Directory modules/hasim/timing-models/structures/branch/target_buffer/multi-entry
 btb-multi-entry.bsv       Locally Modified          188 

Directory modules/hasim/timing-models/pipeline/inorder/dmem
 inorder-dmem-stage.bsv    Locally Modified          188 

Directory modules/hasim/timing-models/pipeline/inorder/decode
 inorder-decode-prf-scoreboard.bsv Locally Modified          188 
 inorder-decode-stage.bsv  Locally Modified          188 

Directory modules/hasim/timing-models/pipeline/inorder/commit
 inorder-commit-stage.bsv  Locally Modified          188 

Directory modules/hasim/timing-models/pipeline/inorder/execute
 inorder-execute-stage.bsv Locally Modified          188 

Directory modules/hasim/timing-models/pipeline/inorder/base-types
 inorder-pipeline-base-types.bsv Locally Modified          188 

Directory modules/hasim/timing-models/pipeline/out-of-order/commit
 ooo-commit-stage.bsv      Locally Modified          188 

Directory modules/hasim/timing-models/pipeline/smt/commit
 smt-commit-stage.bsv      Locally Modified          188 

Directory modules/hasim/timing-models/caches/l1-caches/base-types
 l1-cache-base-types.bsv   Locally Modified          188 

Directory modules/hasim/timing-models/caches/store-buffers/multi-entry
 store-buffer-multi-entry.bsv Locally Modified          188 

- Support Alpha store conditional
  - Register written as a side effect of doSpeculativeStore.  Add a port from
    store stage back to decode to note the register write (inorder model).
  - Handle squashed memory writes when store conditional fails.
  - Use new ISA destination register write masks to figure out when
    registers are written.  Replaces code that made assumptions based on
    instruction type.

- Change BTB pipeline to relax timing.

----------
mcadler     Date: Sat Feb 16 19:55:23 EST 2013  CSN: CSN-hasim-models-190
                  Sun Feb 17 00:55:23 UTC 2013


Directory modules/hasim/timing-models/pipeline/inorder/dmem
 inorder-dmem-stage.bsv    Locally Modified          189 

Directory modules/hasim/timing-models/pipeline/inorder/imem
 inorder-imem-stage.bsv    Locally Modified          189 

Directory modules/hasim/timing-models/caches/write-buffers/blocking
 write-buffer-blocking.bsv Locally Modified          189 

Directory modules/hasim/timing-models/uncore/memory-controller/latency-delay
 memory-controller-latency-delay.bsv Locally Modified          189 

Directory modules/hasim/timing-models/uncore/interconnects/torus
 icn-mesh.bsv              Locally Modified          189 

Fix some A-Ports that were not connected to local controllers.

----------
mcadler     Date: Fri Feb 22 15:57:17 EST 2013  CSN: CSN-hasim-models-191
                  Fri Feb 22 20:57:17 UTC 2013


Directory modules/hasim/timing-models/pipeline/inorder/decode
 inorder-decode-stage.bsv  Locally Modified          190 

Add a pipeline stage to relax FPGA timing.

----------
mcadler     Date: Fri Mar  1 14:06:01 EST 2013  CSN: CSN-hasim-models-192
                  Fri Mar  1 19:06:01 UTC 2013


Directory modules/hasim/timing-models/chip
 single-core-chip.bsv      Locally Modified          191 

Directory modules/hasim/timing-models/chip/base-types
 chip-base-types.awb       Locally Modified          191 
 chip-base-types.bsv       Locally Modified          191 

Directory modules/hasim/timing-models/structures/branch/target_buffer/multi-entry
 btb-multi-entry.bsv       Locally Modified          191 

Directory modules/hasim/timing-models/structures/branch/predictor/n-bit
 n-bit-bp-alg.bsv          Locally Modified          191 

Directory modules/hasim/timing-models/pipeline/inorder/line-predictor/nobranch
 nobranch-line-predictor.bsv Locally Modified          191 

Directory modules/hasim/timing-models/pipeline/inorder/dmem
 inorder-dmem-stage.bsv    Locally Modified          191 

Directory modules/hasim/timing-models/pipeline/inorder/decode
 inorder-decode-stage.bsv  Locally Modified          191 

Directory modules/hasim/timing-models/pipeline/inorder/pccalc
 inorder-pccalc-stage.bsv  Locally Modified          191 

Directory modules/hasim/timing-models/pipeline/inorder/branch-predictor
 branch-predictor.bsv      Locally Modified          191 

Directory modules/hasim/timing-models/pipeline/inorder/imem
 inorder-imem-stage.bsv    Locally Modified          191 

Directory modules/hasim/timing-models/pipeline/inorder/commit
 inorder-commit-stage.bsv  Locally Modified          191 

Directory modules/hasim/timing-models/pipeline/inorder/fetch
 inorder-fetch-stage.bsv   Locally Modified          191 

Directory modules/hasim/timing-models/pipeline/inorder
 inorder-pipeline.h        Locally Modified          191 

Directory modules/hasim/timing-models/pipeline/inorder/instq
 inorder-instq-stage.bsv   Locally Modified          191 

Directory modules/hasim/timing-models/pipeline/inorder/execute
 inorder-execute-stage.bsv Locally Modified          191 

Directory modules/hasim/timing-models/pipeline/inorder/commitq
 inorder-commitq-stage.bsv Locally Modified          191 

Directory modules/hasim/timing-models/pipeline/out-of-order/execute
 ooo-execute-stage.bsv     Locally Modified          191 

Directory modules/hasim/timing-models/pipeline/out-of-order/decode
 ooo-decode-stage-sequential.bsv Locally Modified          191 

Directory modules/hasim/timing-models/pipeline/out-of-order/commit
 ooo-commit-stage.bsv      Locally Modified          191 

Directory modules/hasim/timing-models/pipeline/smt/execute
 smt-execute-stage.bsv     Locally Modified          191 

Directory modules/hasim/timing-models/pipeline/smt/decode
 smt-decode-stage.bsv      Locally Modified          191 

Directory modules/hasim/timing-models/pipeline/smt/pccalc
 smt-pccalc-stage.bsv      Locally Modified          191 

Directory modules/hasim/timing-models/pipeline/smt/commit
 smt-commit-stage.bsv      Locally Modified          191 

Directory modules/hasim/timing-models/pipeline/smt/fetch
 smt-fetch-stage.bsv       Locally Modified          191 

Directory modules/hasim/timing-models/pipeline/smt
 smt-pipeline.h            Locally Modified          191 

Directory modules/hasim/timing-models/pipeline/smt/instq
 smt-instq-stage.bsv       Locally Modified          191 

Directory modules/hasim/timing-models/pipeline/unpipelined/with-cache
 unpipelined-pipeline-with-cache.h Locally Modified          191 
 unpipelined-pipeline-with-cache.bsv Locally Modified          191 

Directory modules/hasim/timing-models/pipeline/unpipelined/no-cache
 unpipelined-pipeline.h    Locally Modified          191 
 unpipelined-pipeline.bsv  Locally Modified          191 

Directory modules/hasim/timing-models/caches/l1-caches/l1-instruction-caches/alg
 l1-icache-alg-always-hit.bsv Locally Modified          191 
 l1-icache-alg-direct-mapped.bsv Locally Modified          191 
 l1-icache-alg-pseudorandom.bsv Locally Modified          191 

Directory modules/hasim/timing-models/caches/l1-caches/l1-instruction-caches
 l1-instruction-cache.bsv  Locally Modified          191 

Directory modules/hasim/timing-models/caches/l1-caches/l1-arbiters/static-priority
 l1-cache-arbiter-static-priority.bsv Locally Modified          191 

Directory modules/hasim/timing-models/caches/l1-caches/l1-data-caches/alg
 l1-dcache-alg-direct-mapped.bsv Locally Modified          191 
 l1-dcache-alg-pseudorandom.bsv Locally Modified          191 
 l1-dcache-alg-always-hit.bsv Locally Modified          191 

Directory modules/hasim/timing-models/caches/l1-caches/l1-data-caches/unpipelined
 l1-dcache-controller-unpipelined.bsv Locally Modified          191 

Directory modules/hasim/timing-models/caches/direct-mapped-dcache/direct-mapped-writeback-dcache
 dcache-direct-mapped-writeback.bsv Locally Modified          191 

Directory modules/hasim/timing-models/caches/direct-mapped-dcache/direct-mapped-writethrough-dcache
 dcache-direct-mapped-writethrough.bsv Locally Modified          191 

Directory modules/hasim/timing-models/caches/pseudorandom-caches
 icache-pseudorandom.bsv   Locally Modified          191 
 dcache-pseudorandom.bsv   Locally Modified          191 

Directory modules/hasim/timing-models/caches/write-buffers/blocking
 write-buffer-blocking.bsv Locally Modified          191 

Directory modules/hasim/timing-models/caches/store-buffers/multi-entry
 store-buffer-multi-entry.bsv Locally Modified          191 

Directory modules/hasim/timing-models/caches/store-buffers/smt-multi-entry
 store-buffer-smt-multi-entry.bsv Locally Modified          191 

Directory modules/hasim/timing-models/caches/direct-mapped-icache
 icache-direct-mapped.bsv  Locally Modified          191 

Directory modules/hasim/timing-models/caches/translation-buffers/null
 dtlb-null.bsv             Locally Modified          191 
 itlb-null.bsv             Locally Modified          191 

Directory modules/hasim/timing-models/caches/last-level-caches/alg
 llc-set-associative.bsv   Locally Modified          191 

Directory modules/hasim/timing-models/caches/last-level-caches/set-associative
 last-level-cache-set-associative.bsv Locally Modified          191 
 last-level-cache-no-coherence.bsv Locally Modified          191 

Directory modules/hasim/timing-models/caches/last-level-caches/null
 last-level-cache-null.bsv Locally Modified          191 

Directory modules/hasim/timing-models/caches/null-caches
 dcache-null.bsv           Locally Modified          191 
 icache-null.bsv           Locally Modified          191 

Directory modules/hasim/timing-models/core/cacheless-core
 core-no-cache.bsv         Locally Modified          191 

Directory modules/hasim/timing-models/memory
 memory-magic.bsv          Locally Modified          191 

Directory modules/hasim/timing-models/uncore
 uncore-magic-memory.bsv   Locally Modified          191 

Directory modules/hasim/timing-models/uncore/interconnects/ring
 icn-ring.bsv              Locally Modified          191 

Directory modules/hasim/timing-models/uncore/interconnects/torus
 icn-mesh.cpp              Locally Modified          191 
 icn-mesh.bsv              Locally Modified          191 

Directory modules/hasim/timing-models/uncore/interconnects/crossbar
 icn-crossbar.bsv          Locally Modified          191 

- Add AWB parameter MAX_NUM_MEM_CTRLS to allow more than one memory controller.
- Change NUM_CPUS to MAX_NUM_CPUS.

----------
mcadler     Date: Sun Mar  3 18:36:12 EST 2013  CSN: CSN-hasim-models-193
                  Sun Mar  3 23:36:12 UTC 2013


Directory modules/hasim/timing-models/uncore/memory-controller/latency-delay
 memory-controller-latency-delay.bsv Locally Modified          192 

Directory modules/hasim/timing-models/uncore/interconnects/torus
 icn-mesh.cpp              Locally Modified          192 
 icn-mesh.rrr              Locally Modified          192 
 icn-mesh.bsv              Locally Modified          192 

- The combination of core and memory controller local port connections
  in the mesh is now managed by the new join/split methods in hasim.
  This will allow us to have multiple memory controllers.

- Core vs. memory controller mapping is now computed in software and
  streamed in to hardware.  In its present form it is more of a test.
  Management of topology will move to a separate module.

- The memory controller is now connected using multiplexed A-ports.  It
  has not yet been tested managing more than one instance.

----------
mcadler     Date: Sat Mar 16 11:13:40 EDT 2013  CSN: CSN-hasim-models-194
                  Sat Mar 16 15:13:40 UTC 2013


Directory config/pm/hasim-models/pipeline/smt
 smt.apm                   Locally Modified          193 

Directory modules/hasim/timing-models/chip/multi-core
 multi-core-chip.h         Locally Modified          193 
 multi-core-chip.awb       Locally Modified          193 

Directory modules/hasim/timing-models/chip
 single-core-chip.awb      Locally Modified          193 
 topology/                 Locally Added               0 

Directory modules/hasim/timing-models/chip/topology
 std/                      Locally Added               0 

Directory modules/hasim/timing-models/chip/topology/std
 topology-std.dic          Locally Added               0 
 topology-std.cpp          Locally Added               0 
 topology-std.h            Locally Added               0 
 topology-std.awb          Locally Added               0 

Directory modules/hasim/timing-models/chip
 single-core-chip.h        Locally Modified          193 

Directory modules/hasim/timing-models/pipeline/inorder
 inorder-pipeline.h        Locally Modified          193 

Directory modules/hasim/timing-models/pipeline/smt/execute
 smt-execute-stage.bsv     Locally Modified          193 

Directory modules/hasim/timing-models/pipeline/smt
 smt-pipeline.dic          Locally Added               0 
 smt.awb                   Locally Modified          193 
 smt-pipeline.h            Locally Modified          193 

Directory modules/hasim/timing-models/pipeline/superscalar-out-of-order
 pipeline-6-stage.h        Locally Modified          193 

Directory modules/hasim/timing-models/pipeline/unpipelined/with-cache
 unpipelined-pipeline-with-cache.h Locally Modified          193 

Directory modules/hasim/timing-models/pipeline/unpipelined/no-cache
 unpipelined-pipeline.h    Locally Modified          193 

Directory modules/hasim/timing-models/caches/last-level-caches/set-associative
 last-level-cache-no-coherence.bsv Locally Modified          193 

Directory modules/hasim/timing-models/core/cacheless-core
 core-no-cache.dic         Locally Added               0 
 core-no-cache.h           Locally Modified          193 
 core-no-cache.awb         Locally Modified          193 

Directory modules/hasim/timing-models/core/core-with-cache
 core-with-cache.dic       Locally Added               0 
 core-with-cache.h         Locally Modified          193 
 core-with-cache.awb       Locally Modified          193 

Directory modules/hasim/timing-models/uncore
 uncore-with-interconnect.h Locally Modified          193 
 uncore-magic-memory.h     Locally Modified          193 
 uncore-with-interconnect.awb Locally Modified          193 
 uncore-with-interconnect.dic Locally Added               0 

Directory modules/hasim/timing-models/uncore/interconnects/torus
 icn-mesh.cpp              Locally Modified          193 
 icn-mesh.rrr              Locally Modified          193 
 icn-mesh.h                Locally Modified          193 
 icn-mesh.bsv              Locally Modified          193 

- New topology manager replaces some of the hierarchical MapContexts() calls
  used while setting up timing models.  The topology manager defines a top-level
  class as well as a self assembling list of subordinate topology objects.
  Topology objects are called by the toplogy manager, without having to
  maintain any hierarchy.

  - Management is in two passes:  InitTopology() and MapToplogy().
  - The top level manager builds a database of properties, indexed by
    dictionary entries within the TOPOLOGY domain.  This allows topology
    objects to add properties (UINT32's) to the namespace.
  - Topology objects must assume they will be called in an order unpredictable
    relative to other objects.
  - It is assumed that global properties will be set during the initialization
    phase in order to be available to all during the mapping phase.
  - Not yet done:  transmit properties to the FPGA.

- Add topology objects to core and uncore, defining the number of multiplexed
  cores and the number of memory controllers.

- Mesh model is a topology client.  More work needed to generalize passing
  of FPGA-side mesh setup.

- Mesh model now can take flexible dimensions but still only one memory
  controller.  The number of active CPUs must match the number of software
  threads.  Network positions that aren't CPUs and aren't memory controllers
  serve as pure routers with no locally connected device.

----------
mcadler     Date: Tue Mar 19 08:57:30 EDT 2013  CSN: CSN-hasim-models-195
                  Tue Mar 19 12:57:30 UTC 2013


Directory modules/hasim/timing-models/chip/multi-core
 multi-core-chip.bsv       Locally Modified          194 

Directory modules/hasim/timing-models/chip
 single-core-chip.bsv      Locally Modified          194 

Directory modules/hasim/timing-models/chip/topology/std
 topology-std.cpp          Locally Modified          194 
 topology-std.rrr          Locally Added               0 
 topology-std.h            Locally Modified          194 
 topology-std.awb          Locally Modified          194 
 topology-std.bsv          Locally Added               0 

Directory modules/hasim/timing-models/pipeline/smt
 smt-pipeline.h            Locally Modified          194 

Directory modules/hasim/timing-models/pipeline/superscalar-out-of-order
 pipeline-6-stage.h        Locally Modified          194 

Directory modules/hasim/timing-models/core/cacheless-core
 core-no-cache.h           Locally Modified          194 

Directory modules/hasim/timing-models/core/core-with-cache
 core-with-cache.h         Locally Modified          194 

Directory modules/hasim/timing-models/uncore
 uncore-with-interconnect.h Locally Modified          194 
 uncore-magic-memory.h     Locally Modified          194 

Directory modules/hasim/timing-models/uncore/interconnects/torus
 icn-mesh.dic              Locally Modified          194 
 icn-mesh.cpp              Locally Modified          194 
 icn-mesh.rrr              Locally Removed           194 
 icn-mesh.h                Locally Modified          194 
 icn-mesh.awb              Locally Modified          194 
 icn-mesh.bsv              Locally Modified          194 

- Topology mapper method now returns a bool indicating success.  This allows
  the mappers to be called in any order, even when one mapper depends on another.

- Add FPGA side of the topology mapper, streaming in state from software.
  The mapper provides both a register to hold a value and a streamer.

- Replace mesh model's RRR methods with generic toplogy mapper state.
